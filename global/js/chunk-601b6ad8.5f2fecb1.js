(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-601b6ad8"],{4372:function(e,t,n){},5036:function(e,t,n){"use strict";n("4372")},"599b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("l-map",{ref:"map",staticStyle:{"min-height":"300px"},attrs:{zoom:e.zoom,center:e.latLng(e.center)},on:{baselayerchange:e.onLayerChanged,click:e.onMapClick}},[n("l-control-layers",{attrs:{position:"topright",collapsed:!1,"sort-layers":!1}}),e._l(e.tileProviders,(function(e){return n("l-tile-layer",{key:e.name,attrs:{name:e.name,subdomains:e.subdomains,visible:e.visible,url:e.url,attribution:e.attribution,"layer-type":"base"}})})),e._l(e.mapElements,(function(t,r){return e.mapElements?n(t,{key:r,tag:"component"}):e._e()})),n(e.isMarkersCluster?"l-marker-cluster":"div",{tag:"component"},e._l(e.markers,(function(t){return n("l-marker",e._g(e._b({key:t.id,ref:"markers",refInFor:!0,attrs:{"lat-lng":t.latLng,"data-marker-id":t.id}},"l-marker",t.options,!1),e.getMarkerEvent(t)),[t.iconUrl?n("l-icon",{attrs:{"icon-size":t.iconSize||e.defaultIconSize,"icon-url":t.iconUrl}}):e._e(),t.popup?n("l-popup",{class:e.markers.popupClasses,style:t.popupStyles,attrs:{options:t.popupOptions}},["function"===typeof t.popup?n(t.popup(),{tag:"div"}):null!==t.popup&&"object"===typeof t.popup?n(t.popup,{tag:"component",attrs:{marker:t}}):"string"===typeof t.popup?n("component",{attrs:{marker:t},domProps:{innerHTML:e._s(t.popup)}}):e._e()],1):e._e()],1)})),1)],2)},l=[],o=n("c973"),s=n.n(o),a=n("e11e"),i=n("1d9c");n("95e5");const c=(e,t)=>{const n=i["a"].filter(e=>t.includes(e.name));return n.map(t=>(t.visible=e===t.name,t))};var u={name:"MapMarkerPicker",data(){return{tileProviders:c(this.defaultTile,this.enabledTiles),isFullscreen:!1}},props:{enabledTiles:{default:()=>["YandexMaps","OpenStreetMap","Google Sat","Google Streets","OpenTopoMap"]},defaultTile:{type:String,default:"YandexMaps"},markers:{type:Array,default:()=>[]},isMarkersCluster:{type:Boolean,default:!1},zoom:{type:Number,default:12},center:{type:Array,default:()=>[41.311081,69.240562]},mapElements:{type:Array,default:()=>null}},methods:{onLayerChanged(e){let t=L.CRS.EPSG3857;"YandexMaps"===e.name&&(t=L.CRS.EPSG3395),this.$refs.map.setCrs(t)},getFullScreenDependency(){var e=this;return s()((function*(){yield Promise.all([e.addStyle("https://unpkg.com/platon-leaflet-fullscreen@0.0.1/dist/style.css"),e.addScript("https://unpkg.com/platon-leaflet-fullscreen@0.0.1/dist/fullscreen.js")])}))()},getGeoCoderDependency(){var e=this;return s()((function*(){yield Promise.all([e.addStyle("https://unpkg.com/leaflet-geonames@0.4.9/L.Control.Geonames.css"),e.addScript("https://unpkg.com/leaflet-geonames@0.4.9/L.Control.Geonames.min.js")])}))()},initSearchControl(){var e=this;return s()((function*(){yield e.getGeoCoderDependency(),yield e.wait(500);const t=e.getMap(),n=L.control.geonames({position:"topleft",country:"UZ",geonamesSearch:"https://secure.geonames.org/searchJSON",geonamesPostalCodesSearch:"https://secure.geonames.org/postalCodeSearchJSON",username:"shohrux_saidov",maxresults:15,zoomLevel:null,className:"leaflet-geonames-icon",workingClass:"leaflet-geonames-icon-working",featureClasses:["A","H","L","P","R","S","V"],baseQuery:"isNameRequired=true",showMarker:!1,showPopup:!0,adminCodes:{country:"UZ"},bbox:{},lang:"uz",alwaysOpen:!1,title:"Search by location name or postcode",placeholder:"Enter a location name"});t.addControl(n)}))()},initFullControl(){var e=this;return s()((function*(){yield e.getFullScreenDependency(),yield e.wait(500),e.getMap().addControl(new L.Control.Fullscreen({title:{false:e.$l("fullScreen","Толиқ қилиб очиш"),true:e.$l("exitFromFullScreen","Тўлиқ экрандан чиқиш")},position:"topleft",forcePseudoFullscreen:!0,forceSeparateButton:!0,forcePseudoFullscreen:!0,fullscreenElement:!1}))}))()},wait(e){return s()((function*(){return new Promise(t=>{setTimeout(t,e)})}))()},initMapControls(){var e=this;return s()((function*(){yield e.initFullControl(),yield e.initSearchControl()}))()},latLng:a["latLng"],getMap(){return this.$refs.map.mapObject},onMapClick(e){this.$emit("click",this,e)},openPopup(e){for(let t of this.$refs.markers)if(t.$attrs["data-marker-id"]===e)return void t.mapObject.openPopup()},closePopup(e){for(let t of this.$refs.markers)if(t.$attrs["data-marker-id"]===e)return void t.mapObject.closePopup()},getMarkerEvent(e){let t={};return"function"===typeof e.onMarkerClick&&(t["click"]=()=>e.onMarkerClick(e)),t},externalFullscreenControl(){const e=this.getMap();window.mapMarker=e;const t=document.getElementsByClassName("leaflet-control-fullscreen-button leaflet-bar-part")[0];t.addEventListener("click",this.controlAnExternalToggling),document.addEventListener("fullscreenchange",()=>{!document.fullscreenElement&&this.isFullscreen&&this.closeFullscreen()})},controlAnExternalToggling(){window.mapMarker.isFullscreen()||this.isFullscreen?window.mapMarker.isFullscreen()&&this.isFullscreen&&this.closeFullscreen():this.openFullscreen()},closeFullscreen(){this.isFullscreen=!1,window.document.exitFullscreen(),this.getMap()._setFullscreen(!1)},openFullscreen(){this.isFullscreen=!0,this.getMap()._setFullscreen(!0)}},mounted(){var e=this;return s()((function*(){yield e.initMapControls(),e.externalFullscreenControl()}))()},computed:{defaultIconSize(){return[30,30]}}},p=u,d=(n("5036"),n("2877")),m=Object(d["a"])(p,r,l,!1,null,null,null);t["default"]=m.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("56d7")},"008a":function(e,t,n){"use strict";var i=n("c973"),o=n.n(i),r=n("9523"),a=n.n(r),s=n("5228"),l=n("b441"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ContextMenu"),n("TooltipManager")],1)},u=[],d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("ul",{ref:"contextMenu",staticClass:"dropdown dropdown-menu d-inline-block context-menu",style:e.positionStyle},[e.title?n("div",{staticClass:"font-weight-bold px-3 py-1"},[e._v(e._s(e.title))]):e._e(),e._l(e.options,(function(t,i){return n("dropdown-item",{key:i,attrs:{icon:t.icon},on:{click:function(n){t.handler(),e.visible=!1}}},[e._v(" "+e._s(t.text)+" ")])}))],2):e._e()},p=[],h=n("f2d5"),m={name:"ContextMenu",components:{DropdownItem:h["a"]},created(){this.$root.__context_menu=this},mounted(){window.addEventListener("click",this.clickOutside)},beforeDestroy(){window.removeEventListener("click",this.clickOutside)},data(){return{options:[],position:{},boxDimension:{x:0,y:0},title:"",visible:!1}},methods:{show(e,t,n){this.title=e,this.options=t,this.position=n,this.visible=t.length>0},clickOutside(e){this.visible&&(eventPath(e).some(e=>e===this.$refs.contextMenu)||(this.visible=!1))},getPositionForContextMenu(e,t,n){let i=n.x,o=i/2,r=t.x,a=e.x<o?0:-1,s=e.x+r*a;return s=0===a?Math.max(20,s):Math.min(n.x-r-20,s),{top:e.y+"px",left:s+"px"}}},computed:{positionStyle(){return this.getPositionForContextMenu(this.position,this.boxDimension,{x:window.screen.availWidth,y:window.screen.availHeight})}},watch:{visible(e,t){e&&this.$nextTick(()=>{let e=this.$refs.contextMenu.getBoundingClientRect();this.boxDimension={x:e.width,y:e.height}})}}},f=m,g=n("2877"),b=Object(g["a"])(f,d,p,!1,null,null,null),v=b.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.tooltipList,(function(t,i){return n("b-tooltip",{key:i,attrs:{"custom-class":"cell-tooltip",target:t.target,boundary:"window",triggers:"hover",show:""},domProps:{innerHTML:e._s(t.text)}},[n("span",{domProps:{innerHTML:e._s(t.text)}})])})),1)},_=[],w=n("b5a8"),O={name:"TooltipManager",mixins:[w["a"]],data(){return{tooltips:new Map,tooltipList:[]}},mounted(){this.$onEvent("PLATON:TOOLTIP:SHOW",this.showToolTip),this.$onEvent("PLATON:TOOLTIP:HIDE",this.hideTooltip)},methods:{showToolTip(e,t){this.tooltips.set(e,t),this.tooltipList=Array.from(this.tooltips.values())},hideTooltip(e){let t=this.tooltips.has(e);t&&this.tooltips.delete(e),this.tooltipList=Array.from(this.tooltips.values())}}},C=O,E=Object(g["a"])(C,y,_,!1,null,null,null),P=E.exports,k={name:"PlatonApp",components:{TooltipManager:P,ContextMenu:v}},x=k,A=Object(g["a"])(x,c,u,!1,null,null,null),T=A.exports,$=n("db44"),j=n("d88a"),S=n("fd2a"),D={methods:{createContextMenu(e,t){this.createContextMenuWithTitle(null,e,t)},createContextMenuWithTitle(e,t,n){this.$platonApp.__context_menu.show(e,t,{x:n.pageX,y:n.pageY})}}},L=n("2f62");function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M={computed:I(I({},Object(L["e"])({theme:e=>e.platon.theme,themeColor:e=>e.platon.themeColor})),{},{activeTheme(){return l["themeModes"].find(e=>e.key===this.theme)||l["themeModes"][0]}}),watch:{theme:{immediate:!0,handler(){document.documentElement.setAttribute("theme",this.activeTheme.key)}},themeColor:{immediate:!0,handler(e){const t=this.activeTheme.colors.find(t=>t.key===e)||this.activeTheme.colors[0];document.documentElement.setAttribute("color",t.key)}}}},R=n("79cf");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]=function(e,t){let i=t.router,r=document.createElement("div");document.body.append(r);const a=new e({mixins:[$["a"],S["a"],D,M],store:t.store,render:e=>e(T),name:"PlatonAppInstance",created:function(){Object(s["g"])(this.$bvToast)},computed:U(U({},Object(L["c"])({isAuth:"platon/isAuth"})),{},{langs(){return l["LANG_DEFINITION"]},currentLangInfo(){return this.langs.find(e=>e.code===this.currentLang)},currentLang(){return j["e"].locale}}),methods:U(U({},Object(L["d"])({changeLocale:"platon/changeLocale"})),{},{setLocale(e){var t=this;return o()((function*(){t.isAuth?t.$http.get("auth/change_user_locale/?locale="+e,{baseURL:l["API_BASE_URL"]}).then(()=>{t.changeLocale(e),Object(j["g"])(e)}):yield Object(j["g"])(e)}))()},toggleDevMode(){this.$store.commit("platon/setForceUserMode",!this.$store.state.platon.forceUserMode)},signWithEIMZO(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={};i.closed&&(o.closed=i.closed),i.timestampProvider||(i.timestampProvider=this.getTimestampForSignature),this.$modal.show(()=>n.e("chunk-e44c8c4a").then(n.bind(null,"e09c")),{signText:e,onSign:t,timestampProvider:i.timestampProvider,options:i},{height:"auto",width:Math.min(window.innerWidth-32,500)},o)},signAsLoggedUser(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{n=JSON.parse(localStorage.getItem("login_eimzo_key")||"{}"),n={loadedKey:n,certSerialNumber:n.cert.serialNumber}}catch(r){n={}}if(!n.certSerialNumber){let e=this.$store.state.platon.user;e&&(n.certSerialNumber=e.orgId||e.tin)}function o(e,n){localStorage.setItem("login_eimzo_key",JSON.stringify(n)),t&&t.apply(void 0,arguments)}this.signWithEIMZO(e,o,U(U({},i),n))},getTimestampForSignature(e,t){var n=this;return o()((function*(){try{const i=yield n.$api.post("auth/eimzo/timestamp",{pkcs7:e},{baseURL:l["API_BASE_URL"]});return t&&t(i.data),i.data.pkcs7b64}catch(i){return void n.errorToast(Object(j["a"])("platon.timestamp_error","Timestamp олишда хатолик"))}}))()},showLogoutDialog(e){var t=this;this.confirmAction(o()((function*(){let n=localStorage["login_url"]||t.$router.resolve({name:"login"}).href;yield t.setThemeToDefault(),yield t.$store.dispatch("platon/logout",{redirectUrl:n,afterLogout:e})})),{text:Object(j["a"])("platon.confirm_logout","Тизимдан чиқишни хоҳлайсизми?")})},setThemeToDefault(){var e=this;return o()((function*(){yield e.$store.commit("platon/setTheme",{theme:"platon",color:"platon"});const t=Object(R["a"])();t(e.$store.state.platon.theme)}))()}})}).$mount(r);return window.addEventListener("keyup",e=>{e.shiftKey&&e.ctrlKey&&e.keyCode===l["Keys"].D&&a.toggleDevMode()}),window.q=function(e){return i.currentRoute.query[e]},a}},"0118":function(e,t,n){"use strict";n("af87"),n("7d2c"),n("a1a5"),n("541d")},"0155":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("c973"),o=n.n(i),r=n("dd84");class a{constructor(e){this.options=e,this.plugins=new Set,this.handlers=Object.keys(r["a"]).reduce((e,t)=>(e[t]=new Set,e),{})}get app(){return this.options.router.app}get store(){return this.options.store}get $root(){return this.options.router.app.$root}preloadPlugins(e){for(let t of e)t instanceof Function?this.add(new t):t.plugin&&t.plugin instanceof Function&&this.add(new t.plugin)}add(e){if(this.plugins.has(e))throw new Error("Plugin has already loaded");e.load(this)}unload(e){var t=this;return o()((function*(){if(!t.plugins.has(e))throw new Error("Plugin has not loaded");yield e.unload(t)}))()}registerEvent(e,t){if(!this.handlers[e])throw new Error("Event does not exists");this.handlers[e].add(t)}unregisterEvent(e,t){if(!this.handlers[e])throw new Error("Event does not exists");this.handlers[e].delete(t)}triggerEvent(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return o()((function*(){if(!t.handlers[e])throw new Error("Event does not exists");let n=Array.from(t.handlers[e].values());for(let e of n)yield e.apply(void 0,[t].concat(i))}))()}}},"0237":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},o=[],r={name:"BlankComponent"},a=r,s=n("2877"),l=Object(s["a"])(a,i,o,!1,null,null,null);t["a"]=l.exports},"02f0":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"platon-dialog position-relative"},[n("div",{staticClass:"pmodal-title d-flex align-items-center modal-form-header",class:e.headerClass},[n("div",{staticClass:"flex-grow-1"},[e._t("title",(function(){return[e._v("Modal")]}))],2),e.canCancel?n("div",{staticClass:"cursor-pointer modal-close",on:{click:function(t){return e.$parent.$emit("close")}}},[n("i",{staticClass:"fa fa-times-circle"})]):e._e()]),n("div",{staticClass:"pmodal-body",class:e.slotClass},[e._t("default")],2),e.localHasFooter&&e.$slots.footer?n("div",{staticClass:"border-top",class:e.footerSlotClass},[e._t("footer")],2):e._e(),e.footerActions?n("div",{staticClass:"d-flex footer-actions form-modal-footer"},e._l(e.footerActions,(function(t,i){var o;return n("div",{key:"action"+i,staticClass:"text-center footer-action",class:(o={disabled:t.disabled},o[t.customclass]=t.customclass,o),style:{width:100/e.footerActions.length+"%"},on:{click:function(n){return e.handleAction(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!action.isLoading"}]},[t.icon?n("i",{class:t.icon}):e._e(),n("span",[e._v(e._s(t.text))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"action.isLoading"}],staticClass:"spinner-border spinner-border-sm text-primary ml-2",attrs:{role:"status"}})])})),0):e._e()])},o=[],r=n("c973"),a=n.n(r),s={name:"Modal",props:{slotClass:{default:"p-3 flex-grow-1"},headerClass:{},footerActions:{type:Array},footerSlotClass:{default:"p-3"},hasFooter:{default:!0},canCancel:{default:!0}},data(){return{localHasFooter:this.hasFooter}},methods:{handleAction(e){var t=this;return a()((function*(){if(e.disabled)return;let n="function"===typeof e.handler&&(yield e.handler(t.hideModal));!0!==n&&t.hideModal()}))()},hideModal(){this.$parent.$emit("close")}},watch:{hasFooter(e){this.localHasFooter=e}}},l=s,c=(n("eda6"),n("2877")),u=Object(c["a"])(l,i,o,!1,null,"4dffd370",null);t["a"]=u.exports},"0377":function(e,t,n){"use strict";function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ru-RU",n=[];for(let i=0;i<=e;i++)n[i]=new Intl.NumberFormat(t,{maximumFractionDigits:i});return n}n.d(t,"a",(function(){return r}));let o=i(4);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t<0||!e||t>4?e:o[t].format(Number(e)).replace(/\u00a0/g," ")}window.numberFormat=r},"0490":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("4328"),o=n.n(i);function r(e,t){return a(e,t.query)}function a(e,t){const n=new URL(e);let i=`${n.protocol}//${n.hostname}`;"http:"===n.protocol&&"80"!==n.port&&(i+=":"+n.port),"https:"===n.protocol&&"443"!==n.port&&(i+=":"+n.port);let r=`${i}${n.pathname}`,a="";if(n.search&&t){let e=o.a.parse(n.search.substr(1));Object.assign(e,t),a="?"+o.a.stringify(e,{arrayFormat:"brackets"})}return r+a}function s(e){try{var t=JSON.parse(e);if(t&&"object"===typeof t)return t}catch(n){}return e}function l(e){return"object"==typeof e?btoa(unescape(encodeURIComponent(JSON.stringify(e)))):btoa(unescape(encodeURIComponent(e)))}function c(e){let t=decodeURIComponent(escape(atob(e)));return s(t)}window.addParamsFrom=a,window.addParamsFromRoute=r},"0592":function(e,t,n){"use strict";n("1425")},"0616":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"AuthWithMFA"},[i("div",{staticClass:"AuthWithMFA__verification"},[i("img",{staticClass:"AuthWithMFA__icon",attrs:{alt:"Auth (2MFA) Application Provider logo",src:n("b879")}}),i("h3",{class:(e.state.isError&&"error")+" "+(e.state.verified?"succeeded":"")},[e._v(" "+e._s(e.$l("platon.enter-6-code","Иловадан 6 хонали кодни киритинг"))+" ")]),i("input",{ref:"inputRef",class:"AuthorizationWithMFA "+(e.state.isError?"error":"")+"  "+(e.state.verified?"succeeded":""),attrs:{maxlength:"6",placeholder:e.$l("platon.enter-6-code-placeholder","Кодни киритинг")},domProps:{value:e.filteredValue},on:{input:e.verifyAuthorizationViaMFA,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitAuthorizationDigits.apply(null,arguments)}}})])])},o=[],r={name:"AuthorizationWithMFA",props:{state:{default:function(){return{verified:!1,isError:!1}}}},data(){return{verificationModel:"",maxLength:6}},computed:{filteredValue(){return this.verificationModel.replace(/\D/g,"")}},methods:{verifyAuthorizationViaMFA(e){this.verificationModel=e.target.value,this.$emit("authorization",this.verificationModel)},submitAuthorizationDigits(){this.$emit("authorizationSubmit")}},watch:{"state.isError":function(){if(this.state.isError&&this.$refs.inputRef){const e=this.$refs.inputRef;e.focus()}}}},a=r,s=(n("eed8"),n("2877")),l=Object(s["a"])(a,i,o,!1,null,null,null);t["a"]=l.exports},"0950":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.platonLayout?n("div",{staticClass:"platon-layout",class:{sticky:e.isSticky}},[n("PlatonLeftMenu",{staticClass:"platon-left-menu"}),n("div",{staticClass:"flex-grow-1 content platon-scrollable-layout",class:{collapsed:e.menuCollapsed}},[n("PlatonTopbar",{staticStyle:{position:"sticky",top:"0"},scopedSlots:e._u([{key:"after-title",fn:function(){return[n("div",{staticClass:"px-2 topbar-bars-btn"},[n("b-btn",{staticClass:"topbar-btn",on:{click:e.collapseMenu}},[n("i",{staticClass:"fa fa-bars"})])],1)]},proxy:!0},{key:"before-lang",fn:function(){return[e._t("before-lang")]},proxy:!0}],null,!0)}),n("div",{staticStyle:{position:"sticky",top:"52px"}},[e._t("default")],2)],1)],1):n("div",[e._t("default")],2)},o=[],r=n("9523"),a=n.n(r),s=n("2f62"),l=n("cca0"),c=n("d87a"),u=n("dd84");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={name:"platon-layout",data(){return{isSticky:!1}},components:{PlatonTopbar:c["a"],PlatonLeftMenu:l["a"]},mounted(){window.addEventListener("scroll",this.onScroll),this.$plugins.triggerEvent(u["a"].SetUserTheme,this.$user)},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)},methods:p(p({},Object(s["d"])({collapseMenu:"platon/toggleMenuCollapse"})),{},{onScroll(){var e;const t=(null===(e=document.querySelector(".topbar"))||void 0===e?void 0:e.clientHeight)||50;this.isSticky=window.scrollY>t}}),computed:p(p({},Object(s["c"])({menuCollapsed:"platon/menuCollapsed"})),{},{platonLayout(){return!0===this.$route.meta.platonLayout}})},m=h,f=(n("4bb0"),n("2877")),g=Object(f["a"])(m,i,o,!1,null,"0a5a1104",null);t["a"]=g.exports},"09de":function(e,t,n){"use strict";n("7377")},"0cd9":function(e,t,n){"use strict";n("77da")},"0cf5":function(e,t,n){},"0d4f":function(e,t,n){"use strict";var i=n("c973"),o=n.n(i),r=n("b441");t["a"]={data(){return{keycloakLoading:!1,keycloak:null,keycloakReady:!1}},methods:{keycloakValidate(e){var t=this;return o()((function*(){try{const{keycloak:{client_id:n}}=t.$projectInfo.oauth2||{keycloak:{}},{data:i}=yield t.$api.post("/auth/oauth2-validate",{code:e,client_id:n,redirect_uri:window.location.href,grant_type:"authorization_code"},{baseURL:r["API_BASE_URL"],params:{method:"keycloak"}}),o=i.access_token;yield t.oauthLogin({token:o,method:"keycloak"})}catch(n){return Promise.reject(n)}}))()},loadKeycloak(){const{keycloak:{baseUrl:e,realm:t,client_id:n}}=this.$projectInfo.oauth2||{keycloak:{}},i={url:e,realm:t,clientId:n};return this.keycloakLoading=!0,new Promise((e,t)=>{this.addScript("https://cdn.jsdelivr.net/npm/keycloak-js@20.0.1/dist/keycloak.min.js",{async:!0,onload:()=>{try{this.keycloak=new Keycloak(i),window.$keyclok=this.$keycloak,this.keycloak.init({}).then(()=>{this.keycloakLoading=!1,e()})}catch(n){t(n)}}})})},loginWithKeycloak(){var e=this;return o()((function*(){e.keycloakLoading||(window.location.href=e.keycloak.createLoginUrl())}))()},getKeycloakCodeAndClearHash(){let e=null;const t=this.$route.hash;if(t){const[n,i]=t.split("code=");i&&(e=i,this.$router.replace({hash:""}))}return e},initKeycloak(){var e=this;return o()((function*(){const t=e.getKeycloakCodeAndClearHash();if(t)try{yield e.keycloakValidate(t)}catch(n){e.$emit("login-error","Keycloak орқали киришда хатолик юз берди. Қайта уриниб кўринг."),yield e.loadKeycloak()}else yield e.loadKeycloak();e.keycloakReady=!0}))()}}}},"0e2a":function(e,t,n){var i={"./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./ru":"957c","./ru.js":"957c","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c"};function o(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id="0e2a"},1:function(e,t){},"11bb":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({ref:"base",attrs:{errors:e.combinedErrors}},"BaseControl",e.$attrs,!1),[n("MultiKeyValueControl",{attrs:{definition:e.keyValue,"has-select":e.hasSelect},model:{value:e.rows,callback:function(t){e.rows=t},expression:"rows"}})],1)},o=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table table-bordered"},[n("thead",[n("tr",[e._l(e.definition,(function(t){return n("th",{key:t.key},[e._v(" "+e._s(t.value)+" ")])})),n("th")],2)]),e._l(e.rows,(function(t,i){return n("tr",{key:"row-"+i,staticClass:"position-relative"},[e._l(e.definition,(function(t){return n("td",{key:t.key},[e.hasSelect?n("div",{staticClass:"mtk-control",class:{"mtk-selectable":t.hasSelect}},[n("input",{staticClass:"mtk-control__input",attrs:{type:"text",placeholder:t.value.val},domProps:{value:"object"===typeof e.rows[i][t.key]?e.rows[i][t.key].val:e.rows[i][t.key]},on:{input:function(n){e.onInput(i),e.onInputChange(n.target.value,i,t.key)}}}),t.hasSelect?n("SelectControl",{staticClass:"mtk-control__select",attrs:{item:e.item},model:{value:e.rows[i].value.type,callback:function(t){e.$set(e.rows[i].value,"type",t)},expression:"rows[index].value.type"}}):e._e()],1):n("input",{directives:[{name:"model",rawName:"v-model",value:e.rows[i][t.key],expression:"rows[index][cell.key]"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:t.value},domProps:{value:e.rows[i][t.key]},on:{input:[function(n){n.target.composing||e.$set(e.rows[i],t.key,n.target.value)},function(){return e.onInput(i)}]}})])})),n("td",{staticClass:"remove",on:{click:function(){return e.rows.splice(i,1)}}},[n("i",{staticClass:"fa fa-times"})])],2)}))],2)},a=[],s=n("448a"),l=n.n(s),c=n("1cd1"),u={name:"MultiKeyValueControl",components:{SelectControl:c["a"]},props:{definition:{type:Array,default:()=>[]},value:{type:Array,default:()=>[]},hasSelect:{type:Boolean,default:!1}},data(){let e=[];return e.push.apply(e,l()(this.value)),e.push(this.hasSelect?{key:"",value:{val:"",type:"text"}}:{}),{rows:e,item:{data:[{id:"text",name:"Text"},{id:"file",name:"File"}]}}},methods:{onInput(e){e===this.rows.length-1&&this.rows.push(this.hasSelect?{key:"",value:{val:"",type:"text"}}:{})},onInputChange(e,t,n){"value"===n?this.rows[t][n].val=e:this.rows[t][n]=e}},watch:{rows:{handler(e){0===e.length&&e.push(this.hasSelect?{key:"",value:{val:"",type:"text"}}:{}),e.length>0&&(this.hasSelect?this.$emit("input",e.slice(0,e.length-1).map(e=>({key:e.key,value:e.value}))):this.$emit("input",e.slice(0,e.length-1)))},immediate:!0,deep:!0}}},d=u,p=(n("d525"),n("2877")),h=Object(p["a"])(d,r,a,!1,null,"10814de0",null),m=h.exports,f=n("98d1"),g=n("e117"),b=n("be1f"),v={name:"KeyValueControl",components:{BaseControl:f["a"],MultiKeyValueControl:m},mixins:[g["a"],b["a"]],props:{value:{type:Object}},data(){let e=[],t=this.item.isFormdata||!1;try{e=this.fromObjectToRows(this.value||{})}catch{}let n=[{key:"key",value:"Key",hasSelect:!0},{key:"value",value:"Value",hasSelect:!1}],i=[{key:"key",value:"Key"},{key:"value",value:"Value"}];return{keyValue:t?n:i,rows:e,hasSelect:t}},methods:{fromObjectToRows(e){return Object.keys(e).reduce((t,n)=>(t.push({key:n,value:e[n]}),t),[])},fromRowsToObject(e){return e.reduce((e,t)=>{var n,i,o,r;return void 0===t.key||"string"===typeof t.key&&!t.key.trim().length||(e[t.key]=this.hasSelect?{val:null!==(n=null===(i=t.value)||void 0===i?void 0:i.val)&&void 0!==n?n:null,type:(null===(o=t.value)||void 0===o?void 0:o.type)||"text"}:null!==(r=t.value)&&void 0!==r?r:""),e},{})}},watch:{rows(e){this.$emit("input",this.fromRowsToObject(e))}}},y=v,_=Object(p["a"])(y,i,o,!1,null,null,null);t["a"]=_.exports},"11e8":function(e,t,n){"use strict";var i=n("448a"),o=n.n(i);let r=new Map,a=0;window.addEventListener("keydown",e=>{if(27===e.keyCode&&!e.defaultPrevented){let t=r.size;if(t>0){e.preventDefault();let n=o()(r.values())[t-1];n.$emit("close")}}}),t["a"]={data(){return{stackIndex:a++}},mounted(){r.set(this.stackIndex,this)},beforeDestroy(){r.delete(this.stackIndex)}}},"12b0":function(e,t,n){"use strict";n("c6b8")},1320:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"filePreviewModal"},[n("Modal",{attrs:{"footer-actions":e.actions,"slot-class":"p-0 d-flex justify-content-center"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Файлни кўриш ")]},proxy:!0}])},[n(e.previewComponent+"-preview",{tag:"component",attrs:{url:e.fileUrl}})],1)],1)},o=[];class r{}const a=[r,Object];var s=n("02f0"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"imagePreview__holder"},[n("img",{staticClass:"imagePreview",attrs:{src:e.url}})])},c=[],u={name:"ImagePreview",props:{url:{required:!0,type:String}}},d=u,p=(n("7bee"),n("2877")),h=Object(p["a"])(d,l,c,!1,null,"0221b35e",null),m=h.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("object",{staticClass:"pdfViewer",attrs:{data:e.url,type:"application/pdf",width:"100%",height:"100%"}},[n("embed",{attrs:{src:e.url,type:"application/pdf"}})])},g=[],b={name:"PdfPreview",props:{url:{required:!0,type:String}}},v=b,y=(n("543c"),Object(p["a"])(v,f,g,!1,null,null,null)),_=y.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"videoPreview__holder"},[n("b-overlay",{staticClass:"d-inline-block",attrs:{show:e.isVideoLoading,rounded:"",opacity:"0.8","spinner-big":"","spinner-variant":"primary"}},[n("video",{ref:"videoPlayer",staticClass:"videoPreview",attrs:{controls:""}})])],1)},O=[],C={name:"VideoPreview",props:{url:{required:!0,type:String}},data(){return{isVideoLoading:!1}},mounted(){this.downloadAndSetVideo()},methods:{downloadAndSetVideo(){this.isVideoLoading=!0,this.$api.get(this.url,{responseType:"blob"}).then(e=>{if(!(e.status>=200&&e.status<=400))throw new Error("Video download failed with status "+e.status);{const t=URL.createObjectURL(e.data);this.setVideoSource(t)}}).catch(e=>{console.error("Video download error:",e)}).finally(()=>{this.isVideoLoading=!1})},setVideoSource(e){this.$refs.videoPlayer.src=e,this.$refs.videoPlayer.play()}}},E=C,P=(n("1953"),Object(p["a"])(E,w,O,!1,null,"ab53ba44",null)),k=P.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("This item can't be previewed")])},A=[],T={name:"NoPreview"},$=T,j=Object(p["a"])($,x,A,!1,null,null,null),S=j.exports;const D=["png","jpg","jpeg","gif","svg"],L=["mp4","mov","wmv","webm"];var F={name:"FilePreviewModal",components:{Modal:s["a"],ImagePreview:m,PdfPreview:_,VideoPreview:k,NoPreview:S},props:{remoteFile:{type:a,required:!0}},data(){return{}},computed:{previewComponent(){let e=this.remoteFile.extension||"";return D.includes(e)?"image":L.includes(e)?"video":"pdf"===e?"pdf":"no"},fileUrl(){return this.$platonFile(this.remoteFile.id)},actions(){return[{text:"Юклаб олиш",icon:"fa fa-download",handler:()=>{this.$downloadFile(this.remoteFile.id)}},{text:"Ойнани ёпиш",icon:"fa fa-times"}]}}},I=F,M=(n("3c35"),Object(p["a"])(I,i,o,!1,null,"f13fba24",null)),R=M.exports;t["a"]={methods:{openFilePreviewModal(e){this.$modal.show(R,{remoteFile:e},{height:"90%",width:window.innerWidth<768?window.innerWidth-40:600,maxHeight:.9*window.innerHeight})}}}},"13b0":function(e,t,n){"use strict";n("e74d")},1425:function(e,t,n){},1650:function(e,t,n){"use strict";n("0cf5")},1832:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var i=n("b441");let o=new Map;function r(e){if(o.has(e))return o.get(e);{let t=new Function(`return (${e})`);return o.set(e,t),t}}function a(e){if(o.has(e))return o.get(e);{let t=e.trim().replace(/@/g,"this.")||"1";i["IS_DEV"]&&console.log("Generated fn:",t);let n=new Function(`return (${t})`);return o.set(e,n),n}}function s(e,t){let n=t.join(","),r=n+e;if(o.has(r))return o.get(r);{let t=e.replace(/@/g,"this.");i["IS_DEV"]&&console.log("Generated fn:",t);let a=new Function(n,"return "+t);return o.set(r,a),a}}function l(e,t){if(o.has(e))return o.get(e);try{let n=new Function(t.join(","),e);return o.set(e,n),n}catch(n){return null}}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.keys(n),o=Object.values(n),r=l(e,i);return null===r||void 0===r?void 0:r.call.apply(r,[t].concat(o))}},"18c8":function(e,t,n){"use strict";n("a329")},"18e0":function(e,t,n){"use strict";(function(e){var i=n("9523"),o=n.n(i),r=n("c973"),a=n.n(r),s=n("e816"),l=n("1881"),c=n.n(l),u=n("2b88"),d=n.n(u),p=n("4fd8"),h=(n("bc3a"),n("f284"),n("64f5")),m=(n("0490"),n("0118"),n("247e"),n("1dce")),f=n.n(m),g=n("b951"),b=n("d88a"),v=n("5228"),y=n("cbf3"),_=n("3af9"),w=n("5f5b"),O=n("b441"),C=n("0377"),E=n("eef4"),P=n("5479"),k=n("dd84"),x=n("1924"),A=n("3f1c"),T=n("dba7"),$=n("2ce5"),j=n("6926"),S=n("1a6c"),D=n("5887"),L=n.n(D);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const M=O["PLATON_LOGIN_PAGE"]||Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_LOGIN_PAGE;function R(e,t){if(M.match(/^(http|https)/gi))return window.location.href=M,null;{let n=void 0;return t&&"login"!==t.name&&(n=t.fullPath),e.push({path:M,query:{next:n}})}}let N=!1;function U(e,t){return V.apply(this,arguments)}function V(){return V=a()((function*(e,t){try{const t=yield $http.get("/info",{baseURL:O["API_BASE_URL"]});e.prototype.$projectInfo=t.data,t.data&&t.data.components&&t.data.components.map(t=>{e.component(t.name,Object(j["a"])(t)),t.css&&e.prototype.addCss(void 0,t.css)})}catch(n){Object(E["b"])(n.message)}})),V.apply(this,arguments)}const B={registerRoutes(e,t,n){window.Vue=window.PlatonVue=e;let{store:i}=n;Object(y["d"])(t,n),t.beforeEach(function(){var n=a()((function*(n,o,r){if(Object(O["DevLog"])("PlatonRouteBeforeEach",n,o),N||(yield U(e,r),N=!0),!1===n.meta.auth||!0===n.meta.publicRoute){if("home"!==n.name)return r();if(e.prototype.$projectInfo.has_main)return r()}const a=!!localStorage.getItem("auth_user")&&!!localStorage.getItem("auth_token");if(Object(O["DevLog"])("PlatonRouteBeforeEach:hasCredentials",a),!a&&"/"===n.path&&e.prototype.$projectInfo&&e.prototype.$projectInfo.has_main)return r();if(!a&&"login"!==n.name)return R(t,n);if((!a||"login"===n.name)&&M.startsWith("http"))return R(t,n);if(a&&!i.state.platon.isAuth)try{yield PlatonPluginCore.triggerEvent(k["a"].BeforeAuth);let e=yield $api("auth/user_info",{baseURL:O["API_BASE_URL"]}),t=localStorage.getItem("auth_token");e=e.data,i.commit({type:"platon/doLogin",token:t,user:e,saveLoginPage:!1}),yield PlatonPluginCore.triggerEvent(k["a"].AfterAuth,e,t)}catch(s){if(Object(E["b"])(s.message),s.response&&s.response.status&&s.response.status>=400&&s.response.status<500)return localStorage.removeItem("auth_user"),localStorage.removeItem("auth_token"),R(t,n)}return t.afterEach((e,t)=>{let n=e.query.locale;n&&Object(b["c"])(n)&&(b["e"].locale=n)}),r()}));return function(e,t,i){return n.apply(this,arguments)}}())},registerChimera(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,{store:o,router:r}=i;t.axios||(t.axios=Object(_["a"])(n));let a=t.axios;a.interceptors.response.use(null,e=>{let t=i.router.currentRoute;return t&&t.meta&&!1===t.meta.auth||e.response&&401===e.response.status&&(o.commit("platon/doLogout"),R(r,t)),Promise.reject(e)}),e.use(p["a"],I({},t)),Object(v["f"])(a),Object(v["h"])((function(){return o.getters["platon/user"]}))},install(e,t){Object(y["c"])(),Object(y["b"])(e),t.sidebarFooter&&e.component("custom-sidebar-footer",t.sidebarFooter),t.sidebarProfile&&e.component("custom-sidebar-profile",t.sidebarProfile),t.sidebarMenu&&e.component("custom-sidebar-menu",t.sidebarMenu),t.topbarRight?e.component("custom-topbar-right",t.topbarRight):e.component("custom-topbar-right",P["a"]),t.loginPageContacts?e.component("login-page-contacts",t.loginPageContacts):e.component("login-page-contacts",x["a"]),t.topbarLeft&&e.component("custom-topbar-left",t.topbarLeft),t.sidebarProject&&e.component("custom-sidebar-project",t.sidebarProject),e.filter("prettyBytes",h["t"]),e.filter("time",h["g"]),e.filter("numberFormat",C["a"]),e.directive("imask",A["a"]),e.directive("click-outside",S["a"]),e.use(f.a),e.use(w["a"]),e.use(L.a),this.installDatePicker(),e.use(c.a),e.use(d.a),t.axiosOptions||(t.axiosOptions={baseURL:O["SERVER_ENDPOINT"]}),this.registerChimera(e,t.chimeraOptions,t.axiosOptions,t),t&&(t.store&&t.store.registerModule("platon",s["a"]),t.router&&this.registerRoutes(e,t.router,t)),Object(y["a"])(e,t),e.mixin(g["a"]),Object(b["d"])(),new e({router:t.router,store:t.store,render:e=>e(T["a"]),mixins:[$["a"]]}).$mount("#app")},installDatePicker(){e.extend(!0,e.fn.datetimepicker.defaults,{icons:{time:"far fa-clock",date:"far fa-calendar-alt",up:"fas fa-arrow-up",down:"fas fa-arrow-down",previous:"fas fa-chevron-left",next:"fas fa-chevron-right",today:"fas fa-calendar-check",clear:"far fa-trash-alt",close:"far fa-times-circle"}})}};t["a"]=B}).call(this,n("1157"))},1924:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center mt-4"},[n("div",{staticClass:"text-gray d-flex flex-row justify-content-center align-center",staticStyle:{gap:"40px"}},[n("div",{staticClass:"d-flex flex-column align-items-start"},[n("a",{staticClass:"d-flex align-items-center",attrs:{href:e.CONTACT_TELEGRAM,target:"_blank"}},[n("i",{staticClass:"fab fa-telegram-plane mr-2",staticStyle:{"font-size":"20px"}}),e._v(" "+e._s(e.CONTACT_PHONE)+" ")])])])])},o=[],r=n("b441"),a={name:"LoginPageContacts",data(){return{CONTACT_PHONE:r["CONTACT_PHONE"],CONTACT_TELEGRAM:r["CONTACT_TELEGRAM"]}}},s=a,l=n("2877"),c=Object(l["a"])(s,i,o,!1,null,null,null);t["a"]=c.exports},1943:function(e,t,n){"use strict";var i=n("c1df"),o=n.n(i);t["a"]={methods:{addDays(e){this.local=o()(this.local,this.dateFormat).add(e,"day").format(this.dateFormat)},onPickerShow(){}}}},1953:function(e,t,n){"use strict";n("fcf1")},"1a6c":function(e,t,n){"use strict";t["a"]={bind:function(e,t,n){e.clickOutsideEvent=function(i){e==i.target||e.contains(i.target)||n.context[t.expression](i)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}},"1cd1":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({attrs:{errors:e.combinedErrors,appendElements:(e.item||{}).addonElementsRight,prependElements:(e.item||{}).addonElementsLeft}},"BaseControl",e.$attrs,!1),[n("select",{ref:"select",staticClass:"form-control",attrs:{disabled:e.isDisabled,readonly:e.readonly}})])},o=[],r=n("a812"),a=r["a"],s=n("2877"),l=Object(s["a"])(a,i,o,!1,null,null,null);t["a"]=l.exports},"1ef7":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({ref:"base",attrs:{appendElements:(e.item||{}).addonElementsRight,prependElements:(e.item||{}).addonElementsLeft,errors:e.combinedErrors}},"BaseControl",e.$attrs,!1),[n("vue-simple-suggest",e._b({ref:"input",attrs:{list:e.suggestions,value:e.maskedValue},on:{select:e.onSuggestionSelect,"update:value":function(t){e.maskedValue=t}},scopedSlots:e._u([{key:"suggestion-item",fn:function(t){return e.suggestionTemplate?n(e.suggestionTemplate,e._b({tag:"div"},"div",t,!1)):e._e()}}],null,!0)},"vue-simple-suggest",e.suggestionOptions,!1),[n("input",{staticClass:"form-control",class:e.classes,attrs:{type:e.type,disabled:e.disabled,readonly:e.readonly,autocomplete:e.$attrs.autocomplete||"none",id:e.id,placeholder:e.placeholder,inputmode:e.$attrs.inputmode||""},domProps:{value:e.maskedValue},on:{"update:value":function(t){e.maskedValue=t},input:function(t){return e.onInput(t.target.value)}}})])],1)},o=[],r=n("c973"),a=n.n(r),s=n("98d1"),l=n("e117"),c=n("0d16"),u=n("be1f"),d=n("5111"),p=n("b047c"),h=n.n(p),m=n("bc3a"),f=n.n(m),g={name:"TextControl",components:{BaseControl:s["a"],VueSimpleSuggest:d["a"]},mixins:[l["a"],u["a"]],props:{},data(){return{maskedValue:null,mask:null,maskFilled:!1,autoCompleteStyle:{vueSimpleSuggest:"position-relative flex-grow-1",inputWrapper:"",defaultInput:"form-control",suggestions:"position-absolute list-group",suggestItem:"list-group-item"}}},mounted(){this.maskedValue=this.local,this.$watch("local",(e,t)=>{this.mask?this.updateMaskValue(void 0===e||null===e?"":e):this.mask||(this.maskedValue=e)},{immediate:!0}),this.$refs.base.$el.querySelector("input").setAttribute("autocomplete",this.$attrs.autocomplete||"list")},methods:{assignMask(e){if(!e)return void(this.mask=null);if("object"===typeof e)return void(this.mask=c["a"].createMask(e));let t=e.startsWith("/")&&e.endsWith("/");this.mask=c["a"].createMask({mask:t?new RegExp(e.substr(1,e.length-2)):e})},updateSuggestionsFromUrl:h()(a()((function*(){try{let e;if("function"===typeof this.suggestionsUrl){const e=yield this.suggestionsUrl(this.value);let t=[];t="function"===typeof e?yield e():Array.isArray(e)?e:(yield f.a.request(e)).data,this.$set(this.item,"data",t)}else e=yield this.$api.get(this.suggestionsUrl,{params:{text:this.value}}),this.$set(this.item,"data",e.data.data);Array.isArray(this.item.data)&&this.item.data.length>0?this.$nextTick(()=>{this.$refs.input.research(),this.$refs.input.showSuggestions()}):this.$nextTick(this.$refs.input.hideList)}catch(e){console.error("Failed to load suggestions",e.message)}})),500),onInput(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!t&&this.suggestionsUrl&&this.updateSuggestionsFromUrl(),this.markAsDirty(),this.mask?this.updateMaskValue(e):(this.maskedValue=e,this.updateLocal(e))},updateMaskValue(e){this.maskFilled=!this.mask.isComplete,this.mask.resolve(e.toString()),this.maskedValue=this.mask.value,this.updateLocal(this.mask.unmaskedValue),this.$nextTick(()=>{this.$forceUpdate()})},onValueUpdate(e,t){this.mask&&e&&this.mask&&this.updateMaskValue(e)},onSuggestionSelect(e){let t=this.$refs.input.valueAttribute||"name";"function"===typeof this.item.onSuggestionSelect&&this.item.onSuggestionSelect(e[t],e),this.onInput(e[t],!0)},focusField(){let e=this.$el.querySelector("input");e&&(this.$refs.input.isInFocus=!0,e.focus({preventScroll:!0}))}},computed:{classes(){return["text-"+(this.item&&this.item.textAlign||"left")]},type(){return this.attrs.type||"text"},suggestionTemplate(){return this.item&&this.item.suggestionTemplate&&"object"===typeof this.item.suggestionTemplate?Object.assign({props:["suggestion","query","autocomplete"]},this.item.suggestionTemplate):null},suggestionsUrl(){return this.item&&this.item.suggestionsUrl},suggestionOptions(){let e="name";this.item&&Array.isArray(this.item.data)&&this.item.data.length>0&&(e=Object.keys(this.item.data[0]).includes("id")?"id":"name");let t={"filter-by-query":!0,"display-attribute":"name","value-attribute":e,"min-length":this.item&&Array.isArray(this.item.data)&&this.item.data.length>0?0:1,styles:this.autoCompleteStyle};return this.item&&this.item.suggestionOptions&&"object"===typeof this.item.suggestionOptions?Object.assign(t,this.item.suggestionOptions):t},suggestions(){return this.item&&Array.isArray(this.item.data)?this.item.data.filter(e=>e.name!==this.value):null}},watch:{"item.mask":{immediate:!0,handler(e){this.item&&this.assignMask(this.item.mask)}}}},b=g,v=n("2877"),y=Object(v["a"])(b,i,o,!1,null,null,null);t["a"]=y.exports},"1fbb":function(e,t,n){},"20ab":function(e,t,n){"use strict";n("7507")},"255b":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error"},[n("h1",{staticClass:"head"},[e._v("404")]),n("h3",{staticClass:"body"},[e._v(e._s(e.$l("platon.page_not_found","Саҳифа топилмади")))]),n("router-link",{staticClass:"mt-3 btn btn-primary",attrs:{to:"/"}},[e._v(e._s(e.$l("platon.back_to_home","Бош саҳифага қайтиш"))+" ")])],1)},o=[],r={name:"PlatonNotFoundPage"},a=r,s=(n("a4b1"),n("2877")),l=Object(s["a"])(a,i,o,!1,null,"2c1f00af",null);t["default"]=l.exports},"26a3":function(e,t,n){},"26df":function(e,t,n){},2798:function(e,t,n){},"2a70":function(e,t,n){},"2b2d":function(e,t,n){},"2b8a":function(e,t,n){"use strict";n("b92e")},"2bbd":function(e,t,n){},"2ce5":function(e,t,n){"use strict";var i=n("c973"),o=n.n(i),r=n("7c03"),a=n("b441"),s=n("64f5"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{"footer-actions":e.actions},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",[e._v(e._s(e.$l("platon.import_modal_title","Маълумотларни импорт қилиш")))])]},proxy:!0}])},[e.meta?n("div",[e._v(" "+e._s(e.meta.note)+" "),n("div",{staticClass:"form-row"},[n("div",{staticClass:"col-12"},[n("UploadArea",{ref:"uploadArea",staticClass:"my-3",attrs:{"upload-endpoint":e.importEndpoint},model:{value:e.selectedFile,callback:function(t){e.selectedFile=t},expression:"selectedFile"}})],1),e.meta.templateFileId?n("div",{staticClass:"col-6"},[n("div",{staticClass:"btn btn-primary d-flex align-items-center",on:{click:function(t){return e.$downloadFile(e.meta.templateFileId)}}},[n("i",{staticClass:"fa fa-file-excel pr-1"}),e._v(" Шаблонни юклаб олиш ")])]):e._e(),e.meta.sampleFileId?n("div",{staticClass:"col-6"},[n("div",{staticClass:"btn btn-primary d-flex align-items-center",on:{click:function(t){return e.$downloadFile(e.meta.sampleFileId)}}},[n("i",{staticClass:"fa fa-file-excel pr-1"}),e._v(" Наъмунани юклаб олиш ")])]):e._e()])]):e._e()])},c=[],u=n("02f0"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-area p-3 d-flex align-items-center justify-content-center flex-column h4 cursor-pointer",class:{dragging:e.dragging},on:{drop:function(t){return t.preventDefault(),e.onFileDrop.apply(null,arguments)},dragover:function(t){t.preventDefault(),e.dragging=!0},dragleave:function(t){t.preventDefault(),e.dragging=!1},click:function(t){return e.$refs.input.click()}}},[e._m(0),n("div",[e._v(e._s(e.$l("platon.form_file_upload","Файл юклаш")))]),n("input",{ref:"input",attrs:{type:"file",hidden:""},on:{change:e.onFileSelected}}),e.file?n("div",{staticClass:"text-center mt-3 h6"},[e._v(e._s(e.file.name)+", "+e._s(e._f("prettyBytes")(e.file.size)))]):e._e(),e.uploading?n("div",{staticClass:"text-center"},[e._v(e._s(e.uploadPercent)+"%")]):e._e()])},p=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("i",{staticClass:"fa fa-upload",staticStyle:{"font-size":"2rem"}})])}],h={name:"UploadArea",props:{value:{},uploadEndpoint:{type:String,required:!0}},data(){return{file:null,uploading:!1,uploadPercent:0,dragging:!1}},mounted(){},methods:{onFileDrop(e){this.dragging=!1;let t=e.dataTransfer.files;t&&(this.file=t.item(0),this.$refs.input.files=[this.file])},onFileSelected(e){this.file=this.$refs.input.files[0]},upload(){var e=this;return o()((function*(){e.uploading=!0;let t=new FormData;t.append("file",e.file),yield e.$http.post(e.uploadEndpoint,t,{baseURL:"/",onUploadProgress:t=>{e.uploadPercent=Math.round(100*t.loaded/t.total)}}),e.uploading=!1}))()}},watch:{file:{handler(e){this.$emit("input",e)}}}},m=h,f=(n("64f2"),n("2877")),g=Object(f["a"])(m,d,p,!1,null,"4c2b7503",null),b=g.exports,v={name:"ImportFileDialog",components:{UploadArea:b,Modal:u["a"]},props:{localRoute:{type:Object}},data(){return{selectedFile:null}},chimera:{importMeta(){return{baseURL:"/",url:this.importEndpoint}}},created(){},computed:{actions(){return[{text:"Файлни юклаш",disabled:!this.selectedFile,handler:()=>(this.$refs.uploadArea.upload().then(()=>{this.$platonApp.greenToast(this.$l("platon.toast_success_imported","Маълумотлар импорт қилинди")),this.$emit("close")}).catch(()=>{this.$platonApp.errorToast("Маълумотлар импорт қилишда хатолик")}),!0)},{text:"Бекор қилиш"}]},meta(){return this.$chimera.importMeta.data},importEndpoint(){return a["API_BASE_URL"]+Object(s["w"])(this.localRoute.fullPath)}}},y=v,_=Object(f["a"])(y,l,c,!1,null,null,null),w=_.exports,O=n("95dc");const C=new Map;t["a"]={methods:{registerLinkHandler(e){C.set(this,e)},unregisterLinkHandler(){C.delete(this)},navigateTo(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return o()((function*(){if(!e)return;if(e=t.replaceParametrizedText(e,n),e.match(/^(http|https)/gi))return void window.open(e,"_blank");e=Object(s["a"])(e);let o=t.$router.resolve(e);yield t.navigateToRoute(o.route,i)}))()},navigateToRoute(e,t){var n=this;return o()((function*(){if(t=t||window,!e.query._mid&&n.$route.query._mid&&(e.query._mid=n.$route.query._mid),C.size>0){let t=Array.from(C.values()).some(t=>t(e));if(t)return}if(e.fullPath.startsWith("/import/"))yield n.handleImport(e);else if("form"===e.name||"page"===e.name){let i="form"===e.name?"blank":"self";yield n.handleViewsInModal(e,t,i)}else if("system"===e.name)"/system/logout"===e.path&&n.$platonApp.showLogoutDialog();else{let i=e.query["_target"]||"";if(i.includes("blank"))return void t.open(t.location.origin+n.$router.history.base+e.fullPath,"_blank");yield n.$router.push(e)}}))()},handleViewsInModal(e,t){var i=this;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"blank";return o()((function*(){let o=e.query["_target"]||r||"blank";if("self"===o)yield i.$router.push(e);else if(o.startsWith("modal")){let t=0;try{t=Number(/modal_(\d+)/g.exec(o)[1])}catch(a){}let r,l=0===t?"80%":t>100?t+"px":t+"%";r="form"===e.name?()=>({component:Promise.all([n.e("chunk-2d0e13b2"),n.e("chunk-4a6c4acc")]).then(n.bind(null,"4c39")),loading:O["a"],delay:200}):()=>({component:Promise.all([n.e("chunk-2d0ba88e"),n.e("chunk-2d0c08f0")]).then(n.bind(null,"41fc")),loading:O["a"],delay:200}),i.$modal.show(r,{route:e},{draggable:!Object(s["m"])()&&".modal-form-header",width:l,height:"auto",scrollable:!0,classes:["form-modal"],clickToClose:!1})}else t.open(t.location.origin+i.$router.history.base+e.fullPath,"_blank")}))()},resolveNavigateTo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};if(e=this.replaceParametrizedText(e,t),null===e||void 0===e)return{};if(e.startsWith("export/"))return{type:"external",target:"self",link:Object(a["EXPORT_RESOURCE_URL"])(e.substr(7))};let n=e.match(/_target=(\w+)/);if(n&&n[1]&&(n=n[1]),e.match(/^(http|https)/gi))return{type:"external",link:e,target:n};e=Object(s["a"])(e);let i=this.$router.resolve(e);return i&&i.route?{type:"internal",link:i.route.fullPath,target:n,route:i.route}:{type:"internal",link:e,target:n}},replaceParametrizedText(e,t){return r["a"].replace(e,t)},replaceDefaultLinkWithRouter(e,t){e&&e.querySelectorAll("a").forEach(e=>{e.href=this.resolveNavigateTo(e.href,t).link||e.href,e.addEventListener("click",e=>{e.preventDefault(),this.navigateTo(e.target.href,t)})})},openPlatonPage(e,t){let n=this.$router.resolve({name:"page",params:{name:e},query:t});n&&this.handleViewsInModal(n.route,window,"self")},openPlatonForm(e,t){let n=this.$router.resolve({name:"form",params:{name:e},query:t});n&&this.handleViewsInModal(n.route,window)},handleImport(e){this.$modal.show(w,{localRoute:e},{width:500,height:"auto"})}}}},3243:function(e,t,n){"use strict";n("f059")},"370b":function(e,t,n){"use strict";var i=n("c973"),o=n.n(i),r=n("64f5"),a=n("b441"),s=n("e117"),l=n("bc3a"),c=n.n(l),u=n("fd2a"),d=n("c1df"),p=n.n(d),h=n("db44"),m=n("9686");n("46e1");const f=c.a.CancelToken;t["a"]={mixins:[s["a"],u["a"],h["a"]],props:{remote:{}},data(){return{selectedFile:null,isUploading:!1,isUploadError:!1,remoteFile:this.remote,cancel:null,uploadProgress:0}},methods:{onFileSelected(e){var t=this;return o()((function*(){if(!e)return void(a["IS_DEV"]&&console.log("File not selected"));const n=e.size>Object(m["c"])(t.item.maxSize),i=e.type.includes("image");if(n&&i)e=yield t.compress(e,1200,1e3,"image/jpeg",1);else if(n&&!i)return void Object(m["b"])(t.item.maxSize);return t.selectedFile=e,t.uploadFile()}))()},uploadFile(){var e=this;return o()((function*(){let t;e.isUploading=!0,e.isUploadError=!1,e.cancel=f.source();const n=new FormData;n.append("form_element_id",e.$attrs["element-id"]),n.append("form_element_project_id",e.item.projectId),n.append("file",e.selectedFile);try{const i=yield e.$http({baseURL:a["API_BASE_URL"],method:"post",url:e.$route.path.startsWith("/public")?a["PRIVATE_UPLOAD_ENDPOINT"]:a["UPLOAD_ENDPOINT"],data:n,cancelToken:e.cancel.token,onUploadProgress:t=>{e.uploadProgress=Math.round(100*t.loaded/t.total)}});e.updateLocal(i.data.id),e.remoteFile=i.data,e.previewUploaded=!0,t=i.data}catch(i){e.isUploadError=!0,c.a.isCancel(i)||e.errorToast(i.message)}finally{e.cancel=null,e.isUploading=!1}return t}))()},displayInfo(e,t){a["IS_DEV"]&&console.log(`${e} - ${Object(r["t"])(t.size)}`)},calculateSize(e,t,n){let i=e.width,o=e.height;return i>o?i>t&&(o=Math.round(o*t/i),i=t):o>n&&(i=Math.round(i*n/o),o=n),[i,o]},compress(e,t,n,i,o){const r=this;return new Promise((a,s)=>{const l=new Image;l.onload=function(){URL.revokeObjectURL(this.src);const[s,c]=r.calculateSize(l,t,n),u=document.createElement("canvas");u.width=s,u.height=c;const d=u.getContext("2d");d.drawImage(l,0,0,s,c),u.toBlob(t=>{r.displayInfo("Original file",e),r.displayInfo("Compressed file",t),a(t)},i,o)},l.src=URL.createObjectURL(e)})},cancelUpload(){this.cancel&&(this.cancel.cancel("User requested to cancel"),this.cancel=null),this.$emit("cancel")},deleteUploadedFile(){this.showConfirmDialog(this.$l("platon.attention","Диққат"),this.$l("platon.confirm_file_deletion","Файлни ўчиришни хоҳлайсизми?")).then(()=>{this.updateLocal(null),this.selectedFile=null,this.remoteFile=null,this.$emit("deleted")})},downloadRemoteFile(){Object(r["e"])(this.remoteFile.id)}},computed:{hasUploadedFile(){return Array.isArray(this.local)?this.local.length>0:!!this.local},canDownload(){return!!this.remoteFile},fileName(){return this.selectedFile?this.selectedFile.name:this.remoteFile?this.remoteFile.name:this.$l("platon.select_file","Файлни танланг")},fileDescription(){if(this.remoteFile){let e=this.remoteFile.createdAt?p()(this.remoteFile.createdAt,"DD.MM.YYYY HH:mm:ss"):p()();return`${e.format("DD.MM.YYYY")}, ${Object(r["t"])(this.remoteFile.size)}`}if(this.selectedFile){let e=p()();return`${e.format("DD.MM.YYYY")}, ${Object(r["t"])(this.selectedFile.size)}`}},fileExtension(){return this.remoteFile?this.remoteFile.extension:this.selectedFile?this.selectedFile.name.split(".").reverse()[0]:"file"},allowedExtensions(){let e=this.item.allowedExtensions||[];return e.map(e=>"*"===e?"*":"."+e).join(",")},fileIconColor(){return Object(r["v"])(this.fileExtension)}}}},3906:function(e,t,n){"use strict";t["a"]={computed:{formData(){return this.$form&&this.$form.dataHolder},formMeta(){return this.$form&&this.$form.formMeta},$form(){let e=this.$parent;while(e){if("PlatonFormView"===e.$options.name)return e;e=e.$parent}}},methods:{notifyDataChange(e,t){e.dataField&&this.$form.$emit("formSetData",e.dataField,t)}}}},3917:function(e,t,n){},3941:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var i=n("9523"),o=n.n(i),r=n("c973"),a=n.n(r),s=n("b778"),l=n("dd84"),c=n("b441");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class p extends s["a"]{load(e){super.load(e),c["AUDIT_URL"]&&(window.$onEvent(this,"audit:action",this.OnCustomAction.bind(this)),e.registerEvent(l["a"].AfterLogin,this.AfterLogin.bind(this)),e.registerEvent(l["a"].AfterLogout,this.AfterLogout.bind(this)),e.registerEvent(l["a"].OnPageOpened,this.OnPageOpened.bind(this)),e.registerEvent(l["a"].OnTableOpened,this.OnTableOpened.bind(this)),e.registerEvent(l["a"].OnFormRead,this.OnFormRead.bind(this)),e.registerEvent(l["a"].OnFormInsert,this.OnFormInsert.bind(this)),e.registerEvent(l["a"].OnFormUpdate,this.OnFormUpdate.bind(this)),e.registerEvent(l["a"].OnFormDelete,this.OnFormDelete.bind(this)),e.registerEvent(l["a"].OnFormHardDelete,this.OnFormHardDelete.bind(this)))}AfterLogin(e,t){var n=this;return a()((function*(){yield n.auditUserAction(c["AUDIT_TYPES"].loggedIn)}))()}AfterLogout(e,t){var n=this;return a()((function*(){yield n.auditUserAction(c["AUDIT_TYPES"].loggedOut)}))()}OnPageOpened(e,t){var n=this;return a()((function*(){let e={viewingPage:t.data.name,isPagePublic:t.data.isPublic,queryParams:t.queryParams};yield n.auditUserAction(c["AUDIT_TYPES"].pageRead,e)}))()}OnTableOpened(e,t){var n=this;return a()((function*(){let e={viewingTable:t.params.name,isPublicTable:!0===t.meta["publicRoute"],queryParams:t.query};yield n.auditUserAction(c["AUDIT_TYPES"].tableRead,e)}))()}OnFormRead(e,t){var n=this;return a()((function*(){yield n.auditUserAction(c["AUDIT_TYPES"].formRead,t)}))()}OnFormInsert(e,t){var n=this;return a()((function*(){yield n.auditUserAction(c["AUDIT_TYPES"].formInsert,t)}))()}OnFormUpdate(e,t){var n=this;return a()((function*(){yield n.auditUserAction(c["AUDIT_TYPES"].formUpdate,t)}))()}OnFormDelete(e,t){var n=this;return a()((function*(){yield n.auditUserAction(c["AUDIT_TYPES"].formDelete,t)}))()}OnFormHardDelete(e,t){var n=this;return a()((function*(){yield n.auditUserAction(c["AUDIT_TYPES"].formHardDelete,t)}))()}OnCustomAction(e,t,n){var i=this;return a()((function*(){let o=d({auditCustomType:t},n);yield i.auditUserAction(e,o)}))()}auditUserAction(t){var n=this;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a()((function*(){let o=n.core.store.state.platon.user,r=o?o.id:null,a=i.auditCustomType?i.auditCustomType:Object.keys(c["AUDIT_TYPES"]).find(e=>c["AUDIT_TYPES"][e]===t),s={browser:{appCodeName:navigator.appCodeName,appName:navigator.appName,appVersion:navigator.appVersion,language:navigator.language,platform:navigator.platform,userAgent:navigator.userAgent,vendor:navigator.vendor,userAgentData:navigator.userAgentData},fullTime:e().toISOString(!0),fullUrl:window.location.href,userId:r,user:o,actionTitle:t,actionType:a,details:i};yield window.$api.post(c["AUDIT_URL"],s)}))()}}}).call(this,n("c1df"))},"39a8":function(e,t,n){"use strict";n("4d9d")},"3ac9":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({staticClass:"position-relative",attrs:{errors:e.combinedErrors}},"BaseControl",e.$attrs,!1),[n("p-datepicker",{ref:"input",staticClass:"date-picker-input",class:e.classes,attrs:{placeholder:e._placeholder,value:e.local,config:e.options,readonly:e.readonly,disabled:e.disabled},on:{input:function(t){return e.updateLocal(t)},"dp-show":e.onPickerShow}}),n("div",{staticClass:"icon position-absolute",on:{click:function(t){return e.focusField()}}},[n("i",{staticClass:"fa fa-calendar-alt"})])],1)},o=[],r=n("9523"),a=n.n(r),s=n("98d1"),l=n("e117"),c=n("1943"),u=n("be1f"),d=n("b441"),p=n("c1df"),h=n.n(p),m=(n("7dc3"),n("d88a"));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={name:"TimeControl",components:{BaseControl:s["a"]},mixins:[l["a"],c["a"],u["a"]],props:{},computed:{options(){let e={};return this.item.minDate&&(e.minDate=h()(this.item.minDate,d["DEFAULT_DATETIME_FORMAT"])),this.item.maxDate&&(e.maxDate=h()(this.item.maxDate,d["DEFAULT_DATETIME_FORMAT"])),g({format:this.dateFormat,locale:m["e"].locale,useCurrent:!1,showClear:!0,showClose:!0},e)},dateFormat(){return this.item.format||d["DEFAULT_TIME_FORMAT"]},classes(){return["text-"+(this.item.textAlign||"left")]},_placeholder(){return this.$props.placeholder||this.item.placeholder||this.dateFormat}}},v=b,y=(n("3b5c"),n("2877")),_=Object(y["a"])(v,i,o,!1,null,"15b3f002",null);t["a"]=_.exports},"3af9":function(e,t,n){"use strict";var i=n("c973"),o=n.n(i),r=n("bc3a"),a=n.n(r),s=n("d88a"),l=n("0490"),c=n("b441");window.Axios=a.a,t["a"]=function(e){let t=a.a.create(e),n=!1,i=[];const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i.forEach(n=>{e?n.reject(e):n.resolve(t)}),i=[]};return t.interceptors.response.use(e=>("application/json+base64"===e.headers["content-type"]&&(e.data=Object(l["b"])(e.data)),e),function(){var e=o()((function*(e){const o=e.config;if(401===e.response.status&&"/auth/refresh/token"!==o.url){if(!n){n=!0;const e=localStorage.getItem("refresh_token");try{const i=yield t.post("/auth/refresh/token",{refreshToken:e},{baseURL:c["API_BASE_URL"]});let{token:a,refreshToken:s}=i.data;return localStorage.setItem("auth_token",a),localStorage.setItem("refresh_token",s),r(null,a),o.headers["Authorization"]="Bearer "+a,t(o)}catch(a){return r(a,null),Promise.reject(a)}finally{n=!1}}return new Promise((e,t)=>{i.push({resolve:e,reject:t})}).then(e=>(o.headers["Authorization"]="Bearer "+e,t(o))).catch(e=>Promise.reject(e))}return"application/json+base64"===o.headers["Content-Type"]&&(o.data=Object(l["b"])(o.data)),Promise.reject(e)}));return function(t){return e.apply(this,arguments)}}()),t.interceptors.request.use(e=>{let t=localStorage.getItem("auth_token");const n="undefined"===typeof e.useAuthorization||e.useAuthorization;if(e.headers["Accept-Language"]=s["e"].locale,e.headers["ngrok-skip-browser-warning"]="1","get"!==e.method){const t=Vue.prototype.$projectInfo&&Vue.prototype.$projectInfo.transfer_method,n=e.data instanceof FormData;!n&&t&&(e.data=Object(l["c"])(e.data),e.headers["Content-Type"]="application/json+"+t),t&&(e.headers["Accept"]="application/json+"+t)}const i=(e.baseURL+(e.url||"")).includes("public/"),o="/auth/refresh/token"===e.url;return t&&"undefined"!==t&&n&&!i&&!o&&(e.headers["Authorization"]="Bearer "+t),e}),t}},"3b5c":function(e,t,n){"use strict";n("ba4f")},"3c35":function(e,t,n){"use strict";n("b2f8")},"3e3d":function(e,t,n){},"46e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return l}));var i=n("c973"),o=n.n(i);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/octet-stream";const i=atob(e),o=new ArrayBuffer(i.length),r=new Uint8Array(o);for(let s=0;s<i.length;s++)r[s]=i.charCodeAt(s);const a=new Blob([o],{type:n});return new File([a],t)}function a(e){return s.apply(this,arguments)}function s(){return s=o()((function*(e){return new Promise((t,n)=>{const i=new FileReader;i.onload=e=>t(e.target.result),i.onerror=e=>n(e),i.readAsDataURL(e)})})),s.apply(this,arguments)}function l(e,t,n){return new File([e],t,{type:n})}},"48ca":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.hasCustomLoginPage?n("div",[n("PageRenderer",{attrs:{"chimera-options":e.loginPageOptions}})],1):n("div",[n("Login")],1)},o=[],r=n("dae0"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-page pb-4"},[n("b-container",[n("b-row",[n("b-col",{staticClass:"mx-auto login-card"},[e.alertShow?n("Alert",{attrs:{"alert-text":e.alertText,"alert-dismissible":!0,"alert-type":"danger"},model:{value:e.alertShow,callback:function(t){e.alertShow=t},expression:"alertShow"}}):e._e(),n("b-card",{staticClass:"p-4"},[n("div",{staticClass:"font-weight-bold h3 text-center mb-4"},[e._v(e._s(e.$l("platon.appName",e.$appName)))]),n("div",{staticClass:"text-gray text-center my-3"},[e._v(e._s(e.$l("platon.loginHeader","Тизимга кириш")))]),e._l(e.loginProviders,(function(t,i){return n("div",{key:t.title,staticClass:"py-2"},[t.divider&&i>0?n("div",{staticClass:"line-text"},[n("span",[e._v(e._s(e.$l("platon.or","ёки")))])]):e._e(),n(t.component,{tag:"component",on:{"login-success":e.onLoginSuccess,"login-error":e.showError}}),t.divider&&i+1<e.loginProviders.length?n("div",{staticClass:"line-text"},[n("span",[e._v(e._s(e.$l("platon.or","ёки")))])]):e._e()],1)}))],2),n("div",{staticClass:"text-center d-flex justify-content-center align-items-center"},[n("LangPicker")],1)],1)],1),n("login-page-contacts"),n("div",{staticClass:"text-center mt-5"},[e.$const.COPYRIGHT_URL?n("div",{staticClass:"text-center copyright"},[n("a",{attrs:{href:e.$const.COPYRIGHT_URL,target:"_blank"},domProps:{innerHTML:e._s("© "+e.$copyright)}})]):n("div",{staticClass:"text-center copyright",domProps:{innerHTML:e._s("© "+e.$copyright)}})])],1)],1)},s=[],l=n("9523"),c=n.n(l),u=n("2f62"),d=n("b441"),p=n("6cbc"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-alert",{attrs:{variant:e.alertType,dismissible:e.alertDismissible,fade:""},on:{input:function(t){return e.$emit("input",t)}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e._t("default"),n("span",{domProps:{innerHTML:e._s(e.alertText)}})],2)],1)},m=[],f={name:"Alert",props:{value:!1,alertText:"",alertType:"",alertDismissible:!1},data(){return{show:this.value,dismissSecs:5,dismissCountDown:0}},computed:{},mounted(){},methods:{countDownChanged(e){this.dismissCountDown=e}}},g=f,b=n("2877"),v=Object(b["a"])(g,h,m,!1,null,null,null),y=v.exports,_=n("6d2b");const w={default:{divider:!0,title:'<i class="fas fa-user mr-1"></i> Логин ва парол',component:()=>n.e("chunk-3cf41079").then(n.bind(null,"755d"))},eimzo:{title:"<i class='fas fa-key mr-1'></i> ЭРИ",component:()=>n.e("chunk-99c87ecc").then(n.bind(null,"5160"))},google:{title:"<i class='fas fa-key mr-1'></i> google",component:()=>n.e("chunk-a1970df2").then(n.bind(null,"411f"))},facebook:{title:"<i class='fas fa-key mr-1'></i> facebook",component:()=>n.e("chunk-25cfaa60").then(n.bind(null,"07d5"))},one_id:{title:"<i class='fas fa-key mr-1'></i> oneID",component:()=>n.e("chunk-235fbe0b").then(n.bind(null,"9e68"))},keycloak:{title:"Keycloak",component:()=>n.e("chunk-79d2db81").then(n.bind(null,"75e5"))},linkedin:{title:"Linkedin",component:()=>n.e("chunk-0a339c19").then(n.bind(null,"e090"))},ssv:{title:"SSV",component:()=>n.e("chunk-711f9c26").then(n.bind(null,"483c"))},rs_imzo:{title:"RS-IMZO",component:()=>n.e("chunk-8fe287f6").then(n.bind(null,"4418"))}};var O=n("e2d9");function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={name:"Login",components:{LangPicker:_["a"],Alert:y,DialogWithOTPVerification:O["a"]},mixins:[p["a"]],data(){return{alertText:"",alertShow:!1}},created(){localStorage.removeItem("login_eimzo_key"),localStorage.removeItem("user_organizations")},methods:E(E({},Object(u["d"])({doLogin:"platon/doLogin"})),{},{showError(e){this.alertText=e,this.alertShow=!!e},getProvider(e){var t;return null!==(t=w[e])&&void 0!==t?t:null}}),computed:{loginProviders(){return d["ENABLED_LOGIN_PROVIDERS"].map(e=>this.getProvider(e))},hasMultipleProviders(){return this.loginProviders.length>1}}},k=P,x=(n("5fc4"),Object(b["a"])(k,a,s,!1,null,"e992834e",null)),A=x.exports,T={name:"LoginPage",components:{Login:A,PageRenderer:r["a"]},computed:{hasCustomLoginPage(){return this.$projectInfo.has_login},loginPageOptions(){return{url:"public/login"}}}},$=T,j=Object(b["a"])($,i,o,!1,null,null,null);t["a"]=j.exports},"4ac4":function(e,t,n){"use strict";t["a"]={computed:{text(){return"string"===typeof this.item.buttonText||this.item.buttonText.startsWith("platon.")?this.$l(this.item.buttonText,this.item.buttonText):this.item.buttonText}}}},"4bb0":function(e,t,n){"use strict";n("d1b3")},"4c80":function(e,t,n){},"4d9d":function(e,t,n){},"4f4d":function(e,t,n){},5228:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"g",(function(){return u}));n("bc3a");let i,o=null,r=null;function a(e){o=e,window.$http=o}function s(e){r=e,window.$api=r}function l(e){i=e}let c=null;function u(e){c=e}},"541d":function(e,t){Object.defineProperty(String.prototype,"capitalize",{value:function(){const e=this.toLowerCase();return e.charAt(0).toUpperCase()+e.slice(1)},enumerable:!1})},"543c":function(e,t,n){"use strict";n("4f4d")},5479:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"primary-text"},[e._v(" "+e._s(e.$l("platon.tech_support","Техник ёрдам"))+": "),n("a",{staticClass:"btn primary-link ml-2",attrs:{href:e.CONTACT_TELEGRAM,target:"_blank"}},[n("div",{staticClass:"d-flex align-items-center"},[n("i",{staticClass:"fab fa-telegram-plane mr-2",staticStyle:{"font-size":"22px"}}),e._v(" "+e._s(e.CONTACT_PHONE)+" ")])])])},o=[],r=n("b441"),a={name:"TopbarContacts",data(){return{CONTACT_PHONE:r["CONTACT_PHONE"],CONTACT_TELEGRAM:r["CONTACT_TELEGRAM"]}}},s=a,l=(n("fb48"),n("2877")),c=Object(l["a"])(s,i,o,!1,null,"7df963f6",null);t["a"]=c.exports},"56ab":function(e,t,n){"use strict";var i=n("32f5"),o=n("c973"),r=n.n(o);const a={__eif:null,checkVersion:function(){var e=r()((function*(){return this._call("checkVersion",null)}));return function(){return e.apply(this,arguments)}}(),installApiKeys:function(){var e=r()((function*(){return this._call("installApiKeys",null)}));return function(){return e.apply(this,arguments)}}(),listAllUserKeys:function(){var e=r()((function*(){var e=this;return new Promise(function(){var t=r()((function*(t,n){try{const n=yield e._call("listAllUserKeys",null);n.items.forEach(e=>{e.validFrom=new Date(e.validFrom),e.validTo=new Date(e.validTo)}),t(n.items)}catch(i){return[]}}));return function(e,n){return t.apply(this,arguments)}}())}));return function(){return e.apply(this,arguments)}}(),listAllCertKeys:function(){var e=r()((function*(e,t,n,i){this._call("listAllCertKeys",null,(function(i){if(i&&i.length>0){var o=[];for(var r in i){var a=i[r],s=e(a,r),l=t(s,a);o.push(l)}n(o)}else n(i)}),i)}));return function(t,n,i,o){return e.apply(this,arguments)}}(),loadKey:function(){var e=r()((function*(e){var t=this;return new Promise(function(){var n=r()((function*(n,i){try{const i=yield t._call("loadKey",{itemObject:e});n({cert:e,id:i.id})}catch(o){i(o)}}));return function(e,t){return n.apply(this,arguments)}}())}));return function(t){return e.apply(this,arguments)}}(),changeKeyPassword:function(){var e=r()((function*(e,t,n){yield this._call("changeKeyPassword",{itemObject:e},t,n)}));return function(t,n,i){return e.apply(this,arguments)}}(),isIDCardPlugged:function(){var e=r()((function*(){return!0}));return function(){return e.apply(this,arguments)}}(),createPkcs7:function(){var e=r()((function(e,t,n){var i=this;let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function*(){return new Promise(function(){var a=r()((function*(r,a){try{let a=o?yield n():t,s=yield i._call("createPkcs7",{id:e,data:a}),l=s.pkcs7;if(n&&!o){let e=yield n(l);r(e)}else r(l)}catch(s){a(s)}}));return function(e,t){return a.apply(this,arguments)}}())}()}));return function(t,n,i){return e.apply(this,arguments)}}(),appendPkcs7Attached:function(){var e=r()((function*(e,t,n,i,o){yield this._call("appendPkcs7Attached",{id:e,data:t,timestamper:n},(function(e){i(e.pkcs7)}),o)}));return function(t,n,i,o,r){return e.apply(this,arguments)}}(),_call:function(){var e=r()((function*(e,t){var n=this;return new Promise(function(){var i=r()((function*(i,o){yield n._checkAndCreateModule();const r=yield n._syncData({action:e,arguments:t});r?r.hasOwnProperty("success")?r.success instanceof Object?i(r.success):i():r.hasOwnProperty("fail")?o(r.fail.error,r.fail.reason):o(null,"Response is empty"):o("Module error",null)}));return function(e,t){return i.apply(this,arguments)}}())}));return function(t,n){return e.apply(this,arguments)}}(),_syncData:function(e){return new Promise(t=>{try{const n=new MessageChannel;n.port1.onmessage=e=>t(JSON.parse(e.data)),this.__eif.contentWindow.postMessage(JSON.stringify(e),"https://hujjat.uz",[n.port2])}catch(n){t(JSON.stringify({fail:[n,null]}))}})},_checkAndCreateModule:function(){if(null==this.__eif)return new Promise(e=>{this.__eif=document.createElement("iframe"),this.__eif.style.display="none",this.__eif.src="https://hujjat.uz/eimzo/tunnel.html",this.__eif.onload=()=>e(),document.body.appendChild(this.__eif)})},install:function(){var e=r()((function*(){yield this.checkVersion(),yield this.installApiKeys()}));return function(){return e.apply(this,arguments)}}()};var s=a,l=n("b441");t["a"]={computed:{isDirectClient(){return"direct"===l["PLATON_EIMZO_CLIENT"]}},methods:{getClient(){return this.isDirectClient?i["VueEIMZO"]:s},installProjectApiKey(){let e=l["PLATON_EIMZO_KEY"]||Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_EIMZO_KEY;if(e){let t=e.split(";");t.length>=2&&i["VueEIMZO"].addApiKey(t[0],t[1])}}}}},"56d7":function(e,t,n){"use strict";n.r(t);var i=n("a026"),o=n("8c4f"),r=n("b441");i["default"].use(o["a"]);const a=new o["a"]({mode:"history",base:r["PLATON_ROUTER_BASE_URL"]||Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_ROUTER_BASE_URL,routes:[{path:"/404",name:"404",props:!0,component:()=>Promise.resolve().then(n.bind(null,"255b")),meta:{platonLayout:!1}}]});var s=a,l=n("2f62");i["default"].use(l["a"]);var c=new l["a"].Store({state:{},mutations:{},actions:{},modules:{}}),u=n("18e0");Promise.resolve().then(n.t.bind(null,"f284",7)),i["default"].config.productionTip=!1;const d={store:c,router:s,axiosOptions:{baseURL:r["SERVER_ENDPOINT"]}};i["default"].use(u["a"],d)},"571b":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-grow-1",attrs:{id:"sidebar-menu"}},[n("b-skeleton-wrapper",{attrs:{loading:!e.menu.length},scopedSlots:e._u([{key:"loading",fn:function(){return[n("div",{staticClass:"p-2 pl-3"},e._l([1,2,3,4,5,6,7],(function(e){return n("MenuSkeleton",{key:e,staticClass:"mb-2",attrs:{width:Math.floor(15*Math.random())}})})),1)]},proxy:!0}])},[n("ul",{staticClass:"platon-menu mm-show",attrs:{id:"side-menu"}},e._l(e.menu,(function(e,t){return n("MenuItem",{key:e.projectId+"_"+e.id,attrs:{"disable-divider":0===t,item:e,menuIndex:t}})})),1)])],1)},o=[],r=n("9523"),a=n.n(r),s=n("2f62"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{on:{mouseenter:e.mouseIn,mouseleave:e.mouseOut}},[e.hasDivider?n("hr",{staticClass:"divider"}):e._e(),n("PlatonLink",e._b({staticClass:"waves-effect cursor-pointer d-flex align-items-center",class:["menu-level-"+e.level,{active:e.isActive,"no-icon":e.icon}],attrs:{"aria-expanded":""+e.expanded,link:e.menuLink},nativeOn:{click:function(t){e.expanded=!e.expanded}}},"PlatonLink",e.extraProps,!1),[e.icon&&e.isAdmin&&e.isMyProject(e.item)?n("PlatonLink",{staticClass:"small",attrs:{tabindex:"-1","stop-propagation":!0,link:"forms/menus/"+e.item.id+"?_target=modal"}},[n("i",{staticClass:"menu-icon",class:e.icon})]):n("i",{staticClass:"menu-icon",class:e.icon}),n("span",{staticClass:"flex-grow-1 menu-item-text",domProps:{innerHTML:e._s(e.text)}}),n("div",{staticClass:"right-align"},[e.menuCollapsed?e._e():n("b-badge",{staticClass:"px-2 mt-0 ml-2 float-right",attrs:{variant:e.badgeType},domProps:{innerHTML:e._s(e.item.badge)}}),e.hasChildren?n("span",{staticClass:"menu-plus",staticStyle:{"z-index":"55"}},[n("i",{staticClass:"fa fa-chevron-down",class:{rotated:e.expanded}})]):e._e()],1)],1),n("transition",{attrs:{name:"fade"}},[e.isGroup&&e.hasChildren||e.menuCollapsed&&1===e.level?n("ul",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],ref:"subMenu_"+e.item.id,staticClass:"nav-second-level mm-collapse",class:{"mm-show":e.expanded}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.menuCollapsed,expression:"menuCollapsed"}],staticClass:"font-weight-bold px-3 py-2",domProps:{innerHTML:e._s(e.text)}}),e._l(e.item.children,(function(t){return n("MenuItem",{key:t.projectId+"_"+t.id,attrs:{level:e.level+1,item:t}})}))],2):e._e()])],1)},c=[],u=n("abc1"),d=n("6c9a"),p=n("64f5"),h=n("7c03");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={name:"MenuItem",components:{PlatonLink:u["a"]},mixins:[d["a"]],props:{item:{},level:{type:Number,default:1},disableDivider:{type:Boolean,default:!1}},data(){return{expanded:!1}},mounted(){this.$on("initActiveMenu",()=>{this.$parent.$emit("initActiveMenu"),this.expanded=!0}),this.tryToAutoExpand()},methods:{mouseIn(e){if(!this.menuCollapsed)return;this.expanded=!0;let t=this.$refs["subMenu_"+this.item.id];1===this.level&&t?t.style.top=e.clientY-e.offsetY+"px":t&&(t.style.top=e.clientY-e.offsetY+"px",t.style.left=e.clientX-e.offsetX+e.clientY-125+"px")},mouseOut(){this.menuCollapsed&&(this.expanded=!1)},tryToAutoExpand(){this.$nextTick(()=>{this.isActive&&!this.menuCollapsed&&this.$parent.$emit("initActiveMenu")})}},computed:f(f({},Object(s["c"])({menuCollapsed:"platon/menuCollapsed"})),{},{extraProps(){let e={};return this.item.cssStyle&&(e.style=this.item.cssStyle),e},isActive(){if(this.$route.query._mid)return this.item.id==this.$route.query._mid;if(!this.item.link||this.item.link&&this.item.link.length<5)return!1;const{route:e}=this.$router.resolve(Object(p["a"])(this.item.link)),t=Object.keys(e.params).every(t=>e.params[t]===this.$route.params[t]),n=Object.keys(e.query).every(t=>!!t.startsWith("_")||e.query[t]===this.$route.query[t]);return e.name===this.$route.name&&t&&n},isGroup(){return this.hasChildren},isLink(){return!this.hasChildren},hasDivider(){return!!this.item.hasDividerBefore&&!this.disableDivider},hasChildren(){return Array.isArray(this.item.children)&&this.item.children.length>0},badgeType(){return this.item.badgeType||"primary"},text(){return this.item.name},icon(){return this.item.cssClass||"fa fa-info"},menuLink(){let e=this.item.link;if(!e||"string"!==typeof e)return"#";if(e.match(/^(http|https):\/\//gi))return e;let t=this.$router.resolve(Object(p["a"])(h["a"].replace(e)));if(this.item.isTrackMenu){let e=t.route;e.query["_mid"]=this.item.id,t=this.$router.resolve(e)}return t.route.fullPath}}),watch:{"$store.state.platon.menuCollapsed"(e){this.expanded&&e&&(this.expanded=!1),e||this.tryToAutoExpand()}}},b=g,v=n("2877"),y=Object(v["a"])(b,l,c,!1,null,null,null),_=y.exports,w=n("98b2"),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-items-center"},[n("b-skeleton",{attrs:{width:"30px",height:"30px",type:"avatar"}}),e.menuCollapsed?e._e():n("b-skeleton",{staticClass:"ml-2",attrs:{width:e.computedWidth}})],1)},C=[];function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={name:"MenuSkeleton",props:{width:{default:0}},computed:P(P({},Object(s["c"])({menuCollapsed:"platon/menuCollapsed"})),{},{computedWidth(){return 65+this.width+"%"}})},x=k,A=Object(v["a"])(x,O,C,!1,null,null,null),T=A.exports,$=n("2ce5"),j=n("b441");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={name:"platon-menu",components:{MenuSkeleton:T,MenuItem:_},mixins:[$["a"]],computed:D({},Object(s["c"])({menu:"platon/menu",user:"platon/user"})),methods:D(D({},Object(s["d"])({setMenu:"platon/setMenu"})),{},{onReloadNeed(){this.$chimera.loadMenu.fetch(!0)},handleNavigateToHomePage(e){const t=j["PLATON_HOME_REDIRECT"]||Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_HOME_REDIRECT,n=t?new RegExp(t,"g"):new RegExp("^/$","g");if(!this.$route.path.match(n))return;let i=Object(p["f"])(e,"children"),o=i.find(e=>e.isHomepage);if(o)this.navigateTo(o.link,this.user);else{let e=i.find(e=>e.link&&(e.link.startsWith("/tables/")||e.link.startsWith("tables/")));e&&this.navigateTo(e.link,this.user)}},handleScroll(e){console.log("scroll")}}),mounted(){window.addEventListener(w["a"].RELOAD_MENU,this.onReloadNeed),this.onReloadNeed()},beforeDestroy(){window.removeEventListener(w["a"].RELOAD_MENU,this.onReloadNeed)},chimera:{loadMenu(){return{auto:!1,url:"menus",on:{success(e){let{data:t}=e;this.setMenu(t),this.handleNavigateToHomePage(t)}}}}}},F=L,I=Object(v["a"])(F,i,o,!1,null,null,null);t["a"]=I.exports},5994:function(e,t,n){"use strict";var i=n("b441");t["a"]={name:"WinterMixin",data(){return{isWinterDisabled:!0}},computed:{isWinterSeason(){const e=new Date,t=new Date(i["LAST_WINTER_DATE"]);return t.setFullYear((new Date).getFullYear()),t.getTime()-e.getTime()>0}},mounted(){this.$onEvent("platon_winter",e=>{this.isWinterDisabled=e})},created(){this.isWinterDisabled=JSON.parse(localStorage.getItem("platon_winter"))||!this.isWinterSeason}}},"5b84":function(e,t,n){"use strict";function i(e){const t=new Map;e.prototype.addScript=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.has(e))return void("function"===typeof n.onload&&n.onload());const i=document.createElement("script");"function"===typeof n.onload&&(i.onload=n.onload),i.setAttribute("src",e),"boolean"===typeof n.async&&(i.async=n.async),t.set(e,i),document.head.appendChild(i)},e.prototype.addStyle=function(e){let n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.set(e,n),document.head.appendChild(n)};const n=new Map,i=new Map;e.prototype.addCss=function(e,t){return new Promise((o,r)=>{n.has(t)||n.set(t,new Set);const a=n.get(t);if(a.add(e),1===a.size){let e=document.createElement("style");e.onload=()=>o(),e.onerror=()=>r(new Error("Style load error for "+src)),e.innerText=t,document.head.appendChild(e),i.set(t,e)}else o()})},e.prototype.removeCss=function(e,t){if(n.has(t)){let o=n.get(t);if(o.delete(e),0===o.size&&i.has(t)){let e=i.get(t);document.head.removeChild(e),i.delete(t)}}}}n.d(t,"a",(function(){return i}))},"5cfa":function(e,t,n){},"5fc4":function(e,t,n){"use strict";n("857ab")},"614a":function(e,t,n){"use strict";n("a6c3")},"625d":function(e,t,n){"use strict";n("c9b3")},"62bd":function(e,t,n){"use strict";n("95cc")},6304:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.alerts.data,(function(t,i){return n("Notification",{key:t.description+"-"+i,attrs:{element:t,close:e.alerts.onClose}})})),1)},o=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.element.show?n("div",{staticClass:"notification",class:e.element.type},[n("div",{staticClass:"notification_info"},[e.element.component?n(e.element.component,{tag:"component"}):n("div",[n("h5",{domProps:{innerHTML:e._s(e.element.title)}}),n("p",{staticClass:"m-0",staticStyle:{"white-space":"pre-wrap"},domProps:{innerHTML:e._s(e.element.description)}})]),e.element.actions?n("div",{staticClass:"d-flex notification_actions justify-content-end notification_actions"},e._l(e.element.actions,(function(t,i){return n("button",{key:""+t.label+i,class:[t.class,e.element.type,e.element.type+"_btn"],attrs:{type:"button"},on:{click:function(n){return t.event(e.element,e.updateShow)}}},[e._v(" "+e._s(t.label)+" ")])})),0):e._e(),e.element.dismissible?n("button",{staticClass:"close-btn",class:"close_"+e.element.type,on:{click:e.closeNotification}},[n("i",{staticClass:"fa fa-times"})]):e._e()],1)]):e._e()},a=[],s={name:"Notification",props:{element:{actions:{type:Array,default:[]}},close:Function},methods:{closeNotification(){this.close(this.$props.element,this.updateShow)},updateShow(){this.element.show=!1}}},l=s,c=(n("2b8a"),n("2877")),u=Object(c["a"])(l,r,a,!1,null,"3e0a3028",null),d=u.exports,p={name:"NotificationContainer",props:{eventName:String},components:{Notification:d},data(){return{alerts:{}}},mounted(){this.$parent.$on(this.eventName,this.setAlerts)},methods:{setAlerts(e){this.alerts=e}}},h=p,m=Object(c["a"])(h,i,o,!1,null,null,null);t["a"]=m.exports},"64f2":function(e,t,n){"use strict";n("714e")},"64f5":function(e,t,n){"use strict";n.d(t,"t",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"r",(function(){return u})),n.d(t,"s",(function(){return d})),n.d(t,"v",(function(){return p})),n.d(t,"q",(function(){return h})),n.d(t,"p",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"n",(function(){return b})),n.d(t,"l",(function(){return v})),n.d(t,"i",(function(){return y})),n.d(t,"o",(function(){return w})),n.d(t,"b",(function(){return O})),n.d(t,"h",(function(){return C})),n.d(t,"f",(function(){return E})),n.d(t,"a",(function(){return P})),n.d(t,"w",(function(){return k})),n.d(t,"j",(function(){return x})),n.d(t,"u",(function(){return A})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return $})),n.d(t,"m",(function(){return j}));var i=n("448a"),o=n.n(i),r=n("b441");n("bba4"),n("1a8c");function a(e){if("number"!==typeof e||isNaN(e))throw new TypeError("Expected a number");let t,n;const i=e<0,o=["B","kB","MB","GB","TB","PB","EB","ZB","YB"];return i&&(e=-e),e<1?(i?"-":"")+e+" B":(t=Math.min(Math.floor(Math.log(e)/Math.log(1024)),o.length-1),e=1*(e/Math.pow(1024,t)).toFixed(2),n=o[t],(i?"-":"")+e+" "+n)}function s(e){let t=parseInt(e);if(Number.isNaN(t))return"00:00";let n=Math.floor(t/3600),i=Math.floor(t/60)%60,o=t%60,r=n>9?n:"0"+n,a=i>9?i:"0"+i,s=o>9?o:"0"+o;return t<3600?a+":"+s:r+":"+a+":"+s}function l(e){window.open(e,"_blank")}function c(e){l(u(e))}function u(e){return g(e)?null:`${r["DOWNLOAD_ENDPOINT"]}/${e}`}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"160",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"160";return g(e)?null:`${r["IMAGE_ENDPOINT"]}/${e}?scale=w${t}xh${n}`}function p(e){let t=0;console.log("Generating code for "+e);for(let i=0;i<e.length;i++)t=e.charCodeAt(i)+((t<<5)-t);let n="#";for(let i=0;i<3;i++){const e=t>>8*i&255;n+=("00"+e.toString(16)).substr(-2)}return n}function h(e,t){return"boolean"===t?"true"===e||"false"!==e&&"null"!==e&&!!e:null===e||void 0===e||"null"===e?null:e}function m(e,t){return v(e)?t:e}function f(e,t){return g(e)?t:e}function g(e){return null===e||void 0===e||Number.isNaN(e)}function b(e){return null===e||void 0===e}function v(e){return Array.isArray(e)?0===e.length:null===e||void 0===e||(g(e)||""===e||"null"===e)}function y(e,t){t=t.toUpperCase();for(let n of e)if(n.tagName===t)return n;return null}function _(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])}function w(e,t){if(!e||!t)return!1;let n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!0;let o=n.every(e=>i.findIndex(t=>e===t)>=0);return!o||n.some(n=>{const i=e[n],o=t[n];return Array.isArray(i)&&Array.isArray(o)?!_(i,o):i!==o})}function O(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e[0].toUpperCase()+e.slice(1).toLowerCase()}function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=arguments.length>1?arguments[1]:void 0,n="!#$%&123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjklmnpqrstuvwxyz";"u"===t?n="ABCDEFGHJKLMNPQRSTUVWXYZ":"l"===t?n="abcdefghkmnpqrstuvwxyz":"a"===t?n="ABCDEFGHKMNPQRSTUVWXYZabcdefghkmnpqrstuvwxyz":"f"===t?n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjklmnpqrstuvwxyz":"x"===t?n="123456789ABCDEFGHKMNPQRSTUVWXYZ":"y"===t?n="123456789abcdefghkmnpqrstuvwxyz":"n"===t?n="123456789":"p"===t?n='!"#$%&()*+,-./123456789:;<=>?@ABCDEFGHJKLMNPQRSTUVWXYZ[]^_`abcdefghjklmnpqrstuvwxyz{|}~':"r"===t?n="!#$%&()*123456789+/<=>?@{}[]ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjklmnpqrstuvwxyz":"c"===t?n='!"#$%&()*+,-./:;<=>?@[]^_`{|}~':"e"===t?n="!#$%&()*+/<=>?@{}[]":"b"===t?n='!"#$%&()*+,-./123456789:;<=>?@[]^_`{|}~':"d"===t?n="!#$%&()*123456789+/<=>?@{}[]":"z"===t?n="-*@#":t&&t.length>1&&(n=t);let i="";for(let o=0,r=n.length;o<e;++o)i+=n.charAt(Math.floor(Math.random()*r));return i}function E(e,t){const n=e=>e.reduce((e,i)=>(e.push(i),Array.isArray(i[t])&&e.push.apply(e,o()(n(i[t]))),e),[]);return n(e)}function P(e){return"string"!==typeof e||e.startsWith("/")?e:"/"+e}function k(e){return"string"===typeof e&&e.startsWith("/")?e.substr(1):e}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"16px Arial";const n=document.createElement("canvas"),i=n.getContext("2d");return i.font=t,i.measureText(e).width}function A(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";if(!Array.isArray(e[n]))return null;for(let i of e[n]){if(t(i))return i;const e=A(i,t,n);if(e)return e}}function T(e,t,n){return"number"===t&&"number"!==typeof n?(n=""===n||void 0===n||null===n?null:Number(n),Number.isNaN(n)&&(console.warn(`Field ${e} got NaN`),n=null)):"checkbox"===t&&"boolean"!==typeof n&&(n="string"===typeof n?"true"===n||"1"===n:!!n),n}function $(e,t){console.log("downloadBlob end"),this.href=window.URL.createObjectURL(new Blob([e])),this.setAttribute("download",t),document.body.appendChild(this),this.click(),console.log("downloadBlob end")}function j(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},6748:function(e,t,n){"use strict";n("3e3d")},6781:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center d-flex align-items-center justify-content-center flex-column"},[n("div",[n("i",{staticClass:"mb-4",class:e.icon,staticStyle:{"font-size":"60px"}})]),e.endpoint.status>=500?n("div",{staticClass:"h3"},[e._v(" "+e._s(e.$l("platon.server_error","Серверда хатолик"))+" "),n("div",[n("btn",{staticClass:"mt-3 btn-lg",attrs:{variant:"primary",icon:"fa fa-refresh",loading:e.endpoint.loading},nativeOn:{click:function(t){return e.endpoint.fetch()}}},[e._v(" "+e._s(e.$l("platon.reload_page","Сахифани қайта юклаш"))+" ")])],1)]):403===e.endpoint.status||401===e.endpoint.status?n("div",{staticClass:"h3 d-flex flex-column"},[e._v(" "+e._s(e.accessDeniedText)+" "),n("div",[n("router-link",{staticClass:"mt-3 btn btn-lg btn-primary",attrs:{to:"/"}},[e._v(" "+e._s(e.$l("platon.back_to_home","Бош саҳифага қайтиш"))+" ")])],1)]):n("div",{staticClass:"h3 d-flex flex-column"},[e._v(" "+e._s(e.notFoundText)+" "),n("div",[n("router-link",{staticClass:"mt-3 btn btn-lg btn-primary",attrs:{to:"/"}},[e._v(" "+e._s(e.$l("platon.back_to_home","Бош саҳифага қайтиш"))+" ")])],1)])])},o=[],r=n("7f3d"),a={name:"ChimeraErrorsView",components:{Btn:r["a"]},props:["endpoint","icon","accessDeniedText","notFoundText"]},s=a,l=n("2877"),c=Object(l["a"])(s,i,o,!1,null,null,null);t["a"]=c.exports},6926:function(e,t,n){"use strict";function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n={template:e.content,name:e.name,components:t};try{if(e.js){const t=new Function(`return (${e.js})`)();n=Object.assign(n,t)}}catch(i){console.warn("Failed to build component "+e.name,i),console.warn("JS",e.js)}return n}n.d(t,"a",(function(){return i}))},"6c9a":function(e,t,n){"use strict";var i=n("9523"),o=n.n(i),r=n("2f62");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l={PLATON_ADMIN:"platon.admin"};t["a"]={computed:s(s({},Object(r["c"])({user:"platon/user"})),{},{permissions(){try{return this.user.permissions}catch(e){return[]}},isAdmin(){return this.hasPermission(l.PLATON_ADMIN)&&!this.$store.state.platon.forceUserMode}}),methods:{hasPermission(e){return this.permissions.indexOf(e)>=0},isMyProject(e){return!!e&&(Number.isInteger(e.projectId)?this.user.projectId===e.projectId:(console.warn("Project id not found for ",e),!1))}}}},"6cbc":function(e,t,n){"use strict";var i=n("c973"),o=n.n(i),r=n("9523"),a=n.n(r),s=n("2f62"),l=n("4559"),c=n("dd84"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p-modal",{attrs:{"footer-actions":e.actions,"can-cancel":!e.isPasswordRequired},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.$l("platon.social.set-password","Тизимга кириш учун парол белгиланг"))+" ")]},proxy:!0}])},[n("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("password-control",{staticClass:"p-0 mb-0",class:{invalid:e.$v.password.$dirty&&!e.$v.password.required},attrs:{label:e.$l("platon.password","Парол"),placeholder:e.$l("platon.password","Парол"),autocomplete:"current-password",type:"password",configurable:!1,required:"required"===e.data.password_policy},model:{value:e.$v.password.$model,callback:function(t){e.$set(e.$v.password,"$model",t)},expression:"$v.password.$model"}}),e.$v.password.$dirty&&!e.$v.password.required?n("small",{staticClass:"text-danger"},[e._v(" "+e._s(e.$l("platon.enterPassword","Паролни киритинг"))+" ")]):e._e(),e.$v.password.$dirty&&!e.$v.password.minLength?n("small",{staticClass:"text-danger"},[e._v(" "+e._s(e.$l("platon.password_min_length","Парол 6та дан кам бўлмаслиги керак"))+" ")]):e._e()],1)])},d=[],p=n("77c1"),h=n("b5ae"),m={name:"SocialLoginModal",components:{PasswordControl:p["a"]},props:{data:{},method:"",accessToken:"",login:()=>{}},data(){return{password:""}},validations(){return this.isPasswordRequired?{password:{required:h["required"],minLength:Object(h["minLength"])(6)}}:{password:{minLength:Object(h["minLength"])(6)}}},computed:{isPasswordRequired(){return"required"===this.data.password_policy},actions(){const e=[];return e.push({text:this.$l("platon.save","Сақлаш"),handler:this.onSubmit}),this.isPasswordRequired||e.push({text:this.$l("platon.social.skip-password","Ўтказиб юбориш"),handler:this.closeModal}),e}},methods:{onSubmit(e){if(this.$v.$touch(),this.$v.$invalid)return!0;const{accessToken:t,password:n,method:i}=this;this.login({method:i,accessToken:t,closeModal:this.closeModal,password:n||void 0})},closeModal(){this.$emit("close")}}},f=m,g=n("2877"),b=Object(g["a"])(f,u,d,!1,null,null,null),v=b.exports,y=n("b441"),_=n("e2d9");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const C={one_id:{codeType:"accessToken"},linkedin:{codeType:"code"},ssv:{codeType:"code"}},E={instantCertsFetch:!1,paths:{fetchToken:"auth/rsimzo/generate-token"}};t["a"]={data(){return{loadingProvider:null,next:this.$route.query["next"]||Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEV_HOME_PAGE||"/"}},mounted(){this.$on("login-success",this.onLoginSuccess)},beforeDestroy(){this.$off("login-success",this.onLoginSuccess)},methods:O(O({},Object(s["d"])({doLogin:"platon/doLogin"})),{},{openOTPModal(e){200==e.response.status&&"Otp password is required"==e.response.data.error&&this.$modal.show(_["a"],{parcel:e,onClose:()=>{},onSuccess:e=>{this.$emit("login-success",{user:e.data.user,token:e.data.token,refreshToken:e.data.refreshToken})}},{height:"90%",clickToClose:!1,maxHeight:.9*window.innerHeight})},processLogin(e){var t=this;let{user:n,token:i,refreshToken:r}=e;return o()((function*(){t.doLogin({token:i,refreshToken:r,user:n}),yield t.$plugins.triggerEvent(c["a"].AfterLogin,n,i),yield t.$plugins.triggerEvent(c["a"].AfterAuth,n,i)}))()},onLoginSuccess(e){var t=this;let{user:n,token:i,refreshToken:r,parcel:a}=e;return o()((function*(){a&&t.openOTPModal(a),yield t.processLogin({user:n,token:i,refreshToken:r}),t.$platonApp.greenToast(t.$l("platon.toast_success_login_welcome","Тизимга хуш келибсиз")),yield t.$router.push({path:t.next}),t.$plugins.triggerEvent(c["a"].SetUserTheme,n)}))()},loginValidation(){const{oauth2:e}=this.$projectInfo,{code:t,state:n}=this.$route.query,{codeType:i}=C[n]||{},o=this.validateRedirectUrl(e[n]&&e[n].redirect_uri);t&&(this.oauthValidateToken({code:t,method:n,codeType:i,redirect_uri:o,state:n}),this.$router.replace({"query.code":null,"query.state":null}))},initGoogleLogin(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$projectInfo.oauth2&&this.$projectInfo.oauth2.google_client_id&&this.addScript("https://accounts.google.com/gsi/client",{async:!0,onload:()=>{google.accounts.id.initialize({client_id:this.$projectInfo.oauth2.google_client_id,callback:e=>{this.oauthValidateToken({code:e.credential,method:"google"})}}),google.accounts.id.renderButton(e,Object.assign({size:"large",width:"390px",theme:"outline"},t))}})},loginWithFacebook(){let{oauthValidateToken:e}=this;FB.login((function(t){"connected"===t.status?e({code:t.authResponse.accessToken,method:"facebook"}):"not_authorized"===t.status?FB.login((function(e){console.log(e)}),{scope:"public_profile,email"}):console.log("not connected, not logged into facebook, we don't know")}),{scope:"public_profile,email"})},loginWithOneId(){const{oauth2:e}=this.$projectInfo,t=this.validateRedirectUrl(e.one_id&&e.one_id.redirect_url),n=`https://sso.egov.uz/sso/oauth/Authorization.do?response_type=one_code&client_id=${e.one_id.client_id}&redirect_uri=${t}&scope=${e.one_id.client_id}&state=one_id`;window.location.replace(n)},loginWithLinkedin(){const{oauth2:e}=this.$projectInfo,t=e.linkedin&&e.linkedin.client_id,n=this.validateRedirectUrl(e.linkedin&&e.linkedin.redirect_url),i=`https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=${t}&redirect_uri=${n}&state=linkedin&scope=r_liteprofile,r_emailaddress`;window.location.replace(i)},loginWithSSV(){const{ssv:e}=this.$projectInfo.oauth2,{redirect_uri:t,challenge:n,authorization_endpoint:i,client_id:o}=e,r=new URLSearchParams({client_id:o,redirect_uri:t,response_type:"code",code_challenge_method:"S256",code_challenge:n,state:"ssv"}),a=`${i}?${r.toString()}`;window.location.replace(a)},validateRedirectUrl(e){const t=window.location.origin;return!e||0!==e.indexOf("http://")&&0!==e.indexOf("https://")?e?t+e:t:e},oauthValidateToken(e){var t=this;let{code:n,method:i,codeType:r="accessToken",redirect_uri:a,state:s}=e;return o()((function*(){const e={[r]:n,redirect_uri:a};t.loadingProvider=s;try{const{data:o}=yield t.$api.post("/auth/oauth2-validate",e,{baseURL:y["API_BASE_URL"],params:{method:i}}),r=["one_id","linkedin","ssv"],a=r.includes(i)?o.access_token:n,{has_profile:s,has_password:l,password_policy:c,response_body:u}=o;if("ssv"==i&&u&&(localStorage.setItem("ssv_access_token",u.access_token),localStorage.setItem("ssv_refresh_token",u.refresh_token)),s&&"required"!==c)return void(yield t.oauthLogin({token:a,method:i}));!1===l&&"none"!==c?t.showLoginModal({data:o,token:a,method:i}):yield t.oauthLogin({token:a,method:i})}catch(o){let e=t.$l("platon.error","Хатолик");o.response&&o.response.data&&o.response.data.message&&(e=o.response.data.message),t.$emit("login-error",e),t.loadingProvider=null}}))()},oauthLogin(e){var t=this;let{token:n,method:i,password:r,closeModal:a}=e;return o()((function*(){try{const e=yield t.$api.post("/auth/oauth2",{accessToken:n,password:r},{baseURL:y["API_BASE_URL"],params:{method:i}});t.onLoginSuccess({user:e.data.user,token:e.data.token,refreshToken:e.data.refreshToken,parcel:{response:e,type:"login-password"}}),t.loadingProvider=null,a&&a()}catch(e){let n=t.$l("platon.error","Хатолик");e.response&&e.response.data&&e.response.data.message&&(n=e.response.data.message),t.$emit("login-error",n),t.loadingProvider=null}}))()},showLoginModal(e){this.$modal.show(v,O(O({},e),{},{login:this.oauthLogin}),{width:"400px",clickToClose:!1})},getLocale(){const e=localStorage.getItem("platon_locale"),t={la:"uz",uz:"uz-kr"};return t[e]||e},loginWithRsImzo(){var e=this;return o()((function*(){const t=e.getLocale(),n=new l["a"](E),{data:i,error:o}=yield n.auth({options:{locale:t}});o&&console.error("RS-Imzo error: "+o);try{e.loadingProvider="rs_imzo";const t=yield e.$api.post("/auth/rsimzo",i,{baseURL:y["API_BASE_URL"],headers:{"Content-Type":"text/plain"}});e.onLoginSuccess({user:t.data.user,token:t.data.token,refreshToken:t.data.refreshToken,parcel:{response:t,type:"login-eimzo"}})}catch(o){let t=e.$l("platon.error","Хатолик");o.response&&o.response.data&&o.response.data.message&&(t=o.response.data.message),e.$emit("login-error",t)}finally{e.loadingProvider=null}}))()}})}},"6d2b":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-dropdown",{staticClass:"m-md-2",attrs:{variant:"link",text:e.currentLangInfo.name}},e._l(e.langs,(function(t){return n("b-dropdown-item",{key:t.code,attrs:{active:t.code===e.currentLang},on:{click:function(n){return e.$platonApp.setLocale(t.code)}}},[e._v(" "+e._s(t.name)+" ")])})),1)},o=[],r=n("b441"),a=n("d88a"),s={name:"LangPicker",computed:{langs(){return r["LANG_DEFINITION"]},currentLangInfo(){return this.langs.find(e=>e.code===this.currentLang)},currentLang(){return a["e"].locale}}},l=s,c=n("2877"),u=Object(c["a"])(l,i,o,!1,null,null,null);t["a"]=u.exports},"6f3b":function(e,t,n){"use strict";t["a"]={data(){return{isPublicPlatonComponent:!0===this.$route.meta["publicRoute"]}},methods:{addPublicRoutePrefix(e){return this.isPublicPlatonComponent?"public/"+e:e}}}},"714e":function(e,t,n){},"72f9":function(e,t,n){"use strict";var i=n("c973"),o=n.n(i),r=n("448a"),a=n.n(r),s=n("9523"),l=n.n(s),c=n("2ef0");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n,i,o){this.column=e,this.row=t,this.col=n,this.rowspan=i,this.colspan=o,(!this.column.children||Array.isArray(this.column.children)&&0===this.column.children.length)&&(this.isDataField=!0)}function h(e){this.columns=e}h.prototype.getAutoColumn=function(){let e=this.groupedColumns();return this.getHeaderRows({columns:e})},h.prototype.groupedColumns=function(){const e=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];o[n]=o[n]||[];const r=[],a=e=>{const t=o.length-n;e&&(!e.children||0===e.children.length)&&t>1&&(!e.rowSpan||e.rowSpan<t)&&(e.rowSpan=t)};return t.forEach((s,l)=>{const c=d({},s);o[n].push(c),i.colSpan=i.colSpan||0,c.children&&c.children.length>0?(c.children=e(c.children,n+1,c,o),i.colSpan+=c.colSpan):i.colSpan+=1;for(let e=0;e<o[n].length-1;e+=1)a(o[n][e]);l+1===t.length&&a(c),r.push(c)}),r};return e(this.columns)},h.prototype.getHeaderRows=function(e){let{columns:t=[],currentRow:n=0,rows:i=[],isLast:o=!0}=e;return i=i||[],i[n]=i[n]||[],t.forEach((e,r)=>{if(e.rowSpan&&i.length<e.rowSpan)while(i.length<e.rowSpan)i.push([]);const a=o&&r===t.length-1;let s=new p(e,n,r,e.rowSpan||1,e.colSpan||1);Array.isArray(e.children)&&e.children.length>0&&this.getHeaderRows({columns:e.children,currentRow:n+1,rows:i,isLast:a}),"colSpan"in e&&(s.colSpan=e.colSpan),"rowSpan"in e&&(s.rowSpan=e.rowSpan),0!==s.colSpan&&i[n].push(s)}),i.filter(e=>e.length>0)};var m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"platon-table-no-data"},[e._v(" "+e._s(e.$l("platon.table_no_data","Жадвалда маълумот йўқ"))+" ")])},f=[],g={name:"TableNoData"},b=g,v=n("2877"),y=Object(v["a"])(b,m,f,!1,null,null,null),_=y.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("th",{ref:"cell"},[e.isAdmin&&e.isMyProject(e.column)&&e.column.headerComponent?n("div",[n("PlatonLink",{attrs:{link:"/forms/table_columns/"+e.column.id+"?_target=modal"}},[n("i",{staticClass:"fa fa-cog"})]),n(e.column.headerComponent,{tag:"component"})],1):e.isAdmin&&e.isMyProject(e.column)?n("PlatonLink",{attrs:{link:"/forms/table_columns/"+e.column.id+"?_target=modal"}},[n("span",{domProps:{innerHTML:e._s(e.column.title)}})]):e.column.headerComponent?n(e.column.headerComponent,{tag:"component"}):n("span",{domProps:{innerHTML:e._s(e.column.title)}}),e.isSortable?n("span",{staticClass:"ml-1",on:{click:function(t){return e.$emit("sort")}}},[1===e.column.__sortDirection?n("i",{staticClass:"mdi mdi-sort-ascending"}):-1===e.column.__sortDirection?n("i",{staticClass:"mdi mdi-sort-descending"}):n("i",{staticClass:"mdi mdi-sort"})]):e._e()],1)},O=[],C=n("6c9a"),E=n("abc1"),P={name:"TableHeaderCell",components:{PlatonLink:E["a"]},mixins:[C["a"]],props:{column:{},td:{}},mounted(){this.$attrs.clone&&(this.$nextTick(this.fixBounds),window.addEventListener("resize",this.redraw)),this.isAdmin&&this.isMyProject(this.column)&&this.$el.addEventListener("mouseenter",this.hover)},beforeDestroy(){this.$attrs.clone&&window.removeEventListener("resize",this.redraw),this.isAdmin&&this.isMyProject(this.column)&&this.$el.removeEventListener("mouseenter",this.hover)},inject:{table:{default:void 0}},computed:{isSortable(){return this.column.dataField&&this.column.__bottomColumn&&this.column.attributes&&this.column.attributes.sortable}},methods:{hover(){let e=this.getTooltip();e&&(this.$el.addEventListener("mouseleave",this.mouseLeave),this.$sendEvent("PLATON:TOOLTIP:SHOW",this.$el,e))},mouseLeave(){this.$el.removeEventListener("mouseleave",this.mouseLeave),this.$sendEvent("PLATON:TOOLTIP:HIDE",this.$el)},getTooltip(){let e="устунни созлаш<br>";return this.column.dataField?e+=`<b>${this.column.dataField}</b> - ${this.column.sortOrder}`:e+=""+this.column.sortOrder,{text:e,target:this.$el}},redraw(){this.$nextTick(this.fixBounds)},fixBounds(){if(!this.table)return;let e=this.table.$el.querySelector(`th[data-col-id='column-${this.column.id}']`);if(!e)return;let t=e.getBoundingClientRect();0!==t.height&&0!==t.width&&(this.$el.style.height=t.height+"px",this.$el.style.width=t.width+"px")}}},k=P,x=Object(v["a"])(k,w,O,!1,null,null,null),A=x.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.column.__isComplexCell?n("td",e._b({ref:"cell"},"td",e.getCellAttr(),!1),[this.isTextCell&&this.column.__hasLink?n("PlatonLink",{attrs:{link:e.column.link,"link-params":e.record,"stop-propagation":!0}},[n(e.buildComplexCellComponent(),e._b({tag:"component"},"component",e.getComplexCellProps(),!1))],1):n(e.buildComplexCellComponent(),e._b({tag:"component"},"component",e.getComplexCellProps(),!1))],1):this.isTextCell&&this.column.__hasLink?n("td",e._b({ref:"cell"},"td",e.getCellAttr(),!1),[n("PlatonLink",{attrs:{link:e.column.link,"link-params":e.record,"stop-propagation":!0},domProps:{innerHTML:e._s(e.getFormattedText())}})],1):n("td",e._b({ref:"cell",domProps:{innerHTML:e._s(e.getFormattedText())}},"td",e.getCellAttr(),!1))},$=[],j=n("1832"),S=n("64f5"),D=n("0377"),L=n("7c03"),F={name:"TableCell",components:{PlatonLink:E["a"]},props:{column:{},record:{},text:{},td:{}},inject:{table:{default:void 0},ptable:{default:void 0}},mounted(){this.column.__hasHint&&this.$el.addEventListener("mouseenter",this.hover),this.$attrs.clone&&(this.$nextTick(this.fixBounds),window.addEventListener("resize",this.redraw))},beforeDestroy(){this.column.__hasHint&&this.mouseLeave(),this.$attrs.clone&&window.removeEventListener("resize",this.redraw)},methods:{hover(){let e=this.getTooltip();e&&(this.$el.addEventListener("mouseleave",this.mouseLeave),this.$sendEvent("PLATON:TOOLTIP:SHOW",this.$el,e))},mouseLeave(){this.$el.removeEventListener("mouseleave",this.mouseLeave),this.$sendEvent("PLATON:TOOLTIP:HIDE",this.$el)},getTooltip(){return this.column.hint&&this.isTextCell?{text:L["a"].replace(this.column.hint,this.record),target:this.$el}:null},redraw(){this.$nextTick(this.fixBounds)},fixBounds(){let e=this.ptable.$el.querySelector(`td[data-cell-type='${this.$attrs["data-cell-type"]}'][data-cell-id='${this.column.id}-${this.$attrs.rowIndex}']`);if(!e)return;let t=e.getBoundingClientRect();this.$refs.cell.style.height=t.height+"px",this.$refs.cell.style.width=t.width+"px"},onCellClick(){this.isTextCell&&(this.$parent.eventEmitter.$emit("onCellClick",this.column.dataField,this.record),this.column.dataField&&this.$parent.eventEmitter.$emit("onCell"+Object(S["b"])(this.column.dataField)+"Click",this.record))},buildComplexCell(){let e=this.getFormattedText(),t=this.isTextCell;try{let n=this.column.cellFormat,i=void 0,o={value:e,data:this.record,col:this.column,use:e=>{(this.isFooterCell&&"footer"===e||this.isGroupingCell&&"group"===e)&&(t=!0)},f:this.$f};if(i="function"===typeof n?n.call.apply(n,[this].concat(a()(Object.values(o)))):null!==n&&"object"===typeof n?n:Object(j["a"])(n,this,o),t)return"object"===typeof i?i:`<div>${Object(S["k"])(i,"")}</div>`}catch(n){console.warn(n)}return`<span>${e}</span>`},buildComplexCellComponent(){let e=this.buildComplexCell();return"object"===typeof e?e:this.getTemplateRenderComponent(e)},getTemplateRenderComponent(e){return{template:e,name:"Cell",props:["data","value","col"],inject:{table:{default:void 0}}}},getComplexCellProps(){return{data:this.record,value:this.getFormattedText(),col:this.column}},getCellAttr(){let e;e=this.isGroupingCell?"text-center":this.isFooterCell?"text-"+(this.column.footerAlign||"left"):"text-"+(this.column.dataAlign||"left");const t=[e];this.isGroupingCell&&t.push("group-cell");let n={};if(this.isTextCell){const{formatCondition:e,formatColor:t,formatBackgroundColor:i}=this.column;(!1===!!e||Object(j["d"])(e).call(this.record))&&(n["color"]=t,n["backgroundColor"]=i)}return{class:t,style:n}},getFormattedText(){return this.isGroupingCell?this.text:Number.isInteger(this.column.numberFormat)?Object(S["k"])(Object(D["a"])(this.text,this.column.numberFormat),""):Object(S["k"])(this.text,"")}},computed:{isGroupingCell(){return"header"===this.record.__rowType},isFooterCell(){return"footer"===this.record.__rowType},isTextCell(){return!this.isGroupingCell&&!this.isFooterCell}}},I=F,M=Object(v["a"])(I,T,$,!1,null,null,null),R=M.exports,N={data(){return{__fnMap:new Map}},methods:{generateFooterDataHolder(e,t){let n,i=this;const o={get:function(o,r){return"_field"===r||"_depth"===r?o[r]:"_count"===r?e.map(e=>e[o._field]).length:"_vcount"===r?e.map(e=>e[o._field]).filter(e=>null!==e).length:"_sum"===r?e.map(e=>Number(e[o._field])).reduce((e,t)=>e+Object(S["k"])(t,0),0):"_avg"===r?e.map(e=>Number(e[o._field])).reduce((e,t)=>e+Object(S["k"])(t,0),0)/e.length:r in o?o[r]:i.callFooterFunction(t[r],r,n)},set:function(e,t,n){return e[t]=n,!0},_data:e};return n=new Proxy({_field:"__none__",_depth:0,_f:this.$f.bind(this)},o),n},generateFooterFor(e,t,n){const i=e.map(e=>(e.sumType||e.footer||"").replace(/@/g,"this.").split("|")),o=i.reduce((e,t)=>Math.max(t.length,e),0),r=[];for(let a=0;a<o;a++){if(i.every(e=>Array.isArray(e)&&!e[a]))continue;const o=i.map(e=>e[a]).reduce((t,n,i)=>(t[e[i].dataField]=n,t),{}),s=this.generateFooterDataHolder(t,o);r.push(e.reduce((e,t)=>{let n=t.dataField;try{o[n]&&o[n].length>0?e[n]=this.callFooterFunction(o[n],n,s):e[n]=""}catch(i){e[n]=o[n],console.warn(o[n],i.message)}return e},{__rowId:`${n}_${a}`,__rowType:"footer"}))}return r},footerCalculator(e){let t;return this.$data.__fnMap.has(e)?t=this.$data.__fnMap.get(e):(t=Object(j["c"])(e),this.$data.__fnMap.set(e,t)),t},callFooterFunction(e,t,n){let i=n._field;n._field=t,n._depth+=1;let o=0;return n._depth>10?console.error(`Recursive call above 10! Checkout formula FN[ ${e} ], FIELD = ${t}`):o=this.footerCalculator(e).call(n),n[t]=o,n._field=i,n._depth-=1,o}}},U=n("b441"),V=n("e831"),B=n.n(V),z=n("95dc"),H={methods:{exportTableXlsx(e){this.$modal.show(()=>({component:Promise.all([n.e("chunk-6e83591c"),n.e("chunk-0f591b95")]).then(n.bind(null,"2d34")),loading:z["a"],delay:200}),{table:e})}}},W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"columns-filter"},[n("Modal",{attrs:{"footer-actions":e.actions,canCancel:!1},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.$l("platon.table.table-column-settings","Жадвал устунларини созлаш"))+" ")]},proxy:!0}])},[n("div",{staticClass:"mb-2 p-2 d-flex justify-content-between align-items-center border-bottom-1"},[n("b-form-checkbox",{attrs:{id:"all",value:!0,"unchecked-value":!1,checked:e.inputVal.all,name:"all"},on:{input:e.changeAll}},[e._v(" "+e._s(e.$l("platon.table.all-columns","Барча устунлар"))+" ")]),n("b-dropdown",{attrs:{size:"sm",split:"",text:e.$l("platon.table.reset-changes","Ўзгаришларни тиклаш"),variant:"primary"},on:{click:e.resetChanges}},[n("b-dropdown-item-button",{on:{click:e.resetOrders}},[e._v(e._s(e.$l("platon.table.reset-sorting","Саралашни тиклаш")))]),n("b-dropdown-item-button",{on:{click:e.resetTitles}},[e._v(e._s(e.$l("platon.table.reset-titles","Сарлавхаларни тиклаш")))])],1)],1),n("table-filter-columns",{attrs:{orders:e.inputVal.orders,columns:e.inputVal.columns,"disabled-columns":e.disabledColumns.columns},on:{"checkbox-toggler":e.getChildValue,"re-order":e.reOrder,"change-titles":e.changeTitle}})],1)],1)},q=[],Y=n("0644"),G=n.n(Y),K=n("02f0"),Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("draggable",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.clearCollapsedColumnId,expression:"clearCollapsedColumnId"}],attrs:{handle:".handle",draggable:".enabled-dnd"},on:{change:e.onDragChange},model:{value:e.inputVal.columns,callback:function(t){e.$set(e.inputVal,"columns",t)},expression:"inputVal.columns"}},[n("transition-group",{staticClass:"filter-column-wrapper",attrs:{tag:"div"}},e._l(e.inputVal.columns,(function(t){return n("div",{key:t.id,staticClass:"filter-column-field",class:{"active-column-wrapper":e.isColumnCollapsed(t.id),"enabled-dnd":t.isDraggable}},[n("div",{staticClass:"d-flex justify-content-between align-items-center"},[t.isDraggable?n("i",{staticClass:"fa fa-align-justify handle column-filter-handler mr-2"}):e._e(),n("b-form-checkbox",{staticClass:"filter-column-checkbox",attrs:{id:"id-"+t.id,value:!0,disabled:t.disabled,"unchecked-value":!1,checked:t.enabled,name:"name-"+t.id},on:{input:function(n){return e.onFilterChange(n,t)}}},[n("input",{staticClass:"filter-column-input",domProps:{value:t.title},on:{change:function(n){return e.changeTitle(n,t)}}})]),n("div",{staticClass:"d-flex align-items-center"},[t.isDraggable?e._e():n("span",{staticClass:"m-0 filter-column-fixed-status ml-3"},[e._v("Fixed")]),t.children.length>0?n("i",{staticClass:"fas fa-angle-down column-icon ml-3",class:{"active-column":e.isColumnCollapsed(t.id)},on:{click:function(n){return e.changeCollapsedColumn(t)}}}):e._e()])],1),n("transition",{attrs:{name:"column-slide-fade"}},[t.children.length>0?n("div",{directives:[{name:"show",rawName:"v-show",value:e.isColumnCollapsed(t.id),expression:"isColumnCollapsed(column.id)"}],staticClass:"ml-4"},[n("table-filter-columns",{staticClass:"pt-2",attrs:{orders:e.inputVal.orders,column:t,columns:t.children,"disabled-columns":e.disabledColumns},on:{"checkbox-toggler":function(n){return e.getChildValue(n,t)},"re-order":e.reOrder,"change-titles":e.changeChildTitle}})],1):e._e()])],1)})),0)],1)},X=[],J=n("b76a"),Q=n.n(J),ee={name:"TableFilterColumns",props:["columns","column","disabledColumns","orders"],components:{draggable:Q.a},data(){return{inputVal:{columns:this.columns,orders:this.orders,titles:{}},collapsedColumnId:null}},methods:{clearCollapsedColumnId(){this.collapsedColumnId=null},onFilterChange(e,t){const n=this.inputVal.columns.findIndex(e=>e.id===t.id);n>=0&&(this.inputVal.columns[n].enabled=e,this.disableChildren(this.inputVal.columns[n],e)),this.$emit("checkbox-toggler",this.inputVal.columns)},getChildValue(e,t){const n=this.inputVal.columns.findIndex(e=>e.id===t.id);n>=0&&(this.inputVal.columns[n].children=e)},disableChildren(e,t){let n=Array.isArray(e)?e:e.children;n.map(e=>(e.children.length>0&&this.disableChildren(e.children,t),e.disabled=!t))},changeCollapsedColumn(e){this.isColumnCollapsed(e.id)?this.collapsedColumnId=null:this.collapsedColumnId=e.id},isColumnCollapsed(e){return e===this.collapsedColumnId},onDragChange(){Object.assign(this.inputVal.orders,this.transformColumns()),this.$emit("re-order",this.inputVal.orders,this.inputVal.columns)},reOrder(e){this.inputVal.orders=e},transformColumns(){return this.inputVal.columns.reduce((e,t,n)=>(e[t.id]=n,e),{})},changeTitle(e,t){const n=e.target.value;Object.assign(this.inputVal.titles,{[t.id]:n}),this.changeColumnTitle(n,t.id),this.$emit("change-titles",this.inputVal.titles)},changeChildTitle(e){Object.assign(this.inputVal.titles,e),this.$emit("change-titles",this.inputVal.titles)},changeColumnTitle(e,t){const n=this.inputVal.columns.findIndex(e=>e.id===t);this.inputVal.columns[n].title=e}},watch:{columns(e){this.inputVal.columns=e},orders(e){this.inputVal.orders=e}}},te=ee,ne=(n("fce5"),Object(v["a"])(te,Z,X,!1,null,null,null)),ie=ne.exports,oe={name:"TableFilterColumnsWrapper",props:["columns","disabledColumns","orders","originalColumns","changeMainOrders","columnInitialTitles","titles","resolveModal","rejectModal"],components:{TableFilterColumns:ie,Modal:K["a"]},data(){var e;return{inputVal:{columns:this.columns,all:null===(e=this.disabledColumns.all)||void 0===e||e,orders:this.orders,titles:this.titles}}},methods:{reOrder(e,t){this.changeMainOrders(e),this.inputVal.orders=e,this.inputVal.columns=t},getChildValue(e){this.inputVal.columns=e},changeAll(e){this.inputVal.all=e,this.changeAllColumns(this.inputVal.columns,e)},changeAllColumns(e,t){e.map(e=>{e.enabled=t,Array.isArray(e.children)&&e.children.length>0&&this.changeAllColumns(e.children,t)})},resetChanges(){this.changeMainOrders({}),this.inputVal.titles={},this.inputVal.orders={},this.inputVal.columns=G()(this.originalColumns)},resetOrders(){this.changeMainOrders({}),this.inputVal.orders={},this.inputVal.columns=this.transformTitles(G()(this.originalColumns),this.inputVal.titles)},resetTitles(){this.inputVal.titles={},this.inputVal.columns=this.transformTitles(G()(this.inputVal.columns),this.columnInitialTitles)},changeTitle(e){this.inputVal.titles=e},transformTitles(e,t){return e.map(e=>(e.id in t&&(e.title=t[e.id]),e.children.length>0&&(e.children=this.transformTitles(e.children,t)),e))}},computed:{actions(){return[{text:this.$l("platon.save","Сақлаш"),handler:()=>{this.resolveModal(this.inputVal)}},{text:this.$l("platon.cancel","Бекор қилиш"),handler:()=>{this.rejectModal()}}]}}},re=oe,ae=(n("1650"),Object(v["a"])(re,W,q,!1,null,null,null)),se=ae.exports;function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ue=(e,t,n)=>({mouseover(i){let o=Object(S["i"])(eventPath(i),"table");if(o&&o.parentElement){let t=o.parentElement.querySelectorAll(`table > tbody > tr:nth-child(${e})`);for(let e of t)e.classList.add("hover")}n.eventEmitter.$emit("onRowHover",e-1,t)},mouseout(t){let n=Object(S["i"])(eventPath(t),"table");if(n&&n.parentElement){let t=n.parentElement.querySelectorAll(`table > tbody > tr:nth-child(${e})`);for(let e of t)e.classList.remove("hover")}},click(i){n.navigateByKeyboard&&Number.isInteger(t._rownum)&&(n.focusedRow=e,n.eventEmitter.$emit("onRowClick",e-1,t))},dblclick(i){n.navigateByKeyboard&&Number.isInteger(t._rownum)&&n.eventEmitter.$emit("onRowDblClick",e-1,t)}});function de(e,t){const n=e.reduce((e,n)=>(t in n&&e.add(n[t]),e),new Set);return Array.from(n)}function pe(e,t,n,i,o){return e(R,{props:{column:o,record:n,text:n[o.dataField],td:i},attrs:{clone:!0,"data-cell-type":"footer",rowIndex:t,width:o.width,nowrap:o.footerNowrap}})}var he,me,fe={name:"PTable",mixins:[N,H],props:{columns:{},extraColumns:{type:Array,default:()=>[]},tableData:{type:Array,default:()=>[]},tableName:{type:String,required:!1},tableId:Number,leftFixed:{default:0,type:Number},rightFixed:{default:0,type:Number},navigateByKeyboard:{default:!1,type:Boolean},navigateSelectRow:{default:!1,type:Boolean},fixedTable:{type:Boolean,default:!1},groupBy:String,tableClass:{type:String,default:""},tableStyle:{type:String,default:""},maxHeight:{type:String,default:void 0},splitRowsBy:{type:Array,default:()=>[]},level:{default:1,type:Number},columnsConfig:{type:Object,default:()=>{}}},inject:{platonTable:{default:null}},provide(){return{ptable:this}},data(){var e,t,n;let i=null!==this.platonTable,o=i?this.platonTable:this;return{isFixedColumnsReady:!0,disabledColumns:{all:!0,columns:(null===(e=this.columnsConfig)||void 0===e?void 0:e.hidden)||[]},orders:(null===(t=this.columnsConfig)||void 0===t?void 0:t.order)||{},titles:(null===(n=this.columnsConfig)||void 0===n?void 0:n.titles)||{},focusedRow:-1,focused:!1,isPlatonTable:i,eventEmitter:o,groupSize:0,isMobile:window.innerWidth<768,sortBy:void 0}},methods:{collectDisabledColumns(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.reduce((e,t)=>(t.enabled||e.push(t.id),t.children.length>0&&(e=this.collectDisabledColumns(t.children,e)),e),null!==t&&void 0!==t?t:[])},transformTitles(e){return e.map(e=>(e.id in this.titles&&(e.title=this.titles[e.id]),e.children.length>0&&(e.children=this.transformTitles(e.children)),e))},filterColumn(e){const t=this.disabledColumns.columns;return e.reduce((e,n)=>{if(!t.includes(n.id)){let t=ce({},n);e.push(t),t.children.length>0&&(t.children=this.filterColumn(a()(t.children)))}return e},[])},notDraggableColumns(){let e=[],t=this.columns;return this.leftFixed>0&&e.push.apply(e,a()(t.slice(0,this.leftFixed))),this.rightFixed>0&&e.push.apply(e,a()(t.slice(-this.rightFixed))),e.map(e=>e.id)},showColumnFilter(){var e=this;const t=Object(c["cloneDeep"])(this.orders);if(void 0===this.tableName)throw new Error("Table name is required for column filter");const n=(e,t)=>{const i=this.notDraggableColumns(),o=e.map(e=>{const o=!this.disabledColumns.columns.includes(e.id),r=void 0!==t?t:!o,a=Array.isArray(e.children)?n(e.children,r):[];return{id:e.id,disabled:t||!1,title:e.title,enabled:o,children:a,isDraggable:!i.includes(e.id)}});return o},i=e=>{let t={all:e.all,columns:this.collectDisabledColumns(e.columns)};this.sendColumnsFilter(t.columns,e.orders,e.titles).then(()=>{this.orders=e.orders,this.titles=e.titles,this.disabledColumns=t,this.isFixedColumnsReady=!this.isFixedColumnsReady,this.$nextTick(()=>this.isFixedColumnsReady=!0)})},o=()=>{this.orders=t};this.$modal.show(se,{changeMainOrders:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.orders=ce({},t)},orders:Object(c["cloneDeep"])(this.orders),disabledColumns:this.disabledColumns,columns:n(this.transformTitles(Object(c["cloneDeep"])(this.sortedColumns))),originalColumns:n(this.columns),columnInitialTitles:this.getColumnTitles(Object(c["cloneDeep"])(this.columns)),titles:Object(c["cloneDeep"])(this.titles),resolveModal:i,rejectModal:o},{width:"500px",draggable:".modal-form-header",height:"80%",clickToClose:!1})},sendColumnsFilter(e,t,n){var i=this;return o()((function*(){try{yield i.$http.post("/user/column",{level:i.level,tableId:i.tableId,column_config:{order:t,titles:n,hidden:e}})}catch(o){console.warn(o)}}))()},getColumnTitles(e){return e.reduce((e,t)=>(e[t.id]=t.title,t.children.length>0&&Object.assign(e,this.getColumnTitles(t.children)),e),{})},navigateToRow(e){if(!this.focused){let e=this.$el.querySelector("table.platon-table");this.focused=!0,e.focus()}this.focusedRow!==e&&(this.focusedRow=e)},handleNavigationByKeyboard(){let e=this.$el.querySelector("table.platon-table");e.addEventListener("blur",()=>{this.focused=!1,this.focusedRow=-1}),e.addEventListener("keydown",t=>{t.keyCode===U["Keys"].ArrowUp?(this.focusedRow=this.getNextFocusableRow(this.focusedRow,-1),this.navigateSelectRow&&this.onCurrentRowSelected(),t.preventDefault()):t.keyCode===U["Keys"].ArrowDown?(this.focusedRow=this.getNextFocusableRow(this.focusedRow,1),this.navigateSelectRow&&this.onCurrentRowSelected(),t.preventDefault()):t.keyCode===U["Keys"].Enter?(this.onCurrentRowSelected(),t.preventDefault()):t.keyCode===U["Keys"].Esc&&(t.preventDefault(),e.blur())})},handleFixedHeight(){let e=window.screen.height<800,t=this.$el.querySelector(".table-responsive");if(!t)return;t.removeEventListener("scroll",this.tableFixHead),this.$nextTick(()=>this.tableFixHead({target:this.$el}));let n=0;if(this.isPlatonTable){const e=Array.from(this.platonTable.$el.querySelectorAll(".table-filters")).map(e=>e.clientHeight).reduce((e,t)=>e+t,0),t=this.platonTable.$el.querySelector(".control-buttons");n=[this.platonTable.$refs["header"]?this.platonTable.$refs["header"].clientHeight:0,this.platonTable.$refs["pagination"]?this.platonTable.$refs["pagination"].$el.clientHeight:0,t?t.clientHeight:0,e,95].reduce((e,t)=>e+(t||0),0)}let i=`calc(100vh - ${e?0:n}px)`;t.classList.add("table-h-scroll"),t.style.maxHeight=this.maxHeight||i,t.addEventListener("scroll",this.tableFixHead)},tableFixHead(e){const t=e.target,n=t.scrollTop,i=t.querySelector("table").clientHeight,o=i-t.clientHeight,r=t.scrollLeft,a=Math.max(o-n,0);let s=t.querySelector(".platon-table-fix-left");s&&(s.style.transform=`translateX(${r}px)`);let l=t.querySelector(".platon-table-fix-right");l&&(l.style.transform=`translateX(${r}px)`),t.querySelectorAll("thead tr").forEach(e=>e.style.transform=`translateY(${n}px)`),t.querySelectorAll("tfoot tr").forEach(e=>e.style.transform=`translateY(-${a}px)`);let c=this.getMaxAvailableWidthRecursive(t.parentElement),u=Math.min(c/2)+r,d=t.querySelector("thead").getBoundingClientRect().height+"px";t.querySelectorAll(".platon-table td.group-cell").forEach(e=>{let t=Object(S["j"])(e.textContent);e.style.paddingLeft=u-t/2+"px",e.style.top=d})},getMaxAvailableWidthRecursive(e){while(e){let t=e.getBoundingClientRect().width;if(t>0)return t;e=e.parentElement}return 0},getNextFocusableRow(e,t){let n=e+t;while(n>=1&&n<=this.normalizeData.length){if(Number.isSafeInteger(this.normalizeData[n-1]._rownum))return n;n+=t}return e},onCurrentRowSelected(){this.eventEmitter.$emit("rowSelected",this.focusedRow,this.normalizeData[this.focusedRow-1])},getSumOfBottomCells(e){const t=e=>Array.isArray(e.children)&&e.children.length>0?this.getSumOfBottomCells(e.children):1;return e.reduce((e,n)=>e+t(n),0)},exportXlsx(){this.exportTableXlsx(this.$el.querySelector("table.platon-table"))},sortColumn(e){this.sortBy&&this.sortBy.column===e?this.sortBy={column:e,direction:1===this.sortBy.direction?-1:-1===this.sortBy.direction?void 0:1}:this.sortBy={column:e,direction:1}}},watch:{focusedRow(e){e>=0&&this.navigateToRow(e)}},mounted(){this.navigateByKeyboard&&this.$nextTick(this.handleNavigationByKeyboard),this.$nextTick(this.handleFixedHeight)},beforeDestroy(){},activated(){this.$nextTick(this.handleFixedHeight)},render(e,t){let n=[],i=[this.fixedTable?"table-layout: fixed":void 0,this.tableStyle].filter(e=>!!e),o={attrs:{class:"platon-table table table-bordered",tabIndex:this.navigateByKeyboard?0:void 0,style:i.join(";")},on:{}},r=this.focused?" focus ":"";return n.push(e("table",o,this.rowElements)),this.leftFixed>0&&this.isFixedColumnsReady&&!this.isMobile&&n.push(e("table",{attrs:{class:"platon-table-fix-left table table-bordered"+r,style:"width: auto"}},this.leftElements)),this.rightFixed>0&&this.isFixedColumnsReady&&!this.isMobile&&n.push(e("table",{attrs:{class:"platon-table-fix-right table table-bordered"+r,style:"width: auto"}},this.rightElements)),e("div",{attrs:{class:this.tableClass+" position-relative table-wrapper "+r}},[e("div",{attrs:{class:"table-responsive mb-0"}},n),this.hasData?[]:e(_)])},computed:{localColumns(){return this.transformTitles(this.filterColumn(this.sortedColumns))},sortedColumns(){const e=this.orders,t=n=>{let i=0;const o=Array.isArray(n)&&n.length>0?n:this.columns;return e&&0!==Object.keys(e).length?o.reduce((n,o)=>{let r=e[o.id];return o.id in e?(n.splice(r,1,ce({},o)),o.children.length>0&&(n[r].children=t(o.children))):(n.splice(i,1,ce({},o)),i++),n},new Array(o.length).fill()):o};return t()},bottomColumns(){const e=t=>t.reduce((t,n)=>(Array.isArray(n.children)&&n.children.length>0?t.push.apply(t,a()(e(n.children))):t.push(n),t),[]);return e(this.localColumns)},hasData(){return this.items.length>0},formattedColumns(){let e=a()(this.localColumns);const t=e=>{for(let n of e)n.__isComplexCell="string"===typeof n.cellFormat&&n.cellFormat.trim().length>0||null!==n.cellFormat&&"object"===typeof n.cellFormat||"function"===typeof n.cellFormat,n.__hasLink="string"===typeof n.link&&n.link.length>0,n.__hasHint="string"===typeof n.hint&&n.hint.length>0,this.sortBy&&(n.__sortDirection=n.dataField===this.sortBy.column?this.sortBy.direction:void 0),Array.isArray(n.children)&&n.children.length>0?t(n.children):n.__bottomColumn=!0};return t(e),e.push.apply(e,a()(this.extraColumns)),e},columnDefinition(){return new h(this.formattedColumns).getAutoColumn()},leftFixedColDefinition(){if(this.leftFixed>0){let e=this.formattedColumns.slice(0,this.leftFixed).filter(e=>this.columns.some((t,n)=>t.dataField===e.dataField&&n<this.leftFixed));return new h(e).getAutoColumn()}return[]},rightFixedColDefinition(){if(this.rightFixed>0){let e=this.columns.length-this.rightFixed,t=this.formattedColumns.slice(-this.rightFixed).filter(t=>this.columns.some((n,i)=>n.dataField===t.dataField&&i>=e));return new h(t).getAutoColumn()}return[]},dataFields(){let e=[];return this.columnDefinition.forEach(t=>{e.push.apply(e,a()(t.filter(e=>e.isDataField)))}),e},dataFieldsWithKeys(){return this.dataFields.reduce((e,t)=>(e[t.column.id]=t,e),{})},dataFieldColumns(){return this.dataFields.map(e=>e.column)},leftDataFieldColumns(){const e=Array.isArray(this.leftFixedColDefinition)&&Array.isArray(this.leftFixedColDefinition[0])&&this.leftFixedColDefinition[0].length;let t=this.getSumOfBottomCells(this.localColumns.slice(0,e));return this.bottomColumns.slice(0,t)},rightDataFieldColumns(){const e=Array.isArray(this.rightFixedColDefinition)&&Array.isArray(this.rightFixedColDefinition[0])&&this.rightFixedColDefinition[0].length;if(e){let t=this.getSumOfBottomCells(this.localColumns.slice(this.localColumns.length-e));return this.bottomColumns.slice(-t)}return[]},renderHeaderElements(){let e=this.$createElement;return e("thead",this.columnDefinition.map(t=>e("tr",t.map(t=>e(A,{props:{column:t.column,td:t},on:{sort:()=>{this.sortColumn(t.column.dataField)}},attrs:{"data-col-id":"column-"+t.column.id,width:t.column.width,nowrap:t.column.dataNowrap,colspan:t.colspan,rowspan:t.rowspan}})))))},renderFooterElements(){let e=this.$createElement;return e("tfoot",this.footerData.map((t,n)=>e("tr",{class:"tfoot"},this.bottomColumns.map(i=>{let o=this.dataFieldsWithKeys[i.id];return e(R,{props:{column:i,record:t,text:t[i.dataField],td:o},attrs:{"data-cell-type":"footer","data-cell-id":`${i.id}-${n}`,rowIndex:n,width:i.width,nowrap:i.footerNowrap}})}))))},renderDataElements(){let e=this.$createElement;return e("tbody",this.normalizeData.map((t,n)=>"header"===t.__rowType?e("tr",[e(R,{props:{column:this.dataFieldsWithKeys[t.id]?this.dataFieldsWithKeys[t.id].column:{},record:t,text:t.text},attrs:{colspan:t.__colspan}})]):e("tr",{on:ce({},ue(n+1,t,this)),class:{focus:this.focusedRow===n+1,tfoot:"footer"===t.__rowType}},this.bottomColumns.map(i=>{let o=1;if(!0===t.__splited){if(!Number.isInteger(t.__splitedSize)&&!this.splitRowsBy.includes(i.dataField))return;this.splitRowsBy.includes(i.dataField)||(o=t.__splitedSize)}let r=this.dataFieldsWithKeys[i.id];return e(R,{props:{column:i,record:t,text:t[i.dataField],td:r},attrs:{"data-cell-type":"cell","data-cell-id":`${i.id}-${n}`,rowIndex:n,width:i.width,rowspan:o,nowrap:"footer"===t.__rowType?i.footerNowrap:i.dataNowrap}})}))))},rowElements(){let e=[];return e.push(this.renderHeaderElements),e.push(this.renderDataElements),e.push(this.renderFooterElements),e},leftElements(){let e=[],t=this.$createElement,n=t("thead",this.leftFixedColDefinition.map(e=>t("tr",e.map(e=>t(A,{props:{column:e.column,td:e},on:{sort:()=>{this.sortColumn(e.column.dataField)}},attrs:{clone:!0,"data-cell-type":"cell",width:e.column.width,nowrap:e.column.dataNowrap,colspan:e.colspan,rowspan:e.rowspan}}))))),i=t("tbody",this.normalizeData.map((e,n)=>t("tr",{on:ce({},ue(n+1,e,this)),class:{focus:this.focusedRow===n+1}},this.leftDataFieldColumns.map(i=>{let o=this.dataFieldsWithKeys[i.id];return t(R,{props:{column:i,record:e,text:"header"===e.__rowType?"&nbsp;":e[i.dataField],td:o},attrs:{rowIndex:n,clone:!0,"data-cell-type":"cell",width:i.width,nowrap:"footer"===e.__rowType?i.footerNowrap:i.dataNowrap}})})))),o=t("tfoot",this.footerData.map((e,n)=>t("tr",this.leftDataFieldColumns.map(i=>{let o=this.dataFieldsWithKeys[i.id];return pe.call(this,t,n,e,o,i)}))));return e.push(n),e.push(i),e.push(o),e},rightElements(){let e=[],t=this.$createElement,n=t("thead",this.rightFixedColDefinition.map(e=>t("tr",e.map(e=>t(A,{props:{column:e.column,td:e},on:{sort:()=>{this.sortColumn(e.column.dataField)}},attrs:{clone:!0,width:e.column.width,nowrap:e.column.dataNowrap,colspan:e.colspan,rowspan:e.rowspan}}))))),i=t("tbody",this.normalizeData.map((e,n)=>t("tr",{on:ce({},ue(n+1,e,this)),class:{focus:this.focusedRow===n+1}},this.rightDataFieldColumns.map(i=>{let o=this.dataFieldsWithKeys[i.id];return t(R,{props:{column:i,record:e,text:"header"===e.__rowType?"&nbsp;":e[i.dataField],td:o},attrs:{rowIndex:n,clone:!0,"data-cell-type":"cell",width:i.width,nowrap:"footer"===e.__rowType?i.footerNowrap:i.dataNowrap}})})))),o=t("tfoot",this.footerData.map((e,n)=>t("tr",this.rightDataFieldColumns.map(i=>{let o=this.dataFieldsWithKeys[i.id];return pe.call(this,t,n,e,o,i)}))));return e.push(n),e.push(i),e.push(o),e},normalizeData(){let e=[],t=1,n=1;const i=e=>{const t=this.splitRowsBy.length>0;let n=1;e.forEach(e=>{t?"number"===typeof e.__splitedSize&&(e["_rownum"]=n++):e["_rownum"]=n++})},o=e=>({__rowType:"header",__rowId:"h"+t++,__colspan:this.bottomColumns.length,text:e,dataField:this.groupBy});if(this.groupBy&&"null"!==this.groupBy){const t=B()(this.items,this.groupBy),r=de(this.items,this.groupBy);this.groupSize=r.length,Object.values(t).forEach(e=>{i(e)}),r.forEach(i=>{var r;let s=t[i].length>1?this.generateFooterFor(this.bottomColumns,t[i],"f"+n++):[];(r=e).push.apply(r,[o(i)].concat(a()(t[i]),a()(s)))})}else{let t=this.items;i(t),e=t}return e},footerData(){let e=!1,t=this.groupSize,n=this.items;return this.groupBy&&(e=!0),n.length>1&&!e||e&&t>1?this.generateFooterFor(this.bottomColumns,n,"main_f"):[]},items(){let e=a()(this.tableData);if(this.splitRowsBy.length>0){const t=[];e.forEach(e=>{const n=this.splitRowsBy.reduce((t,n)=>{if(Array.isArray(e[n]))return Math.max(t,e[n].length);try{return e[n]=JSON.parse(e[n]),Math.max(t,e[n].length)}catch(i){return t}},1);for(let i=0;i<n;i++){const o=0===i?ce({},e):{};o.__splited=!0,0===i&&(o.__splitedSize=n),this.splitRowsBy.forEach(t=>{Array.isArray(e[t])&&(o[t]=e[t][i])}),t.push(o)}}),e=t}return this.sortBy&&this.sortBy.column&&e.sort((e,t)=>{const n=this.sortBy.column;return e[n]<t[n]?-1*Math.sign(this.sortBy.direction):e[n]>t[n]?Math.sign(this.sortBy.direction):0}),e}}},ge=fe,be=Object(v["a"])(ge,he,me,!1,null,null,null);t["a"]=be.exports},7377:function(e,t,n){},7507:function(e,t,n){},"778c":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("64f5");function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>e.endsWith("/")?e+Object(i["w"])(t):e+"/"+Object(i["w"])(t))}},"77b6":function(e,t,n){"use strict";var i=n("c973"),o=n.n(i);t["a"]={methods:{cropImage(e){var t=this;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o()((function*(){return new Promise((o,r)=>{const a=()=>n.e("chunk-73dffb9b").then(n.bind(null,"2230"));t.$modal.show(a,{file:e,cropperOptions:i,onCrop:e=>{o(e)}},{width:.9*window.innerWidth},{closed:()=>{r()}})})}))()}}}},"77c1":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({attrs:{errors:e.combinedErrors}},"BaseControl",e.$attrs,!1),[n("b-input",{staticClass:"form-control",attrs:{value:e.local,id:e.id,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,type:e.showPassword?"text":"password"},on:{change:e.updateLocal}}),n("div",{staticClass:"position-absolute",staticStyle:{top:"7px",right:"7px"},on:{click:function(t){e.showPassword=!e.showPassword}}},[n("i",{staticClass:"fa",class:[e.showPassword?"fa-eye-slash":"fa-eye"]})])],1)},o=[],r=n("98d1"),a=n("e117"),s=n("be1f"),l={name:"PasswordControl",components:{BaseControl:r["a"]},mixins:[a["a"],s["a"]],data(){return{showPassword:!1}},props:{autocomplete:{default:"new-password"}}},c=l,u=n("2877"),d=Object(u["a"])(c,i,o,!1,null,null,null);t["a"]=d.exports},"77da":function(e,t,n){},"79cf":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("c973"),o=n.n(i);function r(e){const t=e=>document.querySelector(`link[href*="theme-${e}"]:not([rel="prefetch"])`),n=(e,t)=>{t?e.removeAttribute("media"):e.setAttribute("media","max-width: 1px")},i=e=>{const t=document.querySelectorAll(`\n            style[data-theme*=theme]:not([data-theme*=theme-${e}]),\n            link[href*=theme]:not([href*=theme-${e}]):not([rel="prefetch"])\n        `);t.forEach(e=>n(e,!1))},r=function(){var t=o()((function*(t){const n=new Set(document.querySelectorAll('style:not([url~=""])'));e[t]&&(yield e[t]());let i=Array.from(document.querySelectorAll("style")).filter(e=>!n.has(e)).find(e=>e.innerText.includes(`/**@theme:${t}*/`));i&&(i.dataset.theme="theme-"+t)}));return function(e){return t.apply(this,arguments)}}();return function(){var e=o()((function*(e){const o=t(e);if(o)return n(o,!0),void i(e);yield r(e),i(e)}));return function(t){return e.apply(this,arguments)}}()}const a={precious:()=>Promise.all([n.e("chunk-6c75bfc5"),n.e("chunk-2d0c2187"),n.e("chunk-8daa19ae")]).then(n.t.bind(null,"9905",7)),oceanic:()=>Promise.all([n.e("chunk-aae2dee0"),n.e("chunk-2d0c2187"),n.e("chunk-8daa19ae")]).then(n.t.bind(null,"d0a4",7)),default:()=>Promise.all([n.e("chunk-2d0c2187"),n.e("chunk-bcfaf3ee")]).then(n.t.bind(null,"67e6",7))};function s(){return r(a)}},"7b7a":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.uploadComponent,e._b({ref:"manager",tag:"component",attrs:{errors:e.combinedErrors,disabled:e.disabled,readonly:e.readonly,value:e.local,item:e.item},on:{input:e.updateLocal}},"component",e.$attrs,!1))},o=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({},"BaseControl",e.$attrs,!1),[n("div",{staticClass:"input-group"},[n("div",{staticClass:"custom-file"},[n("input",{ref:"input",staticClass:"custom-file-input",attrs:{type:"file",accept:e.allowedExtensions,disabled:e.disabled||e.readonly},on:{input:function(t){return e.onFileSelected(t.target.files[0])}}}),n("label",{staticClass:"custom-file-label text-truncate"},[e._v(e._s(e.fileName))])]),n("div",{staticClass:"input-group-append"},[!e.isUploading&&e.hasUploadedFile?n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.downloadRemoteFile}},[n("i",{staticClass:"fa fa-download"})]):e._e(),e.isUploading||e.readonly?e._e():n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.$refs.input.click()}}},[n("i",{staticClass:"fa fa-cloud-upload-alt"})]),e.isUploading||!e.hasUploadedFile||e.readonly?e._e():n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.deleteUploadedFile()}}},[n("i",{staticClass:"fa fa-trash-alt"})]),e.isUploading?n("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[n("span",[e._v(e._s(e.uploadProgress)+"% ")]),n("b-spinner",{staticStyle:{width:"16px",height:"16px"},attrs:{variant:"light",label:"Spinning"}})],1):e._e(),e.isUploading?n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.cancelUpload()}}},[n("i",{staticClass:"fa fa-times"})]):e._e()])])])},a=[],s=n("c973"),l=n.n(s),c=n("370b"),u=n("98d1"),d=n("46e1"),p={name:"UploadSingle",components:{BaseControl:u["a"]},mixins:[c["a"]],props:{disabled:{},readonly:{}},mounted(){Array.isArray(this.item.data)&&this.item.data.length>0&&(this.remoteFile=this.item.data[0])},methods:{uploadBase64File(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image.jpg",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/jpeg";return l()((function*(){return t.onFileSelected(Object(d["a"])(e,n,i))}))()}}},h=p,m=n("2877"),f=Object(m["a"])(h,r,a,!1,null,null,null),g=f.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({},"BaseControl",e.$attrs,!1),[n("b-form-row",{staticClass:"plfiledrag__holder flex-grow-1",on:{dragenter:e.dragEnter,dragover:e.dragOver,dragleave:e.dragLeave,drop:e.drop}},[e._l(e.remoteFiles,(function(t,i){return n("UploadMultipleItem",e._b({key:t.id,staticStyle:{width:"200px"},attrs:{remote:t},on:{deleted:function(t){return e.remoteFiles.splice(i,1)}}},"UploadMultipleItem",{"element-id":e.$attrs["element-id"]},!1))})),e._l(e.selectedFiles,(function(t,i){return n("UploadMultipleItem",e._b({key:t.id,staticStyle:{width:"200px"},attrs:{info:t},on:{deleted:function(t){return e.selectedFiles.splice(i,1)},cancel:function(t){return e.selectedFiles.splice(i,1)}},model:{value:e.localFilesId[i],callback:function(t){e.$set(e.localFilesId,i,t)},expression:"localFilesId[index]"}},"UploadMultipleItem",{"element-id":e.$attrs["element-id"]},!1))})),e.canSelectFile?n("label",{staticClass:"plfiledrag",attrs:{for:"plfiledrag__input"}},[e.isDisabledOrReadOnly?e._e():n("button",{staticClass:"plfiledrag__btn",attrs:{type:"button"},on:{click:function(t){return e.$refs.input.click()}}},[n("i",{staticClass:"fas fa-cloud-upload-alt"}),e._v(" "+e._s(e.$l("platon.form_file","Файл"))+" ")]),n("input",{ref:"input",staticClass:"plfiledrag__input custom-file-input drag__input",attrs:{id:"plfiledrag__input",type:"file",accept:e.allowedExtensions,multiple:""},on:{input:function(t){return e.onFilesSelected(t.target.files)}}})]):e._e()],2)],1)},v=[],y=n("448a"),_=n.n(y),w=n("b224"),O=n("e117"),C=n("9686"),E=n("fd2a"),P={name:"UploadMultiple",components:{UploadMultipleItem:w["a"],BaseControl:u["a"]},mixins:[O["a"],C["a"],E["a"]],data(){return{localFilesId:[],selectedFiles:[]}},mounted(){this.emitValue()},provide(){return{item:this.item,uploadControl:this}},computed:{remoteFiles(){return this.item.data||[]}},methods:{emitValue(){let e=this.remoteFiles.map(e=>e.id);e.push.apply(e,_()(this.localFilesId)),this.updateLocal(e)},uploadBase64File(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image.jpg",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/jpeg";return l()((function*(){return t.onFilesSelected([Object(d["a"])(e,n,i)])}))()},dragEnter(e){e.preventDefault()},dragOver(e){e.preventDefault()},dragLeave(e){e.preventDefault()},drop(e){e.preventDefault();const t=e.dataTransfer.files;t.length>0&&this.onFilesSelected(t)}},watch:{localFilesId(e){this.emitValue()},remoteFiles(){this.emitValue()}}},k=P,x=(n("cd28"),Object(m["a"])(k,b,v,!1,null,null,null)),A=x.exports,T=n("be1f"),$=n("f875"),j={name:"UploadControl",components:{UploadSingle:g,UploadMultiple:A},mixins:[O["a"],T["a"],$["a"]],computed:{uploadComponent(){return this.item.isMultiple?"upload-multiple":"upload-single"}}},S=j,D=Object(m["a"])(S,i,o,!1,null,null,null);t["default"]=D.exports},"7bee":function(e,t,n){"use strict";n("2798")},"7c03":function(e,t,n){"use strict";var i=n("1832"),o=n("b9ca");class r{replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"===typeof e&&e.startsWith("vjs:"))try{const n=e.substring(4);return Object(i["a"])(n,t,Object(o["a"])())}catch(n){return console.warn(n),e}else{if(null==e||!e.includes("@")&&!e.startsWith("fjs:"))return e;{let r=e.trim(),a=r.startsWith("fjs:");a&&(r=r.substring(4));let s=a?r:"`"+r.replace(/@([\w\d]+)/g,"${this.$1}")+"`",l=Object(o["a"])();try{return Object(i["e"])(s,Object.keys(l)).apply(t,Object.values(l))}catch(n){return console.warn(n),e}}}}}t["a"]=new r},"7d28":function(e,t,n){},"7d2c":function(e,t){function n(e){var t=e.composedPath&&e.composedPath()||e.path,n=e.target;if(null!=t)return t=t.indexOf(window)<0?t.concat([window]):t,t;if(n===window)return[window];function i(e,t){t=t||[];var n=e.parentNode;return n?i(n,t.concat([n])):t}return[n].concat(i(n)).concat([window])}window.eventPath=n},"7dc3":function(e,t,n){"use strict";(function(e){e.defineLocale("la",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}).call(this,n("c1df"))},"7f3d":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"btn align-items-center",class:e.classes,attrs:{type:"button",disabled:e.loading}},[e.loading?n("b-spinner",{staticClass:"primary-text mr-2",attrs:{small:""}}):e._e(),e.icon?n("i",{staticClass:"mr-1",class:e.icon}):e._e(),e._t("default")],2)},o=[],r={name:"Btn",props:{icon:{},loading:{default:!1,type:Boolean}},computed:{classes(){let e=(this.$vnode.data.staticClass||"")+" "+(this.$vnode.data.class||""),t=new Set,n=e.match(/btn-(outline-)?(primary|warning|danger|success|info|secondary|dark-red)/g);return this.$attrs.variant&&!n&&(t.add("btn-"+(this.$attrs.variant?this.$attrs.variant:"primary")),n=!0),n||t.add("btn-primary"),Array.from(t)}}},a=r,s=n("2877"),l=Object(s["a"])(a,i,o,!1,null,null,null);t["a"]=l.exports},"80d0":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ProfileViewFragment"},[n("section",{staticClass:"ProfileView"},[n("ProfileDetails"),n("Divider"),n("Container",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[n("div",{staticClass:"ProfileView__gawp--permissions"},[n("div",{staticClass:"permission-header"},[n("h3",{staticClass:"permission-header__typography"},[e._v("Permissions:")])]),n("ul",{staticClass:"permissions-list"},[n("li",{staticClass:"permissions-list__name"},[n("code",[e._v("user.settings.themes.GoldPremiumTheme")])]),n("li",{staticClass:"permissions-list__name"},[n("code",[e._v("user.settings.themes.GoldPremiumTheme")])]),n("li",{staticClass:"permissions-list__name"},[n("code",[e._v("user.settings.themes.GoldPremiumTheme")])]),n("li",{staticClass:"permissions-list__name"},[n("code",[e._v("user.settings.themes.GoldPremiumTheme")])]),n("li",{staticClass:"permissions-list__name"},[n("code",[e._v("user.settings.themes.GoldPremiumTheme")])])])])])],1),n("section",{staticClass:"ProfileViewSettings"},[n("div",{staticClass:"ProfileViewSettings__header"},[n("h3",{staticClass:"ProfileViewSettings__header--typography"},[e._v(e._s(e.$l("platon.security-title","Хавфсизлик")))])]),n("Container",{staticClass:"ProfileViewSettings__details"},[n("Accordion",{attrs:{icon:"mdi mdi-lock-reset",header:e.$l("platon.change-password-title","Парольни ўзгартириш"),disabled:e.isChangePasswordDisabled}},[n("PasswordSettingsSection")],1),n("Accordion",{attrs:{icon:"mdi mdi-shield-edit",header:e.$l("platon.otp-enable","OTP-ни ёқиш"),disabled:e.isOtpDisabled}},[n("MFASection")],1),n("Accordion",{attrs:{icon:"mdi mdi-key",header:"E-imzo",disabled:e.isEimzoDisabled}},[n("SignatureSection")],1)],1)],1)])},o=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"ProfileViewContainer "+e.className},[e._t("default")],2)},a=[],s={name:"ProfileContainer",props:{className:{type:String,default:""}}},l=s,c=(n("c347"),n("2877")),u=Object(c["a"])(l,r,a,!1,null,"2cc8923a",null),d=u.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ProfileViewDivider",attrs:{id:"Plt-ProfileViewDivider"}})},h=[],m={name:"ProfileDivider",props:{thickness:{type:Number,default:1},unit:{type:String,default:"px"}},mounted(){const e=document.getElementById("Plt-ProfileViewDivider");e.style.height=`${this.thickness}${this.unit}`}},f=m,g=(n("a86b"),Object(c["a"])(f,p,h,!1,null,"4bde4f01",null)),b=g.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"ProfileViewAccordion "+(e.disabled&&"disabled-accordion"),attrs:{id:"Plt-ProfileViewAccordion"}},[n("div",{staticClass:"ProfileViewAccordion__topbar",on:{click:e.toggleAccordionOption}},[n("div",{staticClass:"ProfileViewAccordion__topbar--header"},[n("div",{staticClass:"topbar-header"},[n("i",{class:"fa "+e.icon})]),n("h3",{staticClass:"topbar-typography"},[e._v(" "+e._s(e.header)+" ")])]),n("button",{class:"ProfileViewAccordion__topbar--action topbar-action-button "+(e.open?"rotate180":"rotate0")},[n("i",{staticClass:"mdi mdi-chevron-down"})])]),n("b-collapse",{staticClass:"ProfileViewAccordion__frame",attrs:{id:"collapse"+this.useId},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[e._t("default")],2)],1)},y=[],_=n("c973"),w=n.n(_);function O(e,t){return C.apply(this,arguments)}function C(){return C=w()((function*(e,t){const{onSuccess:n,onError:i,type:o="get",details:r=null}=t;try{let t=null;"get"===o&&(t=yield window.$http.get(e)),"post"===o&&(t=yield window.$http.post(e)),n&&n(t)}catch(a){throw i&&i(a),new Error(a)}})),C.apply(this,arguments)}function E(){return"xxxxx4xx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}))}var P={name:"accordionComponent",props:{active:{type:Boolean,default:!1},icon:{type:String,default:""},header:{type:String,default:""},disabled:{type:Boolean,default:!1}},data(){return{open:!1,defaultHeightSize:65,useId:E()}},methods:{toggleAccordionOption(){this.disabled||(this.open=!this.open)}},mounted(){this.active?this.open=!0:this.open=!1}},k=P,x=(n("12b0"),Object(c["a"])(k,v,y,!1,null,"600801e8",null)),A=x.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"PasswordSettings"},[n("FormPassword",{attrs:{label:"Жорий пароль",name:"prevPassword"},on:{onchange:e.handleChangePasswordInput}}),n("FormPassword",{attrs:{label:"Янги пароль",name:"newPassword"},on:{onchange:e.handleChangePasswordInput}}),n("ActionButton",{attrs:{isLoading:e.loading,className:"PasswordSettings__actionButton"},on:{onclick:e.postPasswordChanges}},[e._v(" Узгартириш ")])],1)},$=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:"ActionButtonView "+e.className,on:{click:e.emitClickableAction}},[e._t("default"),n("div",{staticClass:"ActionButtonView__loader"},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"mdi mdi-loading"})])],2)},S=[],D={name:"ActionButton",props:{isLoading:{type:Boolean,default:!1},className:{type:String,default:""}},methods:{emitClickableAction(){this.$emit("onclick")}}},L=D,F=(n("f202"),Object(c["a"])(L,j,S,!1,null,"85492412",null)),I=F.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-control-profile-view"},[n("label",{staticClass:"form-control-profile-view__label"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.required,expression:"required"}],staticClass:"required"},[e._v("*")]),e._v(" "+e._s(e.label)+" ")]),"checkbox"===(e.isPasswordVisible?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control-profile-view__input",attrs:{placeholder:e.placeholder,required:e.required,autocomplete:"off",type:"checkbox"},domProps:{value:e.password,checked:Array.isArray(e.password)?e._i(e.password,e.password)>-1:e.password},on:{input:e.emitFormValueChanges,change:function(t){var n=e.password,i=t.target,o=!!i.checked;if(Array.isArray(n)){var r=e.password,a=e._i(n,r);i.checked?a<0&&(e.password=n.concat([r])):a>-1&&(e.password=n.slice(0,a).concat(n.slice(a+1)))}else e.password=o}}}):"radio"===(e.isPasswordVisible?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control-profile-view__input",attrs:{placeholder:e.placeholder,required:e.required,autocomplete:"off",type:"radio"},domProps:{value:e.password,checked:e._q(e.password,e.password)},on:{input:e.emitFormValueChanges,change:function(t){e.password=e.password}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control-profile-view__input",attrs:{placeholder:e.placeholder,required:e.required,autocomplete:"off",type:e.isPasswordVisible?"text":"password"},domProps:{value:e.password,value:e.password},on:{input:[function(t){t.target.composing||(e.password=t.target.value)},e.emitFormValueChanges]}}),n("div",{staticClass:"input-detail",on:{click:e.togglePasswordVisibility}},[n("i",{class:e.isPasswordVisible?"mdi mdi-eye-off warn":"mdi mdi-eye"})])])},R=[],N={name:"formPassword",props:{label:String,placeholder:String,defaultValue:String,name:String,required:{type:Boolean,default:!1}},data(){return{isPasswordVisible:!1,password:this.defaultValue}},methods:{togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible},emitFormValueChanges(){this.$emit("onchange",this.name,this.password)}}},U=N,V=(n("90d88"),Object(c["a"])(U,M,R,!1,null,"03bde846",null)),B=V.exports,z=n("fd2a"),H=(n("eef4"),n("b441")),W={name:"PasswordSection",components:{FormPassword:B,ActionButton:I},mixins:[z["a"]],data(){return{loading:!1,prevPassword:"",newPassword:""}},methods:{handleChangePasswordInput(e,t){this[e]=t},postPasswordChanges(){var e=this;return w()((function*(){e.loading=!0;try{yield e.$api.post(H["API_BASE_URL"]+"auth/change_user_password",{oldPassword:e.prevPassword,newPassword:e.newPassword}),e.greenToast(e.$l("platon.form_saved","Маълумотлар сақланди")),e.loading=!1,e.prevPassword="",e.newPassword=""}catch(t){e.loading=!1,e.errorToast(e.$l("platon.form_server_error","Серверда хатолик"))}finally{e.loading=!1}}))()}}},q=W,Y=(n("993f"),Object(c["a"])(q,T,$,!1,null,"4deb7734",null)),G=Y.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sgn"},[n("div",{staticClass:"sgn__switch"},[n("label",{staticClass:"switch"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:this.isWhiteListEnable},on:{click:e.typeList}}),n("span",{staticClass:"slider"})]),e._v(" "+e._s(e.$l("platon.whitelist-add","Оқ рўйхатга қўшиш"))+" ")]),n("div",{staticClass:"sgn__part"},[n("TextControl",{staticClass:"form-control-ERI",attrs:{label:e.$l("platon.eri-number","Серия номер ЭЦП"),placeholder:"user1,user2,user3"},on:{change:e.handleChangeERIInput},model:{value:e.serialERI,callback:function(t){e.serialERI=t},expression:"serialERI"}}),n("platon-btn",{staticClass:"sgn__actionbtn",attrs:{disabled:e.isDirty},nativeOn:{click:function(t){return e.postSerialNumberChanges.apply(null,arguments)}}},[e._v(" "+e._s(e.$l("platon.action-button-verify","Тасдиқлаш"))+" "),e.loading?n("b-spinner",{staticClass:"float-right",staticStyle:{width:"1.5rem",height:"1.5rem"},attrs:{label:"Floated Right"}}):e._e()],1)],1),e._l(e.whiteBlackList,(function(t){return n("div",{key:t.imzoSerial,staticClass:"sgn__list"},[n("CopyableComponent",{staticClass:"sgn__list--copy",attrs:{text:t.imzoSerial}},[n("h5",[e._v(e._s(t.imzoSerial))]),n("span",{staticClass:"sgn__list--btn"},[n("i",{staticClass:"far fa-copy"})])]),n("p",{class:t.type?"green":"red"})],1)}))],2)},Z=[],X=n("1ef7"),J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"copyable--wrapper",on:{click:e.copyTextToClipboard}},[e._t("default")],2)},Q=[],ee={props:{text:String},data(){return{hasSavedSuccessfully:!1}},methods:{copyTextToClipboard(){let e=this.text;navigator.clipboard&&(navigator.clipboard.writeText(e),this.$platonApp.greenToast(this.$l("platon.toast_success_moved","Кўчирилди")))}}},te=ee,ne=(n("625d"),Object(c["a"])(te,J,Q,!1,null,null,null)),ie=ne.exports,oe={name:"SignatureSection",mixins:[z["a"]],components:{TextControl:X["a"],CopyableComponent:ie},data(){return{loading:!1,serialERI:"",userId:this.$user.id,isWhiteListEnable:!0,whiteBlackList:[],isDirty:!0}},mounted(){this.getSignatureList()},methods:{handleChangeERIInput(e,t){this[e]=t},typeList(){this.isWhiteListEnable=!this.isWhiteListEnable},postSerialNumberChanges(){var e=this;return w()((function*(){if(e.serialERI){e.loading=!0;const n={userId:e.userId,imzoSerial:e.serialERI.split(","),type:e.isWhiteListEnable};try{yield e.$http.post("/whitelist/add",n),yield e.getSignatureList(),e.serialERI="",e.greenToast(e.$l("platon.form_saved","Маълумотлар сақланди")),e.loading=!1}catch(t){e.loading=!1,e.errorToast(e.$l("platon.form_server_error","Серверда хатолик"))}finally{e.loading=!1}}}))()},getSignatureList(){var e=this;return w()((function*(){try{const{data:t}=yield e.$http.post("/whitelist/get",{userId:e.userId});e.whiteBlackList=t}catch(t){throw new Error(t)}}))()}},watch:{serialERI(e){this.isDirty=!e}}},re=oe,ae=(n("d4eb"),Object(c["a"])(re,K,Z,!1,null,"73d6ae88",null)),se=ae.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"MFASectionView"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.isEnabledOTP,expression:"isEnabledOTP === true"}],staticClass:"MFASectionView__authDetails"},[e._m(0),n("h3",[e._v(" "+e._s(e.$l("platon.two-step-authentication-enabled","2 босқичли аутентификация фаоллаштирилган"))+" ")])]),n("div",{staticClass:"MFASectionView__authPart"},[e._m(1),n("div",{staticClass:"MFASectionView__authPart__menu mfa-header"},[n("h3",{staticClass:"mfa-header__title"},[e._v(e._s(e.$l("platon.app-authenticator","Илова аутентификацияси")))]),n("p",{staticClass:"mfa-header__description"},[e._v(" "+e._s(e.$l("platon.otp-instructions","Аутентификация иловаси ёрдамида сиз телефонингиз интернетга уланмаган бўлса ҳам тасдиқлаш кодларини исталган вақт олишингиз мумкин. Илова Android, ИОС ва Браусерлар учун ҳам мажуд"))+" ")]),n("div",{staticClass:"mfa-header__applications"},[n("div",{staticClass:"mfa-header__applications--appStore",on:{click:function(t){return e.openApplicationInBlank("https://apps.apple.com/us/app/google-authenticator/id388497605")}}},[n("i",{staticClass:"mdi mdi-apple"}),n("div",{staticClass:"application-inner-text"},[e._v(" "+e._s(e.$l("platon.ios-download","Download on the"))+" "),n("span",{staticClass:"app-name"},[e._v("AppStore")])])]),n("div",{staticClass:"mfa-header__applications--playMarket",on:{click:function(t){return e.openApplicationInBlank("https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2")}}},[n("i",{staticClass:"mdi mdi-google-play"}),n("div",{staticClass:"application-inner-text"},[e._v(" "+e._s(e.$l("platon.android-download","GET IT ON"))+" "),n("span",{staticClass:"app-name"},[e._v("Google Play")])])]),n("div",{staticClass:"mfa-header__applications--chromeExtension",on:{click:function(t){return e.openApplicationInBlank("https://chrome.google.com/webstore/detail/authenticator/bhghoamapcdpbohphigoooaddinpkbai")}}},[n("i",{staticClass:"mdi mdi-puzzle"}),e._m(2)])]),n("div",{staticClass:"mfa-header__options"},[n("button",{class:"mfa-header__options--add "+(e.isEnabledOTP?"disabled":""),on:{click:e.openExternalModalWindow}},[e._v(" "+e._s(e.isEnabledOTP?e.$l("platon.set-otp-security","Аутентификасия учун дастурни қайта фаоллаштириш"):e.$l("platon.modify-otp-security","Аутентификация дастурини созлаш ва фаоллаштириш"))+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isEnabledOTP,expression:"isEnabledOTP"}],staticClass:"mfa-header__options--toggleMFAOption",on:{click:e.openUnAuthorizationModal}},[n("i",{staticClass:"mdi mdi-trash-can-outline"}),n("h3",{staticClass:"toggle-switch-content"},[e._v(" "+e._s(e.$l("platon.disable-otp-security","Учириш"))+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isMFAOptionLoading,expression:"isMFAOptionLoading"}],staticClass:"toggle-switch-backdrop"},[n("div",{staticClass:"spinner-border spinner-border-sm text-primary ml-2",attrs:{role:"status"}})])])])])]),n("xModal",{directives:[{name:"show",rawName:"v-show",value:e.isModalOpen,expression:"isModalOpen"}],attrs:{isOpen:e.isModalOpen,styles:{width:600,height:510},header:e.$l("platon.otp-in-process","Аутентификация дастури фаоллаштирилмоқда")},on:{"on-close":e.closeExternalModalWindow}},[n("div",{staticClass:"SwipeableView"},[n("div",{staticClass:"SwipeableView__panel"},[n("div",{staticClass:"SwipeableView__panel--first",attrs:{id:"SwipeableViewPrev"}},[n("QRCAuthentication",{attrs:{state:e.authenticationProps}})],1),n("div",{staticClass:"SwipeableView__panel--second",attrs:{id:"SwipeableViewNext"}},[n("AuthorizationWithMFA",{attrs:{state:e.authorizationProps},on:{authorization:e.getAuthorizationQR,authorizationSubmit:e.authorizationSubmit}})],1)]),n("div",{staticClass:"SwipeableView__options"},[n("div",{staticClass:"SwipeableView__options--right"},[n("button",{directives:[{name:"show",rawName:"v-show",value:2===e.panelIndex,expression:"panelIndex === 2"}],on:{click:e.slideToPrev}},[e._v(" "+e._s(e.$l("platon.action-button-back","Ортга"))+" ")])]),n("div",{staticClass:"SwipeableView__options--left"},[n("button",{on:{click:e.closeExternalModalWindow}},[e._v(" "+e._s(e.$l("platon.action-button-cancel","Бекор қилиш"))+" ")]),1===e.panelIndex?n("button",{class:!e.authenticationProps.isDone&&"disabled",attrs:{disabled:!e.authenticationProps.isDone},on:{click:e.slideToNext}},[e._v(" "+e._s(e.$l("platon.action-button-next","Кейинигиси"))+" ")]):e._e(),2===e.panelIndex?n("ActionButton",{attrs:{isLoading:e.authorizationProps.isAuthenticating,className:"primary "+(e.authorizationProps.isError&&"error-disabled")+" "+(e.authorizationProps.verified&&"succeeded")},on:{onclick:e.confirmMFAAuthorization}},[e._v(" "+e._s(e.authenticationProps.verified?e.$l("platon.alert-otp-is-enabled","ОТП ёқилган"):e.$l("platon.action-button-verify","Тасдиқлаш"))+" ")]):e._e()],1)])])]),n("xModal",{directives:[{name:"show",rawName:"v-show",value:e.isUnAuthModalOpen,expression:"isUnAuthModalOpen"}],attrs:{isOpen:e.isUnAuthModalOpen,styles:{width:600,height:510},header:e.$l("platon.otp-disabling-title","Аутентификация дастури ўчирилмоқда")},on:{"on-close":e.closeExternalUnAuthModalWindow}},[n("UnAuthorizationWithMFA",{attrs:{state:e.unAuthorizationProps},on:{disabled:e.confirmMFAToggleOption,getUnAuthDigits:e.getUnAuthDigits,submitUnAuth:e.confirmMFAToggleOption}})],1)],1)},ce=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"MFASectionView__authDetails--icon"},[n("i",{staticClass:"mdi mdi-check-circle"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"MFASectionView__authPart--logo"},[i("img",{attrs:{alt:"Auth (2MFA) Application Provider logo",src:n("b879")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"application-inner-text"},[n("span",{staticClass:"app-name"},[e._v("Chrome Extension")])])}],ue=n("9523"),de=n.n(ue),pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"xModalViewPlaceholder"},[n("div",{staticClass:"xModalViewPlaceholder__context"},[n("div",{staticClass:"xModalView",attrs:{id:"xModalView-provider-frame"+e.useId}},[n("Container",{staticClass:"xModalView__navbar"},[n("h3",{staticClass:"xModalView__navbar--header"},[e._v(" "+e._s(e.header)+" ")]),n("div",{staticClass:"xModalView__navbar--close"},[n("button",{staticClass:"xModal-close-button",on:{click:e.onCloseModalWindow}},[n("i",{staticClass:"mdi mdi-close"})])])]),n("div",{staticClass:"xModalView__frame"},[e._t("default")],2)],1)])])},he=[],me={name:"xModal",components:{Container:d},props:{header:{type:String,default:""},isOpen:{type:Boolean,default:!1},styles:{type:Object,default:function(){return{height:500,width:window.innerWidth<768?window.innerWidth-40:600}}}},data(){return{useId:E()}},methods:{onCloseModalWindow(){this.$emit("on-close")}},mounted(){const e=document.querySelector("#xModalView-provider-frame"+this.useId),t=window.innerWidth;e.style.height=this.styles.height+"px",e.style.width=t<768?t-40+"px":this.styles.width+"px"}},fe=me,ge=(n("9c66"),Object(c["a"])(fe,pe,he,!1,null,"27f28a79",null)),be=ge.exports,ve=(n("02f0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"QRAuthentication"},[n("ul",{staticClass:"QRAuthentication__instructionList"},[e._m(0),n("li",{staticClass:"QRAuthentication__instructionList--follow"},[e._v(" "+e._s(" ")),n("span",{staticClass:"mention"},[e._v("ҚР кодини")]),e._v("  - сканерлашни танланг ")])]),n("div",{staticClass:"QRAuthentication__scanArea"},[n("img",{directives:[{name:"show",rawName:"v-show",value:e.state.isDone,expression:"state.isDone"}],staticClass:"QRAuthentication__scanArea--image",attrs:{alt:"QRCode has generated by Authenticator Application",src:"data:image/png;base64,"+e.state.QRAuth}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.state.isDone,expression:"!state.isDone"}],staticClass:"QRAuthentication__scanArea--backdrop"},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.state.isError,expression:"state.isError"}],staticClass:"error mdi mdi-alert-circle"}),n("div",{staticClass:"loader"},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.state.isError,expression:"!state.isError"}],staticClass:"mdi mdi-loading"})])])]),e._m(1)])}),ye=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"QRAuthentication__instructionList--follow"},[e._v(" Илова "),n("span",{staticClass:"qr-application-logo"}),n("span",{staticClass:"mention"},[e._v("Google Authenticator")]),e._v("-дан + билгисини босинг ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"QRAuthentication__subheader"},[n("p",{staticClass:"QRAuthentication__subheader--hint"},[e._v("ҚР кодини сканерлай олмаяпсизми?")])])}],_e={name:"QRCAuthentication",props:{state:{type:Object,default:function(){return{QRAuth:null,isDone:!1,isError:!1}}}}},we=_e,Oe=(n("c460"),Object(c["a"])(we,ve,ye,!1,null,"29ababdc",null)),Ce=Oe.exports,Ee=n("0616"),Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"UnAuthorizationWithMFA"},[n("AuthorizationWithMFA",{attrs:{state:{verified:e.state.verified,isError:e.state.isError}},on:{authorization:e.verifyAuthorizationViaMFA,authorizationSubmit:e.submitUnAuthorizationDigits}}),n("div",{staticClass:"UnAuthorizationWithMFA__options"},[n("ActionButton",{attrs:{isLoading:e.state.isAuthenticating,className:"option-action-button "+(e.state.isError&&"error")+" "+(e.state.verified&&"succeed")},on:{onclick:e.submitUnAuthorizationDigits}},[e._v(" "+e._s(e.state.isError?"Қайта урунинг":"Ўчириш")+" ")])],1)],1)},ke=[],xe={name:"UnAuthorizationWithMFA",components:{AuthorizationWithMFA:Ee["a"],ActionButton:I},props:{state:{type:Object,default:()=>({isError:!1,verified:!1,isAuthenticating:!1,digits:null})}},methods:{verifyAuthorizationViaMFA(e){this.$emit("getUnAuthDigits",e)},submitUnAuthorizationDigits(){this.$emit("submitUnAuth")}}},Ae=xe,Te=(n("de76"),Object(c["a"])(Ae,Pe,ke,!1,null,"dedfce92",null)),$e=Te.exports;function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){de()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De={name:"MFASection",components:{xModal:be,QRCAuthentication:Ce,AuthorizationWithMFA:Ee["a"],ActionButton:I,UnAuthorizationWithMFA:$e},data(){return{isModalOpen:!1,defaultTransformWidth:600,prevView:null,nextView:null,panelIndex:1,otpCode:null,authenticationProps:{QRAuth:null,isDone:!1,isError:!1},authorizationProps:{verified:!1,isAuthenticating:!1,isError:!1},isEnabledOTP:this.$user.hasOtpSecret,isMFAOptionLoading:!1,isUnAuthModalOpen:!1,isOTPToggle:this.$user.hasOtpSecret,unAuthorizationProps:{verified:!1,digits:null,isAuthenticating:!1,isError:!1}}},methods:{getUnAuthDigits(e){this.unAuthorizationProps.digits=e},closeExternalModalWindow(){this.isModalOpen=!1,this.slideToPrev(),this.authorizationProps={verified:!1,isAuthenticating:!1,isError:!1}},closeExternalUnAuthModalWindow(){this.isUnAuthModalOpen=!1,this.unAuthorizationProps={verified:!1,isAuthenticating:!1,digits:null,isError:!1}},getAuthorizationQR(e){this.otpCode=e,this.authorizationProps.isError&&(this.authorizationProps.isError=!1)},authorizationSubmit(){var e=this;return w()((function*(){yield e.confirmMFAAuthorization()}))()},openApplicationInBlank(e){window.open(e)},openExternalModalWindow(){var e=this;return w()((function*(){e.isModalOpen=!0,yield e.getQRAuthorizationCode()}))()},slideToPrev(){this.panelIndex=1,this.prevView.style.transform="translateX(0px)",this.nextView.style.transform=`translateX(${this.defaultTransformWidth}px)`},slideToNext(){this.panelIndex=2,this.prevView.style.transform=`translateX(-${this.defaultTransformWidth}px)`,this.nextView.style.transform=`translateX(-${this.defaultTransformWidth}px)`},getQRAuthorizationCode(){var e=this;return w()((function*(){e.authenticationProps.isDone=!1,yield O(H["API_BASE_URL"]+"auth/enable-otp",{onSuccess:t=>{e.authenticationProps.QRAuth=t.data,e.authenticationProps.isDone=!0}})}))()},openUnAuthorizationModal(){this.isUnAuthModalOpen=!0,this.isOTPToggle=!0},confirmMFAToggleOption(){var e=this;return w()((function*(){if(String(e.unAuthorizationProps.digits).length<6)return e.unAuthorizationProps.isError=!0,e.unAuthorizationProps.isAuthenticating=!1,!1;e.unAuthorizationProps.isError=!1,e.unAuthorizationProps.isAuthenticating=!0,e.isOTPToggle=!0,yield O(`${H["API_BASE_URL"]}auth/disable-otp?otp=${e.unAuthorizationProps.digits}`,{type:"post",onSuccess:t=>{200===t.data.statusCode?(e.unAuthorizationProps=Se(Se({},e.unAuthorizationProps),{},{isError:!1,isAuthenticating:!1,verified:!0}),e.isEnabledOTP=!1,e.isOTPToggle=!1,setTimeout(()=>e.closeExternalUnAuthModalWindow(),500)):e.unAuthorizationProps=Se(Se({},e.unAuthorizationProps),{},{isError:!0,isAuthenticating:!1})},onError:()=>{e.unAuthorizationProps=Se(Se({},e.unAuthorizationProps),{},{isError:!0,isAuthenticating:!1})}})}))()},confirmMFAAuthorization(){var e=this;return w()((function*(){e.isAuthenticating=!0,yield O(`${H["API_BASE_URL"]}auth/verify-otp?otp=${e.otpCode}`,{type:"post",onSuccess:t=>{t.data.verified?(e.authorizationProps=Se(Se({},e.authorizationProps),{},{verified:!0,isAuthenticating:!1}),e.isEnabledOTP=!0,setTimeout(()=>e.closeExternalModalWindow(),800)):e.authorizationProps=Se(Se({},e.authorizationProps),{},{verified:!1,isAuthenticating:!1,isError:!0})}})}))()}},mounted(){this.prevView=document.querySelector("#SwipeableViewPrev"),this.nextView=document.querySelector("#SwipeableViewNext")}},Le=De,Fe=(n("82b5"),Object(c["a"])(Le,le,ce,!1,null,"1177286c",null)),Ie=Fe.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Container",{staticClass:"ProfileView__gawp"},[n("div",{staticClass:"ProfileView__gawp--header"},[n("h4",{staticClass:"header-typography"},[e._v(e._s(e.$l("platon.my-profile","Менинг профилим")))]),n("button",{class:"header-action "+(e.unsavedWarning?"not-saved":"saved-success"),staticStyle:{visibility:"hidden"},on:{click:e.toggleEditingOption}},[e._v(" "+e._s(e.unsavedWarning?e.$l("platon.alert-not-saved","Не сохранено"):e.$l("platon.change-profile","Изменить профиль"))+" "),n("i",{class:"mdi mdi-"+(e.unsavedWarning?"alert-rhombus":"account-edit")})])]),n("div",{staticClass:"ProfileView__gawp--profile account"},[n("figure",{staticClass:"account__profileCase"},[n("img",{staticClass:"account__profileCase--image account-image",attrs:{alt:"Account Profile Image",src:"https://img.myloview.com/stickers/default-avatar-profile-flat-icon-social-media-user-vector-portrait-of-unknown-a-human-image-700-209987471.jpg"}}),n("figcaption",{staticClass:"account__profileCase--caption account-edit-caption"},[n("h3",{staticClass:"account-edit-caption-button"},[n("i",{staticClass:"mdi mdi-camera-account"}),e._v(" "+e._s(e.$l("platon.change-image","Расмни ўзгартириш"))+" ")])])]),n("div",{class:"account__profileDetails "+(e.editDetails?"details-editing-on":"details-editing-off")},[n("h3",{staticClass:"account__profileDetails--username"},[e._v("@"+e._s(e.account.username))]),n("div",{staticClass:"account__profileDetails--fullName"},[n("h3",{staticClass:"account-fullName"},[e._v(" "+e._s(e.account.fullName)+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.accountNameModel,expression:"accountNameModel"}],staticClass:"account-fullName-edit",domProps:{value:e.accountNameModel},on:{input:function(t){t.target.composing||(e.accountNameModel=t.target.value)}}})])])])])},Re=[];function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){de()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve={name:"profileDetails",components:{Container:d},data(){return{editDetails:!1,unsavedWarning:!1,accountNameModel:null,accountUserNameModel:null,account:{fullName:null,username:null,photo:null}}},methods:{toggleEditingOption(){this.editDetails=!this.editDetails},getUserDetails(){const{fullName:e,username:t,photo:n}=this.$user;this.account=Ue(Ue({},this.account),{},{fullName:e,username:t,photo:n})}},mounted(){this.getUserDetails()},watch:{accountNameModel:function(){this.unsavedWarning=!0}}},Be=Ve,ze=(n("f56f"),Object(c["a"])(Be,Me,Re,!1,null,"e735d2e4",null)),He=ze.exports,We={name:"ProfileView",props:{},data(){return{isOtpDisabled:H["IS_OTP_DISABLED"],isEimzoDisabled:H["IS_EIMZO_DISABLED"],isChangePasswordDisabled:H["IS_CHANGE_PASSWORD_DISABLED"]}},components:{Container:d,Divider:b,Accordion:A,PasswordSettingsSection:G,MFASection:Ie,ProfileDetails:He,SignatureSection:se,ModalVerification:be},mounted(){}},qe=We,Ye=(n("09de"),Object(c["a"])(qe,i,o,!1,null,"2788e1e7",null));t["a"]=Ye.exports},"813d":function(e,t,n){"use strict";var i=n("448a"),o=n.n(i);t["a"]={props:{item:{}},data(){return{flashErrors:[]}},computed:{combinedErrors(){let e=o()(this.flashErrors);return this.validationErrors&&e.push.apply(e,o()(this.validationErrors)),e},isDisabledOrReadOnly(){return this.isDisabled||this.isReadOnly},isRequired(){return this.item.isRequired},isReadOnly(){return this.item.isReadOnly},isDisabled(){return this.item.isDisabled}},methods:{focusField(){let e=this.$el.querySelector("input");e&&e.focus({preventScroll:!0})}}}},8162:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("date-picker",{attrs:{range:e.range,lang:e.language,type:e.type,inline:e.inline,disabled:e.disabled,"title-format":e.titleFormat,"time-title-format":e.timeTitleFormat,"scroll-duration":e.scrollDuration,"default-value":e.defaultValue,value:e.widgetModel},on:{input:e.emitPickerChanges}})},o=[],r=n("ec45"),a=(n("411c"),{name:"DateRangePicker",props:{defaultValue:{type:[Array,Date],default:null},type:{type:String,default:"date"},range:{default:Boolean,default:!1},language:{type:Object,default:null},inline:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},titleFormat:{type:String,default:"YYYY-MM-DD"},timeTitleFormat:{type:String,default:"YYYY-MM-DD"},scrollDuration:{type:Number,default:100}},data(){return{widgetModel:this.defaultValue}},components:{DatePicker:r["default"]},methods:{emitPickerChanges(e){this.widgetModel=e,this.$emit("input",e)}}}),s=a,l=n("2877"),c=Object(l["a"])(s,i,o,!1,null,null,null);t["a"]=c.exports},"82b5":function(e,t,n){"use strict";n("2b2d")},"857ab":function(e,t,n){},"85bc":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({staticClass:"position-relative table-filter-datepicker",attrs:{"has-append":e.$attrs.hasControls,"has-prepend":e.$attrs.hasControls,errors:e.combinedErrors},scopedSlots:e._u([e.$attrs.hasControls?{key:"append",fn:function(){return[n("b-button",{attrs:{variant:"light-outline"},on:{click:function(t){return e.addDays(1)}}},[n("i",{staticClass:"fa fa-chevron-right"})])]},proxy:!0}:null,e.$attrs.hasControls?{key:"prepend",fn:function(){return[n("b-button",{attrs:{variant:"light-outline"},on:{click:function(t){return e.addDays(-1)}}},[n("i",{staticClass:"fa fa-chevron-left"})])]},proxy:!0}:null],null,!0)},"BaseControl",e.$attrs,!1),[n("p-datepicker",{ref:"input",staticClass:"date-picker-input",class:e.classes,attrs:{placeholder:e._placeholder,config:e.options,readonly:e.isReadOnly,disabled:e.isDisabled},model:{value:e.local,callback:function(t){e.local=t},expression:"local"}}),n("div",{staticClass:"icon position-absolute",on:{click:function(t){return e.focusField()}}},[n("i",{staticClass:"fa fa-calendar-alt"})])],1)},o=[],r=n("9523"),a=n.n(r),s=n("98d1"),l=n("be1f"),c=n("b441"),u=n("c1df"),d=n.n(u),p=(n("7dc3"),n("1943")),h=n("d88a"),m=n("813d");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={name:"DateControl",mixins:[m["a"],l["a"],p["a"]],props:{value:{}},components:{BaseControl:s["a"]},data(){let e=d()(this.value||this.item.defaultValue,c["DEFAULT_SERVER_DATE_FORMAT"]),t=this.item.format||c["DEFAULT_DATE_FORMAT"];return{dateFormat:t,local:e.isValid()?e.format(t):null}},watch:{local(e){let t=e?d()(e,this.dateFormat).format(c["DEFAULT_SERVER_DATE_FORMAT"]):null;t!==this.value&&this.$emit("input",t)},value(e){this.local=e?d()(e,c["DEFAULT_SERVER_DATE_FORMAT"]).format(this.dateFormat):null}},computed:{options(){let e={};if(this.item.minDate){let t=d()(this.item.minDate,c["DEFAULT_SERVER_DATE_FORMAT"]).toDate();t.setHours(0,0,0),e.minDate=t}if(this.item.maxDate){let t=d()(this.item.maxDate,c["DEFAULT_SERVER_DATE_FORMAT"]).toDate();t.setHours(0,0,0),e.maxDate=t}return g({format:this.dateFormat,locale:h["e"].locale,useCurrent:!1,showClear:!0,showClose:!0},e)},classes(){return["text-"+(this.item.textAlign||"left")]},_placeholder(){return this.$props.placeholder||this.item.placeholder||this.dateFormat}}},v=b,y=(n("614a"),n("2877")),_=Object(y["a"])(v,i,o,!1,null,"449b6ba8",null);t["a"]=_.exports},"87cc":function(e,t,n){},"8c98":function(e,t,n){},"90d88":function(e,t,n){"use strict";n("8c98")},9224:function(e){e.exports=JSON.parse('{"name":"@realsoft/platon-core","version":"0.6.8-rc288","author":{"name":"Adizbek Ergashev","email":"adizbek1998@gmail.com"},"contributors":[{"name":"Samandar O\'ralov","email":"uralovsamandar1999@gmail.com"}],"main":"src/platon.js","scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","lint":"vue-cli-service lint","test:unit":"vue-cli-service test:unit","newVersion":"node auto-version.js","analyze":"ANALYZE_BUNDLE=1 npm run build","prepare":"husky install","precommit":"prettier --write . && git add -A ."},"publishConfig":{"@platon:registry":"https://gitlab.com/api/v4/projects/19427193/packages/npm/"},"dependencies":{"@babel/plugin-proposal-object-rest-spread":"^7.14.6","@babel/standalone":"^7.17.9","@ckeditor/ckeditor5-build-classic":"^31.1.0","@ckeditor/ckeditor5-source-editing":"^31.1.0","@ckeditor/ckeditor5-theme-lark":"^31.1.0","@ckeditor/ckeditor5-vue2":"^1.0.5","@fortawesome/fontawesome-free":"^5.15.4","@jx_code/rsimzo-client":"^0.0.27","@kangc/v-md-editor":"^1.6.1","@mdi/font":"^5.5.55","@monaco-editor/loader":"^1.3.0","@sentry/tracing":"^6.13.2","@sentry/vue":"^6.13.2","@tinymce/tinymce-vue":"^3.2.8","@vue/composition-api":"^1.6.2","axios":"^0.21.4","babel-preset-es2015":"^6.24.1","babel-preset-minify":"^0.5.2","bootstrap":"^4.6.1","bootstrap-vue":"^2.21.1","codemirror":"^5.60.0","core-js":"^3.6.5","cropperjs":"^1.5.12","highcharts":"^8.2.2","highcharts-custom-events":"^3.0.10","html-webpack-tags-plugin":"^2.0.17","imask":"^6.0.5","jquery":"^3.5.1","js-beautify":"^1.14.4","js-md5":"^0.7.3","leaflet":"^1.6.0","leaflet-draw":"^1.0.4","lodash":"^4.17.21","lodash.groupby":"^4.6.0","lodash.mergewith":"^4.6.2","luxon":"^2.0.2","moment":"^2.27.0","moment-timezone":"^0.4.1","monaco-editor":"^0.33.0","monaco-editor-webpack-plugin":"^7.0.1","monaco-languageclient":"^0.18.1","portal-vue":"^2.1.7","qs":"^6.9.6","select2":"^4.0.13","splitpanes":"^2.3.8","tinymce":"^6.2.0","v-calendar":"^2.4.1","vue":"^2.6.12","vue-bootstrap-datetimepicker-adizbek":"^5.0.2","vue-chimera":"^3.0.2","vue-codemirror":"^4.0.6","vue-eimzo":"^0.2.3","vue-grid-layout":"^2.3.12","vue-image-lightbox-carousel":"^1.0.7","vue-imask":"^6.0.5","vue-img-lightbox-fixed":"^1.0.8","vue-js-modal":"^2.0.1","vue-router":"^3.4.9","vue-simple-suggest":"^1.11.1","vue-treeselect-pl":"^0.4.1","vue2-datepicker":"^3.10.2","vue2-leaflet":"^2.7.0","vue2-leaflet-markercluster":"^3.1.0","vuedraggable":"^2.24.3","vuelidate":"^0.7.5","vuex":"^3.5.1","xlsx":"^0.18.4"},"peerDependencies":{"add-charset-webpack-plugin":"^1.0.6","html-webpack-plugin":"^4.5.2","remove-files-webpack-plugin":"^1.5.0"},"files":["src/*"],"devDependencies":{"@babel/core":"^7.17.9","@babel/plugin-proposal-object-rest-spread":"^7.14.7","@babel/plugin-proposal-optional-chaining":"^7.21.0","@babel/plugin-transform-async-to-generator":"^7.14.5","@babel/plugin-transform-spread":"^7.12.1","@types/chai":"^4.2.22","@types/google.accounts":"^0.0.2","@types/leaflet":"^1.5.20","@types/lodash.groupby":"^4.6.6","@types/mocha":"^9.0.0","@types/vuelidate":"^0.7.13","@vue/cli-plugin-babel":"^4.5.4","@vue/cli-plugin-router":"^4.5.4","@vue/cli-plugin-unit-mocha":"^4.5.4","@vue/cli-plugin-vuex":"^4.5.4","@vue/cli-service":"^4.5.4","@vue/test-utils":"^1.0.5","add-charset-webpack-plugin":"^1.0.6","chai":"^4.1.2","cross-env":"^5.2.0","eslint":"^8.9.0","eslint-plugin-vue":"^8.4.1","husky":"^8.0.0","minimist":"^1.2.0","prettier":"2.8.8","remove-files-webpack-plugin":"^1.5.0","sass":"^1.43.4","sass-loader":"^10.2.0","vue-template-compiler":"2.6.14","webpack":"^4.44.1","webpack-bundle-analyzer":"^4.5.0","webpack-merge":"^4.2.2"}}')},"95cc":function(e,t,n){},"95dc":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-items-center justify-content-center flex-column p-2",staticStyle:{"min-height":"200px"}},[n("b-spinner",{staticStyle:{width:"4rem",height:"4rem"},attrs:{variant:"primary",label:"Spinning"}})],1)},o=[],r={name:"LoadingView"},a=r,s=n("2877"),l=Object(s["a"])(a,i,o,!1,null,null,null);t["a"]=l.exports},9686:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("eef4"),o=n("d88a"),r=n("64f5");function a(e){return e=parseInt(e,10),e<0||!Number.isInteger(e)?Number.MAX_SAFE_INTEGER:1024*e}function s(e){Object(i["b"])(Object(o["b"])("platon.validation_upload_max_size",[Object(r["t"])(a(e))],"Файл ўлчами {0} гача бўлиши мумкин"))}t["a"]={methods:{onFilesSelected(e){let t=!1,n=0;for(let i of e){if(this.value.length+n>=this.maxFilesCount)return;n++,i.size>this.maxFileSize?t=!0:this.selectedFiles.push({id:(1e6*Math.random()).toString(16),file:i})}t&&s(this.maxFileSizeInText)}},computed:{maxFilesCount(){return Number(this.item.maxCount)||Number.MAX_SAFE_INTEGER},minFilesCount(){return Number(this.item.minCount)||0},canSelectFile(){let e=Array.isArray(this.value)?this.value.length:0;return e<this.maxFilesCount},maxFileSizeInText(){return this.item.maxSize},allowedExtensions(){let e=this.item.allowedExtensions||[];return e.map(e=>"*"===e?"*":"."+e).join(",")},maxFileSize(){a(this.item.maxSize)}}}},9729:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible&&e.shouldDisplay?n(e.localItem.type.toLowerCase().replace(/_/g,"-")+"-control",e._b({key:"e-"+e.localItem.id,ref:"element",tag:"component",class:e.localItem.cssClass,style:e.elementStyle,attrs:{value:e.$form.dataHolder[e.item.dataField],placeholder:e.localItem.placeholder,"data-name":e.localItem.dataField,label:e.localItem.label,size:e.localItem.width,hint:e.localItem.hint,item:e.localItem,"element-type":e.localElementType,"element-id":e.localItem.id,required:e.localItem.isRequired,disabled:e.localItem.isDisabled,readonly:e.localItem.isReadOnly,inputmode:e.localItem.inputmode},on:{input:e.updateLocal}},"component",e.extraOptions,!1)):e._e()},o=[],r=n("448a"),a=n.n(r),s=n("9523"),l=n.n(s),c=n("1ef7"),u=n("77c1"),d=n("1cd1"),p=n("a534"),h=n("85bc"),m=n("f75f"),f=n("3ac9"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({attrs:{errors:e.combinedErrors}},"BaseControl",e.$attrs,!1),[n("b-form-textarea",{staticClass:"form-control",attrs:{disabled:e.disabled,value:e.local,id:e.id,placeholder:e.placeholder,readonly:e.readonly},on:{input:e.onInput}})],1)},b=[],v=n("98d1"),y=n("e117"),_=n("be1f"),w={name:"TextareaControl",components:{BaseControl:v["a"]},mixins:[_["a"],y["a"]],methods:{onInput(e){this.markAsDirty(),this.updateLocal(e)}}},O=w,C=n("2877"),E=Object(C["a"])(O,g,b,!1,null,null,null),P=E.exports,k=n("b560"),x=n("7b7a"),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({attrs:{"disable-label":!0}},"BaseControl",e.$attrs,!1),[n(e.componentComposition,{key:"html-"+e.$attrs["element-id"],tag:"component",attrs:{items:e.siblings}}),e.item.css?n("v-style",[e._v(" "+e._s(e.item.css)+" ")]):e._e()],1)},T=[],$=n("3906"),j=n("b441"),S=n("1832"),D=n("11bb"),L={name:"HtmlControl",data(){return{html:this.item.htmlContent,withLabels:!1,elementClass:"table-form-element"}},props:{item:{}},components:{BaseControl:v["a"]},computed:{siblings(){let e=(this.$parent.$parent.children||[]).filter(e=>"html"!==e.type&&"fieldset"!==e.type);e.push.apply(e,a()(this.item.children));let t={};for(let n of e)n.dataField&&Number(n.id)!==Number(this.$attrs["element-id"])&&(t[n.dataField]=n);return t},content(){return j["IS_DEV"]&&console.warn("HTML rerender !!!"),this.html.replace(/@\[(\w+)]/g,(e,t)=>{let n=this.siblings[t];return n?`<platon-form-element key="he-${n.id}" :disable-label="${!this.withLabels}"\n\t\t\t\t\t\t\t\t:value="items.${t}.value" class="${this.elementClass}" element-type="form_elements" :item="items.${t}"/>`:e})},componentComposition(){let e={template:this.content,components:{KeyValueControl:D["a"]},mixins:[$["a"]],inject:{form:{default:void 0}},props:{items:{}}};if(this.item.js)try{e=Object.assign(e,Object(S["a"])("return "+this.item.js,null,{$this:this}))}catch(t){console.warn({text:"Component warn",js:this.item.js,e:t})}return e}}},F=L,I=Object(C["a"])(F,A,T,!1,null,null,null),M=I.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({staticStyle:{"margin-bottom":"6px"},attrs:{"disable-label":!0}},"BaseControl",e.$attrs,!1),[n("btn",{class:e.classes,staticStyle:{width:"100%"},attrs:{loading:e.isLoading,disabled:e.disabled,icon:e.item.buttonIcon},nativeOn:{click:function(t){return e.onButtonClicked.apply(null,arguments)}}},[e._v(" "+e._s(e.text)+" ")])],1)},N=[],U=n("7f3d"),V=n("4ac4"),B={name:"ButtonControl",components:{Btn:U["a"],BaseControl:v["a"]},mixins:[y["a"],V["a"]],inject:["form"],data(){return{isLoading:!1}},computed:{classes(){return this.item.cssStyle||"btn btn-primary"}},methods:{onButtonClicked(){this.item.js&&Object(S["a"])(this.item.js,this.form,{button:this})}}},z=B,H=Object(C["a"])(z,R,N,!1,null,null,null),W=H.exports,q={inject:{form:{default:void 0}},mounted(){this.form&&this.form.formMeta.focusedFieldName===this.item.dataField&&this.focus()}},Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-col",{staticClass:"tab-layout mb-3",attrs:{sm:e.item.width||12,"element-id":e.item.id}},[e.isAdmin&&e.isMyProject(e.item)?n("PlatonLink",{staticClass:"small over-target ml-2",attrs:{tabindex:"-1",link:"/forms/form_elements/"+e.item.id+"?_target=modal&form_name="+e.formMeta.name}},[n("i",{staticClass:"fa fa-cog"})]):e._e(),n("b-tabs",e._b({staticClass:"border rounded-lg",attrs:{"content-class":"mt-0","active-nav-item-class":"font-weight-bold",justified:"",card:""},model:{value:e.item.activeTab,callback:function(t){e.$set(e.item,"activeTab",t)},expression:"item.activeTab"}},"b-tabs",e.tabBindAttrs,!1),e._l(e.item.children,(function(e){return n("TabControl",{key:e.id,attrs:{tab:e}})})),1)],1)},G=[],K=n("6c9a"),Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-tab",{class:e.classes,style:e.styles,attrs:{"no-body":""},scopedSlots:e._u([{key:"title",fn:function(){return[e.isAdmin&&e.isMyProject(e.tab)?n("PlatonLink",{staticClass:"small over-target ml-2",attrs:{tabindex:"-1",link:"/forms/form_elements/"+e.tab.id+"?_target=modal&form_name="+e.formMeta.name}},[n("i",{staticClass:"fa fa-cog"})]):e._e(),n("span",{domProps:{innerHTML:e._s(e.tab.label)}})]},proxy:!0}])},[n("div",{staticClass:"form-row"},e._l(e.tab.children,(function(e){return n("PlatonFormElement",{key:e.id,attrs:{"element-type":"form_elements",item:e}})})),1)])},X=[],J={name:"TabControl",mixins:[K["a"],$["a"]],props:{tab:{required:!0}},computed:{styles(){return this.tab.cssStyle||""},classes(){let e=["p-3"];return this.tab.cssClasses&&e.push(this.tab.cssClasses),e}}},Q=J,ee=Object(C["a"])(Q,Z,X,!1,null,null,null),te=ee.exports,ne={name:"TabContainerControl",components:{TabControl:te},mixins:[K["a"],$["a"]],props:{item:{}},computed:{tabBindAttrs(){let e={};return"left"===this.item.tabsPosition?(e["vertical"]=!0,e["pills"]=!0):"right"===this.item.tabsPosition?(e["pills"]=!0,e["vertical"]=!0,e["end"]=!0):"bottom"===this.item.tabsPosition&&(e["end"]=!0),e},saveStateKey(){return this.item.saveStateKey}},methods:{tryToRestoreFrom(e){const t=parseInt(localStorage.getItem("f:tab:index:"+e));t>=0&&this.$set(this.item,"activeTab",t)},saveState(e,t){localStorage.setItem("f:tab:index:"+e,t)}},watch:{saveStateKey:{handler(e){this.tryToRestoreFrom(e)},immediate:!0},"item.activeTab"(e){this.saveStateKey&&this.saveState(this.saveStateKey,e)}}},ie=ne,oe=Object(C["a"])(ie,Y,G,!1,null,null,null),re=oe.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-control",e._b({attrs:{errors:e.combinedErrors}},"base-control",e.$attrs,!1),[n("input",{directives:[{name:"model",rawName:"v-model",value:e.local,expression:"local"}],ref:"input",staticClass:"form-control",attrs:{type:"text",placeholder:e.item.placeholder,disabled:e.isDisabled,readonly:e.isReadOnly},domProps:{value:e.local},on:{input:function(t){t.target.composing||(e.local=t.target.value)}}})])},se=[],le=n("813d"),ce={name:"RawJsonControl",components:{BaseControl:v["a"]},mixins:[le["a"],_["a"]],props:{value:{}},computed:{local:{get(){return Array.isArray(this.value)&&"object"===typeof this.value&&null!==this.value?JSON.stringify(this.value):this.value},set(e){this.markAsDirty(),this.$emit("input",e)}}}},ue=ce,de=Object(C["a"])(ue,ae,se,!1,null,null,null),pe=de.exports,he=n("b9ca");function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge={name:"PlatonFormElement",mixins:[$["a"],q],components:{InputControl:c["a"],CodeControl:()=>Promise.all([n.e("chunk-eee9a612"),n.e("chunk-c75982cc")]).then(n.bind(null,"e6fa")),MonacoEditorControl:()=>Promise.all([n.e("chunk-aa0b5c18"),n.e("chunk-6f2f15f6")]).then(n.bind(null,"c32b")),VueEditorControl:()=>Promise.all([n.e("chunk-aa0b5c18"),n.e("chunk-6e83591c"),n.e("chunk-eee9a612"),n.e("chunk-70624438"),n.e("chunk-173871af")]).then(n.bind(null,"1527")),GeoControl:()=>Promise.all([n.e("chunk-74a7ee2a"),n.e("chunk-371f347a"),n.e("chunk-2d0bb231")]).then(n.bind(null,"39d9")),GeoPolygonControl:()=>Promise.all([n.e("chunk-74a7ee2a"),n.e("chunk-2d0e5975"),n.e("chunk-0021f432"),n.e("chunk-2d0c7374"),n.e("chunk-2d0af63a")]).then(n.bind(null,"0db2")),HtmlControl:M,DateControl:h["a"],DatetimeControl:m["a"],CheckboxControl:p["a"],SelectControl:d["a"],MultiselectControl:d["a"],TextControl:c["a"],TextareaControl:P,PasswordControl:u["a"],NumberControl:k["a"],TimeControl:f["a"],FileControl:x["default"],ImageControl:()=>Promise.all([n.e("chunk-550c86b3"),n.e("chunk-c5899568")]).then(n.bind(null,"0fb6")),ButtonControl:W,TabContainerControl:re,TabControl:te,SimpleKeyValueControl:D["a"],FieldsetControl:()=>n.e("chunk-2d0ced5d").then(n.bind(null,"60c0")),MarkdownEditorControl:()=>Promise.all([n.e("chunk-eee9a612"),n.e("chunk-3be6df2c"),n.e("chunk-156973d2")]).then(n.bind(null,"2093")),"wysiwyg-control":()=>Promise.all([n.e("chunk-c5ade09e"),n.e("chunk-607ed460")]).then(n.bind(null,"d485")),RawJsonControl:pe},props:{item:{},elementType:{default:"form_elements"}},data(){return{localItem:this.item,localElementType:this.elementType,visible:!0,displayConditionFn:null,displayConditionArgs:{}}},inject:{form:{default:void 0}},watch:{shouldDisplay(e,t){e?this.$form.hiddenElements.delete(this.item.dataField):this.$form.hiddenElements.set(this.item.dataField,this)}},beforeMount(){this.$form.$on("remoteErrors",this.addFlashError),this.displayConditionArgs=this.getDisplayFnScope(),this.displayConditionFn=this.getDisplayFn()},mounted(){this.item.dataField&&this.$form.elements.set(this.item.dataField,this),this.item.id&&this.$form.elements.set(this.item.id,this)},beforeDestroy(){this.$form.$off("remoteErrors",this.addFlashError),this.item.dataField&&this.$form.elements.delete(this.item.dataField),this.item.id&&this.$form.elements.delete(this.item.id)},updated(){j["IS_DEV"]&&console.table("Updated PFE",this.item.dataField)},methods:{addFlashError(e){this.$refs.element&&this.item.dataField&&e[this.item.dataField]&&(this.$refs.element.flashErrors=[e[this.item.dataField]])},focus(){this.$refs.element&&"function"===typeof this.$refs.element.focusField&&this.$refs.element.focusField()},updateLocal(e){this.notifyDataChange(this.localItem,e),this.$refs.element&&this.$refs.element.flashErrors&&this.$refs.element.flashErrors.length>0&&(this.$refs.element.flashErrors=[])},getDisplayFn(){let e=this.displayConditionExpr;return e?Object(S["e"])(e,Object.keys(this.displayConditionArgs)):null},getDisplayFnScope(){return fe(fe({},Object(he["a"])()),{},{form:this.form})}},computed:{displayConditionExpr(){return this.localItem.displayCondition},displayConditionParams(){return this.formData},shouldDisplay(){if(null!==this.displayConditionFn)try{var e;const t=(e=this.displayConditionFn).call.apply(e,[this.displayConditionParams].concat(a()(Object.values(this.displayConditionArgs))));return!!t}catch(t){console.warn("Can not calc display condition",t)}return!0},elementStyle(){if("fieldset"!==this.item.type)return this.item.cssStyle},extraOptions(){let e={};return"html"===this.localItem.type&&(e.syntax="html"),e=fe(fe({},e),this.$attrs),e}}},be=ge,ve=Object(C["a"])(be,i,o,!1,null,null,null);t["default"]=ve.exports},"98b2":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={FORM_SAVED:"formSaved",RELOAD_MENU:"reloadMenu"};t["b"]={methods:{publishSaveFormEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.publishNativeEvent(e,i.FORM_SAVED,n),"menus"===t&&this.publishReloadMenu(e)},publishReloadMenu(e){this.publishNativeEvent(e,i.RELOAD_MENU)},publishNativeEvent(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new CustomEvent(t,{detail:n});try{e.dispatchEvent(i)}catch{}}}}},"98d1":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form-group",{staticClass:"position-relative over-hover align-self-end",class:e.classes,style:e.styles},[e.canControl||e.labels.top&&!e.disableLabel?n("div",{staticClass:"d-flex",style:{"min-height: 22px;":!e.isFilterElement}},[e.labels.top&&!e.disableLabel?n("label",{staticClass:"flex-grow-1 mb-0"},[n("span",{staticClass:"mr-1",domProps:{innerHTML:e._s(e.labels.top)}}),e.isRequired("top")?n("span",{staticClass:"text-danger mr-1",domProps:{textContent:e._s("*")}}):e._e(),"label"===e.hintPosition&&e.hint?n("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html",value:e.hint,expression:"hint",modifiers:{html:!0}}],staticClass:"fa fa-info-circle text-secondary"}):e._e()]):e._e(),e._t("top-right"),e.canControl?n("PlatonLink",{staticClass:"small over-target ml-2",staticStyle:{right:"8px","z-index":"5"},attrs:{tabindex:"-1",link:e.manageLink}},[n("i",{staticClass:"fa fa-cog"})]):e._e()],2):e._e(),n("div",{staticClass:"d-flex align-items-center"},[!e.disableLabel&&e.labels.left?n("label",{staticClass:"text-nowrap float-right pr-1",domProps:{innerHTML:e._s(e.labels.left)}}):e._e(),e.isRequired("left")?n("span",{staticClass:"text-danger mr-1",domProps:{textContent:e._s("*")}}):e._e(),n(e.appendElementsLength||e.prependElementsLength||e.hasAppend||e.hasPrepend?"b-input-group":"div",{tag:"component",staticClass:"position-relative",class:e.slotClass,staticStyle:{width:"100%"},scopedSlots:e._u([e.appendElementsLength||e.hasAppend?{key:"append",fn:function(){return[e._l(e.appendElements,(function(e){return n("PlatonFormElement",{key:e.id,staticClass:"cstm-addon right",attrs:{"element-type":"form_elements",item:e}})})),e._t("append")]},proxy:!0}:null,e.prependElementsLength||e.hasPrepend?{key:"prepend",fn:function(){return[e._l(e.prependElements,(function(e){return n("PlatonFormElement",{key:e.id,staticClass:"cstm-addon left",attrs:{"element-type":"form_elements",item:e}})})),e._t("prepend")]},proxy:!0}:null],null,!0)},[e._t("default"),"after"===e.hintPosition&&e.hint?n("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html",value:e.hint,expression:"hint",modifiers:{html:!0}}],staticClass:"ml-2 fa fa-info-circle text-secondary small"}):e._e()],2),!e.disableLabel&&e.labels.right?n("label",{staticClass:"text-nowrap pl-1",domProps:{innerHTML:e._s(e.labels.right)}}):e._e(),e.isRequired("right")?n("span",{staticClass:"text-danger",domProps:{textContent:e._s("*")}}):e._e()],1),!e.disableLabel&&e.labels.bottom?n("label",[e._v(e._s(e.labels.bottom))]):e._e(),e.isRequired("bottom")?n("span",{staticClass:"text-danger",domProps:{textContent:e._s("*")}}):e._e(),e.errors.length>0?n("div",{staticClass:"form-control-error",attrs:{"data-error-list":""}},[n("ul",e._l(e.errors,(function(t,i){return n("li",{key:i},[e._v(e._s(t))])})),0)]):e._e()])},o=[],r=n("6c9a"),a=n("abc1"),s={name:"BaseControl",components:{PlatonLink:a["a"],PlatonFormElement:()=>Promise.resolve().then(n.bind(null,"9729"))},mixins:[r["a"]],props:{size:{default:"12"},label:{default:"Label"},disableLabel:{default:!1},configurable:{default:!0},errors:{type:Array,default:()=>[]},hasPrepend:{default:!1,type:Boolean},hasAppend:{default:!1,type:Boolean},appendElements:{default:()=>[],type:Array},prependElements:{default:()=>[],type:Array},slotClass:{type:String},hintPosition:{default:"label",type:String}},methods:{isRequired(e){return this.$attrs.required&&this.renderRedDot===e}},inject:{table:{default:void 0},form:{default:void 0}},computed:{manageLink(){if(this.canControl){if("table_filters"===this.$attrs["element-type"]&&this.table)return`/forms/${this.$attrs["element-type"]}/${this.$attrs["element-id"]}?_target=modal&table_name=${this.table.tableName}&table_level=${this.table.tableLevel}`;if("form_elements"===this.$attrs["element-type"]&&this.form&&this.form.formMeta)return`/forms/${this.$attrs["element-type"]}/${this.$attrs["element-id"]}?_target=modal&form_name=`+this.form.formMeta.name}return null},canControl(){return this.isAdmin&&this.configurable&&this.isMyProject(this.$parent.item)},classes(){let e=[];return this.size<=12?e.push("col-md-"+this.size):e.push("col-md-2"),this.isFilterElement&&e.push("my-1"),e},styles(){let e={};return this.size>12&&this.size<=100?(e["maxWidth"]=this.size+"%",e["minWidth"]=this.size+"%"):this.size>100&&(e["maxWidth"]=this.size+"px",e["minWidth"]=this.size+"px"),e},isFilterElement(){return"table_filters"===this.$attrs["element-type"]},labels(){let e=(this.label||"").split("|");return{top:e[0],left:e[1],right:e[2],bottom:e[3]}},renderRedDot(){return this.labels.top?"top":this.labels.left?"left":this.labels.right?"right":this.labels.bottom?"bottom":void 0},hint(){return this.$parent.item&&this.$parent.item.hint},appendElementsLength(){return this.appendElements.length},prependElementsLength(){return this.prependElements.length}}},l=s,c=(n("39a8"),n("2877")),u=Object(c["a"])(l,i,o,!1,null,null,null);t["a"]=u.exports},"993f":function(e,t,n){"use strict";n("87cc")},"9c66":function(e,t,n){"use strict";n("3917")},"9e45":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("9523"),o=n.n(i),r=n("4328"),a=n.n(r);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){const n=a.a.stringify(l({},t),{arrayFormat:"indices"});return`${e}?${n}`}},a1a5:function(e,t){(function(e){for(var t=function(e){return"function"===typeof Node?e instanceof Node:e&&"object"===typeof e&&e.nodeName&&e.nodeType>=1&&e.nodeType<=12},n=0;n<e.length;n++)window[e[n]]&&!("append"in window[e[n]].prototype)&&(window[e[n]].prototype.append=function(){for(var e=Array.prototype.slice.call(arguments),n=document.createDocumentFragment(),i=0;i<e.length;i++)n.appendChild(t(e[i])?e[i]:document.createTextNode(String(e[i])));this.appendChild(n)})})(["Element","CharacterData","DocumentType"])},a329:function(e,t,n){},a4b1:function(e,t,n){"use strict";n("1fbb")},a534:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({staticClass:"mt-1 pt-1",attrs:{"disable-label":!0,"hint-position":"after",errors:e.combinedErrors,"slot-class":"d-flex align-items-center"}},"BaseControl",e.$attrs,!1),[n("b-form-checkbox",{staticClass:"pb-2",attrs:{switch:"",size:"lg",checked:e.local,"unchecked-value":!1,value:!0,disabled:e.isDisabledOrReadOnly},on:{input:e.updateLocal}},[e._v(" "+e._s(e.$attrs.label)+" "),e.isRequired?n("span",{staticClass:"text-danger",domProps:{textContent:e._s("*")}}):e._e()])],1)},o=[],r=n("98d1"),a=n("6c9a"),s=n("813d"),l=n("64f5"),c=n("be1f"),u={name:"CheckboxControl",components:{BaseControl:r["a"]},props:{value:{},defaultValue:{}},data(){let e=Object(l["p"])(this.value,!1);return{local:this.parseBool(e)}},mixins:[s["a"],c["a"],a["a"]],methods:{updateLocal(e){this.local=e,this.$emit("input",e)},parseBool(e){return"true"===e||1===e||"1"===e||"false"!==e&&0!=e&&"0"!==e&&!!e}},watch:{value(e){this.local=this.parseBool(e)}}},d=u,p=n("2877"),h=Object(p["a"])(d,i,o,!1,null,null,null);t["a"]=h.exports},a6c3:function(e,t,n){},a812:function(e,t,n){"use strict";(function(e){var i=n("9523"),o=n.n(i),r=n("98d1"),a=n("e117"),s=n("1157"),l=n.n(s),c=(n("65e0"),n("3906")),u=n("be1f"),d=n("64f5"),p=n("b441"),h=n("d88a");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={name:"SelectControl",components:{BaseControl:r["a"]},mixins:[a["a"],c["a"],u["a"]],props:{value:{}},data(){return{relatedFieldValue:"",data:this.item.data}},computed:{translatedOption(){return(this.data||[]).map(e=>f(f({},e),{},{id:e.id,name:e["name_"+h["e"].locale]||e.name}))},localOptions(){let e=this.translatedOption;return!this.isRelatedSelect||Object(d["l"])(this.relatedFieldValue)||Object(d["l"])(this.filterBy)||(e=e.filter(e=>{let t=e[this.filterBy]===this.relatedFieldValue;if(!t&&Number.isInteger(e[this.filterBy]))try{t=Number(e[this.filterBy])===Number(this.relatedFieldValue)}catch{}return t})),e},selectPlaceholder(){return this.localOptions.find(e=>null===e.id)},isRelatedSelect(){return this.item.isRelatedSelect},relatedSelect(){return this.item.relatedSelect},filterBy(){return this.item.filterBy},isDisabled(){return!!this.isDisabledOrReadOnly||!!this.isRelatedSelect&&!this.relatedFieldValue},isRequired(){return this.$attrs.required},isMultiselect(){return"multiselect"===this.item.type||(this.item.isMultiSelect||!1)},allowClear(){return("PlatonFormElement"!==this.$parent.$options.name||!this.isRequired)&&("boolean"===typeof this.item.allowClear?this.item.allowClear:"PlatonFormElement"===this.$parent.$options.name&&!this.isRequired)},minimumOptionsToShowSearch(){return this.item.minItemsToSearch||11},selectedOption(){return this.localOptions.find(e=>e.id==this.local)},select2ExtraOptions(){return{templateSelection:this.item.templateSelection,templateResult:this.item.templateResult,maximumSelectionLength:this.item.selectionCount,multiple:this.isMultiselect,allowClear:this.allowClear,disabled:this.readonly?"readonly":void 0,placeholder:this.selectPlaceholder||{id:"",text:this.placeholder},minimumResultsForSearch:this.minimumOptionsToShowSearch}}},methods:{initSelect2(){let t=this,n=0;p["IS_DEV"]&&console.log("Rendered");let i=this.value;l()(this.$refs.select).off().empty().select2(f(f({},this.select2ExtraOptions),{},{data:this.localOptions,matcher:(e,t)=>(t.text=Object(d["n"])(t.name)?"":t.name,l.a.fn.select2.defaults.defaults.matcher(e,t)),templateSelection:e=>e.name,language:{noResults:()=>this.$l("platon.select_has_no_data","Натижа топилмади"),maximumSelected:e=>this.$ll("platon.selected_more_items",[e.maximum],"{0} тадан кўп элемент танлаш мумкин эмас")}})).val(i).trigger("change").on("change",()=>{let e=l()(t.$refs.select).val();Array.isArray(e)&&Array.isArray(this.local)?(e.length!==this.local.length||e.some((e,t)=>this.local[t]!==e))&&this.updateLocal(e):this.local!==e&&this.updateLocal(e)}).on("select2:closing",()=>{n=(new Date).getTime()}),l()(this.$refs.select).parent().find(".select2-selection--single").keyup(e=>{27!==e.keyCode||e.defaultPrevented||(new Date).getTime()-200>n||e.stopPropagation()}),l()(this.$refs.select).parent().find(".select2-selection").keydown(t=>{if(t.which<32)return;let n=e(t.target).closest(".select2-container");if(!n.length)return;n=n.prev(),n.select2("open");const i=n.data("select2").dropdown.$search||n.data("select2").selection.$search;i.focus()})}},mounted:function(){this.initSelect2(),this.$watch("value",e=>{l()(this.$refs.select).val(e).trigger("change")})},watch:{formData:{deep:!0,immediate:!0,handler(e,t){this.isRelatedSelect&&(e[this.relatedSelect]?this.relatedFieldValue=e[this.relatedSelect]:(this.relatedFieldValue=null,this.updateLocal(null)))}},item:{deep:!0,handler(e){this.data=e.data}},localOptions:function(e){this.initSelect2()},"item.selectionCount"(){this.initSelect2()}},beforeDestroy:function(){l()(this.$refs.select).select2("close"),l()(this.$refs.select).off().select2("destroy")}}}).call(this,n("1157"))},a86b:function(e,t,n){"use strict";n("ade0")},a986:function(e,t,n){"use strict";t["a"]={props:{route:{}},data(){let e=this.route||this.$route;return{localRoute:e}},methods:{q(e){return this.localRoute.query[e]}}}},abc1:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"span"===e.tag?n(e.tag,{tag:"component"},[e._t("default")],2):"a"===e.tag?n(e.tag,e._b({ref:"link",tag:"component",class:{link:e.isValidLink},on:{click:e.onFormClick}},"component",e.extra,!1),[e._t("default")],2):n(e.tag,e._b({ref:"link",tag:"component",class:{link:e.isValidLink},nativeOn:{click:function(t){return e.onFormClick.apply(null,arguments)}}},"component",e.extra,!1),[e._t("default")],2)},o=[],r=n("9523"),a=n.n(r),s=n("2ce5"),l=n("2f62");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"PlatonLink",mixins:[s["a"]],props:{link:{},linkParams:{},stopPropagation:{}},mounted(){},methods:u(u({},Object(l["d"])({collapseMenu:"platon/toggleMenuCollapse"})),{},{onMenuLinkCollapse(){window.innerWidth<=1200&&this.collapseMenu()},onFormClick(e){if(e.preventDefault(),this.isValidLink)if(this.isValidLink&&this.onMenuLinkCollapse(),!0===this.stopPropagation&&e.stopPropagation(),"internal"===this.routeInfo.type){let t=this.routeInfo.route,n=navigator.platform.toLowerCase().includes("mac"),i=n&&e.metaKey||!n&&e.ctrlKey;if(i){let e=this.resolveNavigateTo(this.link,this.linkParams||{});e.route.query._target="blank",e&&e.route&&(t=this.$router.resolve(e.route).route)}this.navigateToRoute(t)}else{let{target:e,link:t}=this.routeInfo;"blank"===e?window.open(t,"_blank"):window.open(t,"_self")}}}),computed:{routeInfo(){return this.resolveNavigateTo(this.link,this.linkParams||{})},extra(){if(!this.isValidLink)return{};let e={},t=this.routeInfo;return"external"===t.type?e.href=t.link:(e.to=t.link,e.event=""),t.target&&(e.target=t.target),e},isValidLink(){return"#"!==this.link&&this.routeInfo.link&&this.routeInfo.type},tag(){return"external"===this.routeInfo.type&&this.isValidLink||"#"===this.link?"a":"internal"===this.routeInfo.type&&this.isValidLink?"router-link":"span"}}},p=d,h=n("2877"),m=Object(h["a"])(p,i,o,!1,null,null,null);t["a"]=m.exports},ada6:function(e,t,n){"use strict";n("2bbd")},ade0:function(e,t,n){},afd7:function(e,t,n){},b224:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p-1 px-2"},[n("div",{staticClass:"float-left mt-1 pr-2"},[n("div",{ref:"file",staticClass:"icon",style:{"background-color":e.fileIconColor}},[e._v(" "+e._s(e.fileExtension)+" ")])]),n("div",{staticClass:"pl-2"},[n("div",{staticClass:"file-name d-flex"},[n("div",{staticClass:"d-inline-block text-truncate overflow-hidden flex-grow-1"},[e._v(e._s(e.fileName))]),e.isUploading||e.isUploadError||!e.canDownload?e._e():n("div",{staticClass:"ml-1 cursor-pointer",on:{click:function(t){return e.openFilePreviewModal(e.remoteFile)}}},[n("i",{staticClass:"fas fa-eye"})]),e.isUploading||e.isUploadError||!e.canDownload?e._e():n("div",{staticClass:"ml-1 cursor-pointer",on:{click:e.downloadRemoteFile}},[n("i",{staticClass:"fa fa-download"})]),e.isUploading||e.isUploadError||e.uploadControl.isDisabledOrReadOnly?e._e():n("div",{staticClass:"ml-1 cursor-pointer",on:{click:e.deleteUploadedFile}},[n("i",{staticClass:"fa fa-trash text-danger"})]),e.isUploadError?n("div",{staticClass:"ml-1 cursor-pointer",on:{click:function(t){return e.uploadFile()}}},[n("i",{staticClass:"fa fa-redo"})]):e._e(),e.isUploading?n("div",{staticClass:"ml-1 cursor-pointer d-flex align-items-center"},[n("b-spinner",{staticStyle:{width:"10px",height:"10px","border-width":"0.12em"},attrs:{variant:"primary"}})],1):e._e(),e.isUploading||e.isUploadError?n("div",{staticClass:"ml-1 cursor-pointer",on:{click:e.cancelUpload}},[n("i",{staticClass:"fa fa-times text-danger"})]):e._e()]),n("div",{staticClass:"uploaded-date"},[e._v(e._s(e.fileDescription))])])])},o=[],r=n("370b"),a=n("1320"),s={name:"UploadMultipleItem",mixins:[r["a"],a["a"]],props:{info:{}},inject:["item","uploadControl"],mounted(){this.info&&this.info.file&&this.onFileSelected(this.info.file)}},l=s,c=(n("13b0"),n("2877")),u=Object(c["a"])(l,i,o,!1,null,"d7864da6",null);t["a"]=u.exports},b2f8:function(e,t,n){},b441:function(e,t,n){"use strict";n.r(t),n.d(t,"PLATON_LOGIN_PAGE",(function(){return O})),n.d(t,"PLATON_EIMZO_KEY",(function(){return C})),n.d(t,"PLATON_EIMZO_CLIENT",(function(){return E})),n.d(t,"PLATON_HOME_REDIRECT",(function(){return P})),n.d(t,"PLATON_ENABLE_SENTRY",(function(){return k})),n.d(t,"PLATON_SENTRY_DNS",(function(){return x})),n.d(t,"PLATON_ROUTER_BASE_URL",(function(){return w})),n.d(t,"PLATON_NOLAYOUT",(function(){return A})),n.d(t,"DEV_MODE",(function(){return T})),n.d(t,"DevLog",(function(){return $})),n.d(t,"API_SUFFIX",(function(){return j})),n.d(t,"IS_OTP_DISABLED",(function(){return S})),n.d(t,"IS_EIMZO_DISABLED",(function(){return D})),n.d(t,"IS_CHANGE_PASSWORD_DISABLED",(function(){return L})),n.d(t,"DEFAULT_THEME",(function(){return F})),n.d(t,"DEFAULT_THEME_COLOR",(function(){return I})),n.d(t,"IS_DEV",(function(){return M})),n.d(t,"API_BASE_URL",(function(){return R})),n.d(t,"SERVER_ENDPOINT",(function(){return N})),n.d(t,"FRONTEND_URL",(function(){return U})),n.d(t,"API_ENDPOINT",(function(){return V})),n.d(t,"LOGIN_ENDPOINT",(function(){return B})),n.d(t,"UPLOAD_ENDPOINT",(function(){return z})),n.d(t,"PRIVATE_UPLOAD_ENDPOINT",(function(){return H})),n.d(t,"DOWNLOAD_ENDPOINT",(function(){return W})),n.d(t,"IMAGE_ENDPOINT",(function(){return q})),n.d(t,"FRONTEND_PREFIX",(function(){return Y})),n.d(t,"APP_NAME",(function(){return G})),n.d(t,"APP_SHORT_NAME",(function(){return K})),n.d(t,"BACKEND_TIMEZONE",(function(){return Z})),n.d(t,"DEFAULT_DATE_FORMAT",(function(){return X})),n.d(t,"DEFAULT_DATETIME_FORMAT",(function(){return J})),n.d(t,"DEFAULT_TIME_FORMAT",(function(){return Q})),n.d(t,"DEFAULT_SERVER_DATE_FORMAT",(function(){return ee})),n.d(t,"DEFAULT_SERVER_DATETIME_FORMAT",(function(){return te})),n.d(t,"ENABLED_LANGS",(function(){return ne})),n.d(t,"CONTACT_PHONE",(function(){return ie})),n.d(t,"CONTACT_TELEGRAM",(function(){return oe})),n.d(t,"LANG_DEFINITION",(function(){return re})),n.d(t,"AVAILABLE_LOGIN_PROVIDERS",(function(){return ae})),n.d(t,"ENABLED_LOGIN_PROVIDERS",(function(){return se})),n.d(t,"APP_VERSION",(function(){return le})),n.d(t,"DEFAULT_LANG",(function(){return ce})),n.d(t,"COPYRIGHT_URL",(function(){return ue})),n.d(t,"COPYRIGHT",(function(){return de})),n.d(t,"IN_SITE_COPYRIGHT",(function(){return pe})),n.d(t,"EXPORT_RESOURCE_URL",(function(){return he})),n.d(t,"Keys",(function(){return me})),n.d(t,"DEFAULT_MAP_CENTER",(function(){return fe})),n.d(t,"CONSTANTS",(function(){return ge})),n.d(t,"AUDIT_URL",(function(){return be})),n.d(t,"AUDIT_TYPES",(function(){return ve})),n.d(t,"themeModes",(function(){return ye})),n.d(t,"hexColors",(function(){return _e})),n.d(t,"LAST_WINTER_DATE",(function(){return we}));let i=Object({NODE_ENV:"production",BASE_URL:"/"}),{PLATON_SERVER_URL:o,PLATON_APP_NAME:r,PLATON_SERVER_PREFIX:a,PLATON_SHORT_NAME:s,PLATON_LOGIN_PROVIDER:l,PLATON_API_URL:c,PLATON_LOGIN_URL:u,PLATON_APP_LANGS:d,PLATON_OTP_DISABLED:p,PLATON_EIMZO_DISABLED:h,PLATON_CHANGE_PASSWORD_DISABLED:m,PLATON_API_SUFFIX:f,PLATON_CONTACT_PHONE:g,PLATON_CONTACT_TELEGRAM:b,PLATON_DEFAULT_LANG:v,PLATON_COPYRIGHT_URL:y,PLATON_AUDIT_LINK:_,PLATON_ROUTER_BASE_URL:w,PLATON_LOGIN_PAGE:O,PLATON_EIMZO_KEY:C,PLATON_EIMZO_CLIENT:E,PLATON_HOME_REDIRECT:P,PLATON_ENABLE_SENTRY:k,PLATON_SENTRY_DNS:x,PLATON_NOLAYOUT:A}=window.configs;const T="1"===localStorage.getItem("DEV_MODE");function $(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];T&&(t=console).log.apply(t,[(new Date).toISOString(),e].concat(i))}const j=f||Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_SUFFIX,S=p,D=h,L=m,F=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEFAULT_THEME||"platon",I=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEFAULT_THEME_COLOR||"platon",M="development"===i.NODE_ENV||!0===i.DEBUG,R=o+"/"+a,N=R+c,U=i.VUE_APP_FRONTEND_URL||location.origin,V=R+(void 0===j?"api":j),B=u,z="files/upload/form",H="web/v1/public/forms/file/upload",W=R+"uploads/files",q=R+"uploads/images",Y=w||i.VUE_APP_ROUTER_BASE_URL,G=r||"Platon",K=s||G,Z=i.VUE_APP_SERVER_TIMEZONE||"Asia/Tashkent",X="DD.MM.YYYY",J="DD.MM.YYYY HH:mm",Q="HH:mm",ee="YYYY-MM-DD",te="YYYY-MM-DDTHH:mm:ssZ",ne=(d||"uz,la,ru,en,kh,qq").split(","),ie=g||i.VUE_APP_CONTACT_PHONE||"+998 (97) 136-84-84",oe=b||i.VUE_APP_CONTACT_TELEGRAM||"https://t.me/realsoft_uz",re=[{code:"uz",name:"Ўзбекча"},{code:"la",name:"Oʻzbekcha"},{code:"ru",name:"Русский"},{code:"en",name:"English"},{code:"qq",name:"Qaraqalpaqsha"},{code:"kh",name:"Khmer"}].filter(e=>ne.includes(e.code)),ae=["default","eimzo","google","facebook","one_id","keycloak","linkedin","ssv","rs_imzo"],se=(l||"default").split(",").filter(e=>ae.includes(e)),le=n("9224").version||"0.0.0",ce=v||i.VUE_APP_DEFAULT_LANG||"uz",ue=y||i.VUE_APP_COPYRIGHT_URL||"",de=(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_COPYRIGHT||"RealSoft 2020-"+(new Date).getFullYear()).replace("{Y}",(new Date).getFullYear().toString()),pe=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_IN_SITE_COPYRIGHT||de,he=e=>{"string"===typeof e&&e.startsWith("/")&&(e=e.substr(1));let t=`${R}export/${e}`,n="_bearer_token="+localStorage["auth_token"];return e.includes("?")?`${t}&${n}`:`${t}?${n}`},me={ArrowUp:38,ArrowDown:40,Enter:13,Esc:27,D:68,I:73},fe=[41.311081,69.240562],ge={IS_DEV:M,API_BASE_URL:R,SERVER_ENDPOINT:N,API_ENDPOINT:V,LOGIN_ENDPOINT:B,UPLOAD_ENDPOINT:z,FRONTEND_URL:U,DOWNLOAD_ENDPOINT:W,FRONTEND_PREFIX:Y,APP_NAME:G,APP_SHORT_NAME:K,BACKEND_TIMEZONE:Z,DEFAULT_DATE_FORMAT:X,DEFAULT_DATETIME_FORMAT:J,DEFAULT_TIME_FORMAT:Q,DEFAULT_SERVER_DATE_FORMAT:ee,DEFAULT_SERVER_DATETIME_FORMAT:te,AVAILABLE_LOGIN_PROVIDERS:ae,ENABLED_LOGIN_PROVIDERS:se,LANG_DEFINITION:re,APP_VERSION:le,DEFAULT_LANG:ce,COPYRIGHT:de,IN_SITE_COPYRIGHT:pe,COPYRIGHT_URL:ue,EXPORT_RESOURCE_URL:he,Keys:me,DEFAULT_MAP_CENTER:fe,CONTACT_PHONE:ie,CONTACT_TELEGRAM:oe},be=_||i.VUE_APP_AUDIT_LINK,ve={loggedIn:"Foydalanuvchi profilga kirdi",loggedOut:"Foydalanuvchi profildan chiqdi",tableRead:"Jadval ochildi",pageRead:"Sahifa ochildi",formRead:"Forma ochildi",formInsert:"Formadan malumot yaratildi",formUpdate:"Formadan malumot yangilandi",formDelete:"Formadan malumot ochirildi",formHardDelete:"Formadan malumot toliq ochirildi"},ye=[{key:"platon",name:"Platon",colors:[{key:"platon",name:"Platon",pickerHex1:"#FFFFFF",pickerHex2:"#69BB8E",pickerHex3:"#3D5C95"},{key:"dark",name:"Dark",pickerHex1:"#FFFFFF",pickerHex2:"#5163ac",pickerHex3:"#3391FA"},{key:"deepDark",name:"Deep dark",pickerHex1:"#464646",pickerHex2:"#3D6EF5",pickerHex3:"#171717"},{key:"light",name:"Light",pickerHex1:"#FFF",pickerHex2:"#e3e7f5",pickerHex3:"#3657d9"},{key:"green",name:"Green",pickerHex1:"#59C398",pickerHex2:"#3D56D1",pickerHex3:"#508553"},{key:"darkBlue",name:"Dark-blue",pickerHex1:"#59C398",pickerHex2:"#3D56D1",pickerHex3:"#071142"}]},{key:"oceanic",name:"Oceanic",colors:[{key:"oceanicBlue",name:"Blue",pickerHex1:"#2687EF",pickerHex2:"#F3F9FF",pickerHex3:"#0058B0"},{key:"oceanicGreen",name:"Green",pickerHex1:"#00BE76",pickerHex2:"#E6B34F",pickerHex3:"#3E7E76"},{key:"oceanicLight",name:"Light",pickerHex1:"#FFFFFF",pickerHex2:"#3D56D1",pickerHex3:"#E4E7F4"}]},{key:"precious",name:"Precious",colors:[{key:"preciousSilver",name:"Silver",pickerHex1:"#5B5B5B",pickerHex2:"#C6C6C6",pickerHex3:"#D9D9D9"},{key:"preciousGold",name:"Gold",pickerHex1:"#BC8A26",pickerHex2:"#DDB74E",pickerHex3:"#FBEC9B"},{key:"preciousPlatinum",name:"Platinum",pickerHex1:"#8D92AD",pickerHex2:"#A4A9B8",pickerHex3:"#D9E0E8"}]}],_e={platon:"#3D5C95",dark:"#3391FA",deepDark:"#464646",light:"#4D565F",green:"#508553",darkBlue:"#3D56D1",oceanicBlue:"#0158B0",oceanicGreen:"#3E7E76",preciousSilver:"#5B5B5B",preciousGold:"#BC8A26",preciousPlatinum:"#8D92AD",oceanicLight:"#E4E7F4"},we=i.VUE_APP_LAST_WINTER_DATE||"February 15"},b560:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({attrs:{errors:e.combinedErrors}},"BaseControl",e.$attrs,!1),[n("input",{directives:[{name:"imask",rawName:"v-imask",value:e.mask,expression:"mask"}],ref:"input",staticClass:"form-control",class:e.classes,attrs:{type:"text",placeholder:e.item.placeholder,disabled:e.isDisabled,readonly:e.isReadOnly,inputmode:e.item.inputmode},domProps:{value:e.maskedValue},on:{accept:e.onAccept,blur:e.emitValue,input:e.onInput}})])},o=[],r=n("c973"),a=n.n(r),s=n("98d1"),l=n("3f1c"),c=n("be1f"),u=n("813d"),d=n("b441"),p={name:"NumberControl",components:{BaseControl:s["a"]},mixins:[u["a"],c["a"]],props:{value:{}},directives:{imask:l["a"]},data(){return{maskedValue:this.value,unmaskedValue:this.value,changed:!1,omitUpdate:!1}},methods:{onAccept(e){var t=this;return a()((function*(){t.maskedValue=e.detail.value,t.unmaskedValue=e.detail.unmaskedValue,t.changed=!0,Object(d["DevLog"])("NumberInput OnAccept",{changed:t.changed,omit:t.omitUpdate,value:t.maskedValue,field:t.item.dataField}),t.markAsDirty(),t.$emit("input",e.detail.unmaskedValue)}))()},emitValue(){this.changed&&!this.omitUpdate&&(Object(d["DevLog"])("NumberInput EmitValue",{changed:this.changed,omit:this.omitUpdate,value:this.maskedValue,field:this.item.dataField}),this.$emit("input",this.unmaskedValue)),this.omitUpdate=!1,this.changed=!1},onInput(){this.changed=!0,this.omitUpdate=!1}},mounted(){this.$watch("value",e=>{this.omitUpdate=!0,this.maskedValue=e})},computed:{classes(){return["text-"+(this.item.textAlign||"left")]},local(){return this.value},mask(){return{mask:Number,signed:!0,radix:".",scale:this.item.scale,thousandsSeparator:" "}}}},h=p,m=n("2877"),f=Object(m["a"])(h,i,o,!1,null,null,null);t["a"]=f.exports},b5a8:function(e,t,n){"use strict";var i=n("c973"),o=n.n(i),r=n("b441");const a=new Map,s=new Map;function l(e,t,n){Object(r["DevLog"])("$onEvent",t,n),"function"===typeof n&&(a.has(e)||a.set(e,[]),a.get(e).push({event:t,handler:n}),s.has(t)||s.set(t,[]),s.get(t).push(n))}function c(e){return u.apply(this,arguments)}function u(){return u=o()((function*(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(Object(r["DevLog"])("$sendEvent",e,n),s.has(e))return Promise.allSettled(s.get(e).map(e=>e.apply(void 0,n)));console.warn(`Sent event ${e}, but no handlers found`)})),u.apply(this,arguments)}function d(e){if(a.has(e)){for(let t of a.get(e))s.has(t.event)&&s.set(t.event,s.get(t.event).filter(e=>e!==t.handler));a.delete(e)}}window._events=a,window._handlers=s,window.$onEvent=l,window.$sendEvent=c,window.$clearEvents=d,t["a"]={methods:{$onEvent(e,t){l(this,e,t)},$sendEvent(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return o()((function*(){return c.apply(void 0,[e].concat(n))}))()},$clearEvents(){d(this)}},beforeDestroy(){this.$clearEvents()}}},b660:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoaded?n(e.dynamicComponent,{tag:"component",attrs:{route:e.route,"page-data":e.page.data}}):e._e()},o=[],r=n("c973"),a=n.n(r),s=n("a986"),l=n("a9df"),c=n.n(l),u=n("2ef0"),d=n("6926"),p={name:"DynamicPageRenderer",props:{page:{required:!0},route:{required:!1}},provide(){return{$rootPageComponent:this}},inject:{$pageView:{default:void 0}},data(){return{componentDefinitions:{},isLoaded:!1}},created(){this.buildComponentDefinitions(),this.mountComponentScripts().then(()=>{this.mountAllStyles().then(()=>{this.$emit("pageLoaded"),this.isLoaded=!0})})},beforeDestroy(){setTimeout(()=>{this.removeAllStyles()},2500)},methods:{transformComponent(e){return Object(d["a"])(e,this.componentDefinitions)},addMainComponentOptions(e){function t(e,t){if(Object(u["isArray"])(e))return e.concat(t)}return c()(e,{mixins:[s["a"]],props:{pageData:{}},inject:{$pageView:{default:void 0}},provide(){return{$page:this}}},t)},buildComponentDefinitions(){Array.isArray(this.page.components)&&(this.page.components.forEach(e=>{this.componentDefinitions[e.name]=this.transformComponent(e)}),this.componentDefinitions[this.page.name]=this.transformComponent(this.page))},mountComponentScripts(){var e=this;return a()((function*(){const t=Object.values(e.componentDefinitions).reduce((e,t)=>{if(t&&Array.isArray(t.scripts))for(let n of t.scripts)e.add(n);return e},new Set),n=Array.from(t.values()).map(t=>new Promise((n,i)=>{e.addScript(t,{async:!0,onload:()=>{n()}})}));return Promise.allSettled(n)}))()},mountAllStyles(){var e=this;return a()((function*(){let t=e.page.components,n=[];Array.isArray(t)&&(n=t.filter(e=>e.css).map(t=>e.addCss(e,e.fixMediaUrl(t.css)))),e.page.css&&n.unshift(e.addCss(e,e.fixMediaUrl(e.page.css))),yield Promise.all(n)}))()},removeAllStyles(){Array.isArray(this.page.components)&&this.page.components.forEach(e=>{e.css&&this.removeCss(this,this.fixMediaUrl(e.css))}),this.page.css&&this.removeCss(this,this.fixMediaUrl(this.page.css))},fixMediaUrl(e){return e.replaceAll(/"\/media\/store/g,'"'+this.$media(""))}},computed:{dynamicComponent(){return this.addMainComponentOptions(this.transformComponent(this.page))}}},h=p,m=n("2877"),f=Object(m["a"])(h,i,o,!1,null,null,null);t["a"]=f.exports},b778:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("c973"),o=n.n(i);class r{load(e){this.core=e}unload(e){return o()((function*(){}))()}}},b879:function(e,t,n){e.exports=n.p+"img/2MFA.dc5b9719.png"},b92e:function(e,t,n){},b951:function(e,t,n){"use strict";var i=n("db44");let o=new Map;var r={beforeDestroy(){if(o.has(this)){for(let e of o.get(this))e.target.removeEventListener(e.type,e.listener);o.delete(this)}},methods:{hotkey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e=>{let i=e.toLowerCase().split("_"),r=n.type||"keydown",a=e=>{let n=i.includes("alt"),o=i.includes("ctrl"),r=i.includes("shift"),a=[];n&&a.push(e.altKey),o&&a.push(e.ctrlKey),r&&a.push(e.shiftKey);let s=i.filter(e=>!["alt","control","shift"].includes(e)),l=s.pop()||"";a.every(e=>!0===e)&&l===e.code.toLowerCase()&&t(e)},s=n.target||window;s.addEventListener(r,a),o.has(this)||o.set(this,[]),o.get(this).push({type:r,listener:a,target:s})};if(Array.isArray(e))for(let o of e)i(o);else i(e)}}},a=n("b5a8");t["a"]={mixins:[i["a"],r,a["a"]]}},b9ca:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var i=n("9523"),o=n.n(i),r=n("eef4"),a=n("5228");function s(e){return Object(a["d"])().permissions.includes(e)}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=new Set(t);return Object(a["d"])().permissions.findIndex(e=>i.has(e))>-1}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const d=e=>u({$user:Object(a["d"])(),has_perm:s,has_any_perm:l},e),p={dangerToast:r["a"],successToast:r["e"],infoToast:r["d"],greenToast:r["c"],errorToast:r["b"]}},ba4f:function(e,t,n){},be1f:function(e,t,n){"use strict";var i=n("c1df"),o=n.n(i),r=n("b441"),a=n("64f5");t["a"]={data(){return{validationErrors:[],isDirty:!1,isValid:!0}},inject:{form:{default:void 0}},created(){if(this.form)try{this.form.$data.validationElements.add(this)}catch(e){console.warn("Did you use FomData mixin?")}},mounted(){this.$watch("local",e=>{this.handleValidation(Object(a["p"])(e,""))},{immediate:!0}),this.$watch("isDirty",e=>{this.handleValidation(Object(a["p"])(this.local,""))})},beforeDestroy(){if(this.form)try{this.form.$data.validationElements.delete(this)}catch(e){console.warn("Did you use FomData mixin?")}},methods:{markAsDirty(){this.isDirty||(this.isDirty=!0)},validate(){return this.handleValidation(Object(a["p"])(this.local,"")),this.isValid},handleValidation(e){const t=this.$attrs["element-type"];if("form_elements"!==t)return;let n=[];if(!this.item)return;let{isRequired:i,maxLength:s,minLength:l,minDate:c,maxDate:u,maxDatetime:d,minDatetime:p,minCount:h,maxCount:m,minValue:f,maxValue:g}=this.item;if("function"===typeof this.item.customValidator){const t=this.item.customValidator(e,this.item);void 0!==t&&null!==t&&n.push(t)}if(i&&this.item&&"checkbox"===this.item.type&&!0!==e)n.push(this.$l("platon.validation_check_required","Танлаш керак"));else if(!this.form.editMode&&"password"===this.item.type&&e.length<6)n.push(this.$l("platon.password_min_length","Парол 6та дан кам бўлмаслиги керак"));else if(i&&Object(a["l"])(e))n.push(this.$l("platon.validation_required","Майдонни тўлдириш керак"));else if(this.item&&"raw_json"===this.item.type&&!Object(a["l"])(e)){if(!Array.isArray(e)&&("object"!==typeof e||null===e))try{JSON.parse(e)}catch(b){n.push(this.$l("platon.validation_json_format","Хато JSON киритилган"))}}else if(this.item)if("date"===this.item.type||"datetime"===this.item.type){let t=this.item.type?r["DEFAULT_SERVER_DATE_FORMAT"]:r["DEFAULT_SERVER_DATETIME_FORMAT"],i=this.item.type?r["DEFAULT_DATE_FORMAT"]:r["DEFAULT_DATETIME_FORMAT"],a=o()(e,this.item.format||i);"datetime"===this.item.type&&(c=p,u=d),c instanceof Date&&(c=o()(c).format(t)),u instanceof Date&&(u=o()(u).format(t)),c&&a.isBefore(o()(c,t))&&n.push(this.$ll("platon.validation_min_date",[c],"Сана {0} дан катта бўлиши керак")),u&&a.isAfter(o()(u,t))&&n.push(this.$ll("platon.validation_max_date",[u],"Сана {0} дан кичик бўлиши керак"))}else"file"===this.item.type||"image"===this.item.type?(h=Number(h)||0,m=Number(m)||Number.MAX_SAFE_INTEGER,h&&e.length<h?n.push(this.$ll("platon.validation_file_min_count",[h],"Файллар сони {0} та ёки ундан кўп бўлиши керак")):m&&e.length>m&&n.push(this.$ll("platon.validation_file_max_count",[m],"Файллар сони {0} та ёки ундан кам бўлиши керак"))):(!Object(a["l"])(e)&&"number"===this.item.type||"int"===this.item.type)&&(f=parseFloat(f),g=parseFloat(g),Number.isFinite(f)&&parseFloat(e)<f?n.push(`Қиймат ${f} дан катта ёки тенг бўлиши керак`):Number.isFinite(g)&&parseFloat(e)>g&&n.push(`Қиймат ${g} дан кичик ёки тенг бўлиши керак`));l&&e.length<Number(l)&&n.push(this.$ll("platon.validation_min_length",[l],"Майдонни узунлиги {0} та ёки ундан кўп бўлиши керак")),s&&e.length>Number(s)&&n.push(this.$ll("platon.validation_max_length",[s],"Майдонни узунлиги {0} та ёки ундан кам бўлиши керак")),this.isDirty&&(this.validationErrors=n),this.isValid=0===n.length}}}},c347:function(e,t,n){"use strict";n("26df")},c460:function(e,t,n){"use strict";n("4c80")},c64a:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-form-input",e._b({attrs:{list:e.listName}},"b-form-input",e.inputOptions,!1)),n("datalist",{attrs:{id:e.listName}},e._l(e.options,(function(e){return n("option",{key:e,domProps:{value:e}})})),0)],1)},o=[];let r=1;var a={name:"PlatonInputDataList",props:{options:{type:Array},inputOptions:{type:Object}},data(){return{listName:"platon-datalist-"+r++}}},s=a,l=n("2877"),c=Object(l["a"])(s,i,o,!1,null,null,null);t["a"]=c.exports},c6b8:function(e,t,n){},c926:function(e,t,n){},c96f:function(e,t,n){},c9b3:function(e,t,n){},cbf3:function(e,t,n){"use strict";(function(e,i){n.d(t,"b",(function(){return de})),n.d(t,"d",(function(){return he})),n.d(t,"a",(function(){return fe})),n.d(t,"c",(function(){return ge}));var o=n("448a"),r=n.n(o),a=n("7f3d"),s=n("02f0"),l=n("571b"),c=n("72f9"),u=n("9729"),d=n("11bb"),p=n("0950"),h=n("d87a"),m=n("cca0"),f=n("abc1"),g=n("0237"),b=n("255b"),v=n("6304"),y=n("8c4f"),_=n("b441"),w=n("d88a"),O=n("5228"),C=n("64f5"),E=n("778c"),P=n("c1df"),k=n.n(P),x=(n("dceb"),n("f4a9")),A=n("3af9"),T=n("008a"),$=n("c64a"),j=n("77b6"),S=n("0155"),D=n("ead6"),L=n("dd84"),F=n("5b84"),I=n("48ca"),M=n("e3b7"),R=n("6cbc"),N=n("0d4f"),U=n("db8a"),V=n("b660"),B=n("8162"),z=n("f162"),H=n("80d0");const W=()=>Promise.all([n.e("chunk-2d0ba88e"),n.e("chunk-2d2266e7")]).then(n.bind(null,"e941")),q=()=>Promise.all([n.e("chunk-2d222062"),n.e("chunk-2700303d"),n.e("chunk-2d0e13b2"),n.e("chunk-2d0d699b"),n.e("chunk-2f4b49f6")]).then(n.bind(null,"d88c")),Y=()=>Promise.all([n.e("chunk-2d0ba88e"),n.e("chunk-2d0c08f0")]).then(n.bind(null,"41fc")),G=()=>Promise.all([n.e("chunk-aa0b5c18"),n.e("chunk-b355131e")]).then(n.bind(null,"3b38")),K=()=>Promise.all([n.e("chunk-aa0b5c18"),n.e("chunk-2d222062"),n.e("chunk-2d22fda1"),n.e("chunk-2700303d"),n.e("chunk-66bac270")]).then(n.bind(null,"184a")),Z=()=>Promise.all([n.e("chunk-aa0b5c18"),n.e("chunk-2d222062"),n.e("chunk-2700303d"),n.e("chunk-2d0d699b"),n.e("chunk-62a5d3a1")]).then(n.bind(null,"a80c")),X=()=>n.e("chunk-2d0d2b7f").then(n.bind(null,"5a63")),J=()=>n.e("chunk-2d21d50e").then(n.bind(null,"d17b")),Q=()=>Promise.all([n.e("chunk-2d0e13b2"),n.e("chunk-26e76bc0")]).then(n.bind(null,"9f7e")),ee=()=>Promise.all([n.e("chunk-3be6df2c"),n.e("chunk-71969ec6")]).then(n.bind(null,"4d1c")),te=()=>n.e("chunk-6e164f07").then(n.bind(null,"c8d0")),ne=()=>Promise.all([n.e("chunk-2d22fda1"),n.e("chunk-2d0b2975"),n.e("chunk-1ac3f53e")]).then(n.bind(null,"dd70")),ie=()=>Promise.all([n.e("chunk-2d22fda1"),n.e("chunk-2d0b2975"),n.e("chunk-5f6ea3e8")]).then(n.bind(null,"3b91")),oe=()=>Promise.all([n.e("chunk-74a7ee2a"),n.e("chunk-2d22fda1"),n.e("chunk-2d0e5975"),n.e("chunk-0021f432"),n.e("chunk-3ef7ef87")]).then(n.bind(null,"4278")),re=()=>Promise.all([n.e("chunk-74a7ee2a"),n.e("chunk-2d0e5975"),n.e("chunk-0021f432"),n.e("chunk-2d0c7374")]).then(n.bind(null,"5058")),ae=()=>Promise.resolve().then(n.bind(null,"7b7a")),se=()=>Promise.all([n.e("chunk-550c86b3"),n.e("chunk-2d0c9397")]).then(n.bind(null,"57dc")),le=()=>Promise.all([n.e("chunk-74a7ee2a"),n.e("chunk-371f347a"),n.e("chunk-601b6ad8")]).then(n.bind(null,"599b")),ce=()=>Promise.all([n.e("chunk-74a7ee2a"),n.e("chunk-2d0e5975"),n.e("chunk-371f347a"),n.e("chunk-2d0ac98e")]).then(n.bind(null,"19e5")),ue=()=>n.e("chunk-c5ade09e").then(n.bind(null,"f4bb"));function de(e){e.component("PlatonGrid",Z),e.component("PlatonTablePage",W),e.component("PlatonForm",q),e.component("PlatonBtn",a["a"]),e.component("PModal",s["a"]),e.component("PlatonMenu",l["a"]),e.component("PlatonTable",Q),e.component("MultiTable",X),e.component("MultiTab",J),e.component("PTable",c["a"]),e.component("PlatonFormElement",u["default"]),e.component("KeyValue",d["a"]),e.component("PlatonLayout",p["a"]),e.component("PlatonTopbar",h["a"]),e.component("PlatonLeftMenu",m["a"]),e.component("PlatonChart",ne),e.component("PlatonMapChart",ie),e.component("MapPolygon",re),e.component("MapWidget",oe),e.component("MapViewer",ce),e.component("ImageGallery",se),e.component("MapMarkerPicker",le),e.component("PlatonInputDataList",$["a"]),e.component("PInputDataList",$["a"]),e.component("PNotificationContainer",v["a"]),e.component("TinyMce",ue),e.component("date-range-picker",B["a"]),e.component("PlatonLink",f["a"]),e.component("UploadControl",ae),e.component("IconPickerDialog",te),e.component("DynamicPageRenderer",V["a"]),e.component("tree-select",()=>Promise.all([n.e("chunk-2d222062"),n.e("chunk-2d0d699b"),n.e("chunk-51aa7cd4")]).then(n.t.bind(null,"7480",7))),e.component("p-datepicker",()=>Promise.resolve().then(n.t.bind(null,"247e",7))),e.component("v-style",{render:function(e){return e("style",this.$slots.default)}})}function pe(e){let t=e.options.routes.find(e=>"home"===e.name);t||e.addRoutes([{path:"/",component:x["a"],name:"home",meta:{platonLayout:!0,publicRoute:!0}}])}function he(e,t){const n=y["a"].prototype.push;y["a"].prototype.push=function(e){return n.call(this,e).catch(e=>{if("NavigationDuplicated"!==e.name)throw e})},e.addRoutes([{path:"/login",component:I["a"],name:"login",meta:{publicRoute:!0}},{path:"/tables/:name",component:W,name:"table",meta:{platonLayout:!0}},{path:"/forms/:name/:id?",component:q,name:"form",meta:{platonLayout:!0}},{path:"/pages/:name",component:Y,name:"page",meta:{platonLayout:!0}},{path:"/public/tables/:name",component:W,name:"public-table",meta:{publicRoute:!0}},{path:"/public/forms/:name/:id?",component:q,name:"public-form",meta:{publicRoute:!0}},{path:"/public/pages/:name",component:Y,name:"public-page",meta:{publicRoute:!0}},{path:"/system/file-manager/:path?",component:G,name:"file-manager-page",meta:{platonLayout:!0}},{path:"/system/resizable-page",component:K,name:"resizable-page",meta:{platonLayout:!0}},{path:"/system/profile",component:H["a"],name:"profile-page",meta:{platonLayout:!0}},{path:"/instructions/:main?/:sub?",component:ee,name:"instruction",meta:{platonLayout:!0}},{path:"/system/:path",component:g["a"],name:"system",meta:{platonLayout:!0}},{path:"*",component:b["default"],name:"404",params:{resource:"page"}}]),pe(e)}function me(e,t){const n=new S["a"](e);window.PlatonPluginCore=n,t.prototype.$plugins=n;let i=[].concat(r()(D["a"]),r()(Array.isArray(e.plugins)?e.plugins:[])).sort((e,t)=>e.priority-t.priority);n.preloadPlugins(i),n.triggerEvent(L["a"].AfterInit)}function fe(e,t){e.prototype.$platonApp=Object(T["a"])(e,t),Object.defineProperty(e.prototype,"$user",{get(){return Object(O["d"])()}}),e.prototype.$http=O["b"];const n=Object(A["a"])({baseURL:_["API_ENDPOINT"]});Object(O["e"])(n),e.prototype.$api=n,e.prototype.$apiUrl=function(e){return _["API_ENDPOINT"]+"/"+Object(C["w"])(e)},e.prototype.$media=function(e){return Object(E["a"])(_["FRONTEND_URL"],"media/store",e)},e.prototype.$const=_["CONSTANTS"],e.prototype.$appName=_["APP_NAME"],e.prototype.$appVersion=_["APP_VERSION"],e.prototype.$copyright=_["COPYRIGHT"],e.prototype.$platonFile=C["r"],e.prototype.$downloadFile=downloadPlatonFile,e.prototype.$l=w["a"],e.prototype.$f=function(){var e;let t=arguments[0],n=Array.from(arguments).slice(1);return(e=this.$options.filters)[t].apply(e,r()(n))},e.prototype.$m=k.a,e.prototype.$ll=w["b"],e.prototype.$isPageBlank=function(){return"/"===this.$route.path?null==Object(O["d"])():!!_["PLATON_NOLAYOUT"]||("form"===this.$route.name?(this.$route.query["_target"]||"blank").includes("blank"):"page"===this.$route.name&&(this.$route.query["_target"]||"").includes("blank"))},HTMLElement.prototype.downloadBlob=C["d"],Object(F["a"])(e),me(t,e),window.PlatonMixins={LoginMixin:R["a"],LoginPasswordProviderMixin:M["a"],EimzoProviderMixin:U["a"],KeycloakProviderMixin:N["a"],pickUserOrganization:z["a"],ImageCropperMixin:j["a"]}}function ge(){window.moment=k.a,window.$=e}}).call(this,n("1157"),n("1157"))},cca0:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"left-menu nv-left-menu",class:{collapsed:e.menuCollapsed},on:{scroll:e.handleScroll}},[n(e.project,{tag:"component",attrs:{"is-scrolled":e.isScrolled}}),n(e.profile,{tag:"component"}),n(e.menu,{tag:"component"}),n(e.footer,{tag:"component"})],1)},o=[],r=n("9523"),a=n.n(r),s=n("571b"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("div",{staticClass:"platon-profile d-flex align-items-center",staticStyle:{"min-height":"70px"}},[n("div",{staticClass:"platon-user-photo mr-2"},[n("b-avatar",{attrs:{src:e.$platonFile(e.user.photo),size:"48px",text:e.avatarText,variant:"primary"}})],1),n("div",{staticClass:"platon-user-info"},[n("div",{staticClass:"font-weight-bold"},[e._v(e._s(e.user.fullName||e.user.username))]),e.user.postName?n("div",{staticClass:"small"},[e._v(e._s(e.user.postName))]):e._e()]),Array.isArray(e.organizations)&&e.organizations.length>0?n("div",{staticClass:"cursor-pointer",on:{click:e.showOrganization}},[n("i",{staticClass:"fa fa-chevron-down"})]):e._e()]):e._e()},c=[],u=n("2f62"),d=n("f162");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={name:"LeftMenuProfile",computed:h(h({},Object(u["c"])({user:"platon/user"})),{},{avatarText(){try{return this.user.username[0]}catch{return"A"}},organizations(){return this.user.organizations}}),methods:{showOrganization(){Object(d["a"])(this.$root,this.user.organizations,{closeable:!0}).then(e=>{location.reload()})}}},f=m,g=n("2877"),b=Object(g["a"])(f,l,c,!1,null,null,null),v=b.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"topbar position-sticky",class:{"is-scrolled":e.isScrolled},staticStyle:{top:"0"}},[n("div",{staticClass:"topbar-project primary-text",staticStyle:{"font-weight":"bold",padding:"8px"}},[e._v(" "+e._s(e.menuCollapsed?e.$const.APP_SHORT_NAME[0].toUpperCase():e.$const.APP_SHORT_NAME)+" ")]),e.isWinterDisabled?e._e():n("Snowf",{attrs:{amount:7,size:5,speed:.3,wind:0,opacity:.8,swing:1,image:null,zIndex:-1,resize:!0,color:"#fff"}})],1)},_=[],w=n("ea75"),O=n("5994");function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={name:"LeftMenuProject",components:{Snowf:w["a"]},mixins:[O["a"]],props:{isScrolled:{type:Boolean,default:!1}},computed:E({},Object(u["c"])({menuCollapsed:"platon/menuCollapsed"}))},k=P,x=(n("0592"),Object(g["a"])(k,y,_,!1,null,null,null)),A=x.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar__footer"},[e.$const.COPYRIGHT_URL?n("p",{staticClass:"sidebar__footer__link"},[n("a",{attrs:{href:e.$const.COPYRIGHT_URL,target:"_blank"},domProps:{innerHTML:e._s("© "+e.$const.IN_SITE_COPYRIGHT)}})]):n("p",{staticClass:"sidebar__footer__link",domProps:{innerHTML:e._s("© "+e.$const.IN_SITE_COPYRIGHT)}}),n("div",{staticClass:"sidebar__footer__stacks"},[n("div",{staticClass:"sidebar__footer__stack"},[e._v(e._s(e.$ll("platon.appVersion",[e.$appVersion],"{0}")))]),n("div",{staticClass:"sidebar__footer__stack"},[e._v(e._s(e.$projectInfo.version))])])])},$=[],j={name:"LeftMenuFooter"},S=j,D=(n("6748"),Object(g["a"])(S,T,$,!1,null,"93179cfe",null)),L=D.exports;function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M={name:"PlatonLeftMenu",components:{LeftMenuProfile:v,PlatonMenu:s["a"]},data(){return{isScrolled:!1}},computed:I(I({},Object(u["c"])({menuCollapsed:"platon/menuCollapsed"})),{},{profile(){return this.$root.$options.components["sidebarProfile"]||this.$root.$options.components["custom-sidebar-profile"]||v},project(){return this.$root.$options.components["sidebarProject"]||this.$root.$options.components["custom-sidebar-project"]||A},menu(){return this.$root.$options.components["custom-sidebar-menu"]||s["a"]},footer(){return this.$root.$options.components["sidebarFooter"]||this.$root.$options.components["custom-sidebar-footer"]||L}}),methods:{handleScroll(e){e.srcElement.scrollTop>=100?this.isScrolled=!0:this.isScrolled=!1}}},R=M,N=(n("ada6"),Object(g["a"])(R,i,o,!1,null,null,null));t["a"]=N.exports},cd28:function(e,t,n){"use strict";n("7d28")},d1b3:function(e,t,n){},d4eb:function(e,t,n){"use strict";n("2a70")},d525:function(e,t,n){"use strict";n("f4df")},d87a:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"topbar primary-text"},[e._t("before-title"),e._t("after-title"),e.topbarLeft?n(e.topbarLeft,{tag:"component"}):e._e(),n("portal-target",{staticClass:"flex-grow-1",attrs:{name:"topbar-filters",multiple:""}}),e._t("before-lang"),e.topbarRight?n(e.topbarRight,{tag:"component"}):e._e(),n("ThemePicker"),n("div",{staticClass:"mr-2 lang-wrapper"},[n("LangPicker")],1),n("div",{staticClass:"mr-4"},[n("AccountMenu")],1),e.isWinterDisabled?e._e():n("Snowf",{attrs:{amount:25,size:5,speed:.4,wind:0,opacity:.8,swing:1,image:null,zIndex:-1,resize:!0,color:"#fff"}})],2)},o=[],r=n("c973"),a=n.n(r),s=n("6d2b"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.checkPermission?n("b-dropdown",{staticClass:"bbb m-md-2",attrs:{variant:"link","no-caret":""}},[n("div",{staticClass:"theme-icon-wrapper",attrs:{slot:"button-content"},slot:"button-content"},[n("themePickerIcon",{attrs:{hex1:e.activeThemeColors.pickerHex1,hex2:e.activeThemeColors.pickerHex2,hex3:e.activeThemeColors.pickerHex3}})],1),n("div",{staticClass:"themes"},e._l(e.themeModesFiltered,(function(t){return n("div",{key:t.key,staticClass:"theme",class:{opened:t.key===e.collapsedKey,current:t.key==e.theme,disabled:t.isDisabled}},[n("span",{staticClass:"theme__line",style:[t.key==e.theme?{background:e.collapsedColor}:{}]}),n("div",{staticClass:"theme__toggler",on:{click:function(n){return e.collapse(t.key)}}},[n("span",{staticClass:"theme__toggler-label"},[e._v(" "+e._s(t.name)+" ")]),t.colors.length>0?n("i",{staticClass:"fa fa-chevron-down theme__toggler-icon"}):e._e()]),n("div",{staticClass:"theme__body"},e._l(t.colors,(function(i){return n("div",{key:i.key,staticClass:"theme__body-item",class:{current:i.key==e.themeColor,disabled:i.isDisabled},on:{click:function(n){!i.isDisabled&&e.changeTheme(t.key,i.key)}}},[n("themePickerIcon",{attrs:{hex1:i.pickerHex1,hex2:i.pickerHex2,hex3:i.pickerHex3}}),n("span",{staticClass:"theme__body-itemframe",style:[i.key==e.themeColor?{borderColor:e.collapsedColor}:{}]})],1)})),0)])})),0),n("b-dropdown-item",{on:{click:e.updateWinter}},[n("b-form-checkbox",{staticClass:"pb-2",attrs:{size:"md","unchecked-value":!0,value:!1},model:{value:e.isWinter,callback:function(t){e.isWinter=t},expression:"isWinter"}},[n("span",{staticClass:"them-winter--title"},[e._v(e._s(e.$l("platon.winter_mode","Қишги режим")))])])],1)],1):e._e()},c=[],u=n("9523"),d=n.n(u),p=n("2f62"),h=n("79cf"),m=n("b441"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("g",{attrs:{"clip-path":"url(#clip0_899_2504)"}},[n("path",{attrs:{d:"M9.33204 0H20.9971C26.8704 11.06 20.9971 21 20.9971 21C5.13262 21 0.157478 31.2783 0.00583252 31.5992H0V9.33333C0 4.1825 4.18192 0 9.33204 0Z",fill:e.hex1}}),n("path",{attrs:{d:"M20.9971 0H32.6621C37.8181 0 41.9942 4.1825 41.9942 9.33333V31.605C41.9942 31.605 31.6006 31.605 20.9971 21C20.9971 21 26.8704 11.06 20.9971 0Z",fill:e.hex2}}),n("path",{attrs:{d:"M21.0029 21C31.6064 31.605 42 31.605 42 31.605V32.6667C42 37.8233 37.8239 42 32.668 42H9.33787C4.18775 42 0 37.8233 0 32.6667V31.605H0.00583252C0.157478 31.2783 5.13262 21 20.9971 21H21.0029Z",fill:e.hex3}})]),n("defs",[n("clipPath",{attrs:{id:"clip0_899_2504"}},[n("rect",{attrs:{width:"42",height:"42",fill:"white"}})])])])},g=[],b={name:"ThemePicker",props:{hex1:{type:String,default:"#000000"},hex2:{type:String,default:"#7b7b7b"},hex3:{type:String,default:"#bbbbbb"}}},v=b,y=n("2877"),_=Object(y["a"])(v,f,g,!1,null,null,null),w=_.exports;function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={name:"ThemePicker",components:{themePickerIcon:w},data(){return{isWinter:!1,collapsedKey:null}},created(){this.isWinter=JSON.parse(localStorage.getItem("platon_winter"))||!1},computed:C(C({},Object(p["c"])({theme:"platon/theme",themeColor:"platon/themeColor"})),{},{collapsedColor(){return m["hexColors"][this.activeThemeColors.key]},activeTheme(){return this.getTheme(this.theme)},activeThemeColors(){return this.getThemeColors(this.activeTheme,this.themeColor)},themeModesFiltered(){var e;const t=null!==(e=this.$projectInfo.theme)&&void 0!==e&&e.themeDisabled?this.$projectInfo.theme.themeDisabled:[];if(!t)return m["themeModes"];for(let n=0;n<m["themeModes"].length;n++){const e=m["themeModes"][n],i=t.find(t=>t.theme===e.key),{permissions:o}=this.$user;if(i){const t=!!i.colors;e.colors.forEach(n=>{let r=`${e.key}.${n.key}`;t&&!i.colors.includes(n.key)||o.includes("platon.enabledTheme."+r)||o.includes("platon.activeTheme."+r)||(n.isDisabled=!0)})}}return m["themeModes"]},checkPermission(){var e,t;const n=null!==(e=null===(t=this.$user)||void 0===t?void 0:t.permissions)&&void 0!==e?e:[],i=n.some(e=>e.startsWith("platon.theme.hidden"));return!i}}),methods:C(C({},Object(p["d"])({setTheme:"platon/setTheme"})),{},{getTheme(e){return m["themeModes"].find(t=>t.key===e)||m["themeModes"][0]},getThemeColors(e,t){return e.colors.find(e=>e.key===t)||e.colors[0]},updateWinter(){this.isWinter=!this.isWinter,this.$sendEvent("platon_winter",this.isWinter),localStorage.setItem("platon_winter",this.isWinter)},changeTheme(e,t){const n=Object(h["a"])();n(e),this.setTheme({theme:e,color:t})},collapse(e){e===this.collapsedKey?this.collapsedKey=null:this.collapsedKey=e}})},P=E,k=(n("18c8"),Object(y["a"])(P,l,c,!1,null,null,null)),x=k.exports,A=n("5994"),T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"AccountMenu"},[e._m(0),n("b-avatar",{attrs:{src:e.$platonFile(e.$user.photo),size:"48px",text:e.$user.username[0],variant:"primary"}}),n("b-dropdown",{attrs:{variant:"link",text:e.$l("platon.profile","Профиль"),right:""}},[n("b-dropdown-item",{staticClass:"AccountMenu--item",attrs:{href:"#"}},[n("platon-link",{staticClass:"topbar-btn primary-text text-decoration-none",attrs:{link:"/system/profile"}},[n("i",{staticClass:"mdi mdi-cog"}),e._v(" "+e._s(e.$l("platon.settings","Созламалар"))+" ")])],1),n("b-dropdown-item",{staticClass:"AccountMenu--item",attrs:{href:"#"}},[n("platon-link",{staticClass:"topbar-btn primary-text text-decoration-none",attrs:{link:"/system/logout"}},[n("i",{staticClass:"fa fa-sign-out-alt mr-1"}),e._v(" "+e._s(e.$l("platon.logout","Чиқиш"))+" ")])],1)],1)],1)},$=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"AccountMenu--profile"},[n("img",{staticClass:"AccountMenu--profile__image",attrs:{alt:"Account Menu Profile Image",src:"https://img.myloview.com/stickers/default-avatar-profile-flat-icon-social-media-user-vector-portrait-of-unknown-a-human-image-700-209987471.jpg"}})])}],j=n("f2d5"),S={name:"AccountMenu",components:[j["a"]]},D=S,L=(n("62bd"),Object(y["a"])(D,T,$,!1,null,"10109f30",null)),F=L.exports,I=n("ea75"),M={name:"platon-topbar",components:{LangPicker:s["a"],ThemePicker:x,Snowf:I["a"],AccountMenu:F,AccountMenu:F},mixins:[A["a"]],methods:{logout(){var e=this;return a()((function*(){e.$platonApp.showLogoutDialog()}))()}},computed:{topbarRight(){return this.$root.$options.components["topbarRight"]||this.$root.$options.components["custom-topbar-right"]},topbarLeft(){return this.$root.$options.components["topbarLeft"]||this.$root.$options.components["custom-topbar-left"]}}},R=M,N=(n("ff79"),Object(y["a"])(R,i,o,!1,null,"d0b3fe26",null));t["a"]=N.exports},d88a:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return _})),n.d(t,"c",(function(){return w}));var i=n("c973"),o=n.n(i),r=n("a026"),a=(n("c1df"),n("b441")),s=n("4328"),l=n.n(s);let c=r["default"].observable({});function u(){let e=localStorage.getItem("platon_locale"),t=l.a.parse(window.location.search.substr(1));if(t&&t.locale){let n=a["LANG_DEFINITION"].find(e=>e.code===t.locale);n&&(e=n.code)}return e||a["DEFAULT_LANG"]}let d=r["default"].observable({locale:u()});function p(e,t){let n=c[e];return null!==n&&void 0!==n||Object(a["DevLog"])("Translation key not found",{key:e,fallbackValue:t}),n||t}function h(e,t,n){let i=p(e,n);for(let o=0;o<t.length;o++){let e=new RegExp(`\\{${o}\\}`,"g");i=i.replace(e,t[o])}return i}function m(t){if("object"===typeof t){localStorage["tr_"+d.locale]=JSON.stringify(t);let n=e().format(a["DEFAULT_SERVER_DATE_FORMAT"]);localStorage.setItem("tr_last_fetched",n),f()}}function f(){let t="tr_"+d.locale,n=e().format(a["DEFAULT_SERVER_DATE_FORMAT"]),i=localStorage.getItem("tr_last_fetched");if(!i||i<n||!localStorage.getItem(t))g();else{let e=JSON.parse(localStorage.getItem(t)||"{}");Object.entries(e).forEach(e=>{let[t,n]=e;r["default"].set(c,t,n)})}}function g(){return b.apply(this,arguments)}function b(){return b=o()((function*(){let e=yield window.$http.get("web/assets/translations",{baseURL:a["API_BASE_URL"]});m(e.data)})),b.apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return y=o()((function*(e){_(e),yield g();let t=new URL(location.href);t.searchParams.delete("locale"),location.href=t.toString()})),y.apply(this,arguments)}function _(e){w(e)&&(d.locale=e,localStorage.setItem("platon_locale",e))}function w(e){return a["LANG_DEFINITION"].findIndex(t=>t.code===e)>=0}}).call(this,n("c1df"))},da5f:function(e,t,n){},dae0:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLoaded?e._e():n("page-loading-view"),e.pageInfo.data?n("dynamic-page-renderer",{directives:[{name:"show",rawName:"v-show",value:e.isLoaded,expression:"isLoaded"}],attrs:{page:e.pageInfo.data,route:e.localRoute},on:{pageLoaded:e.onPageLoaded}}):e._e(),e.$chimera.pageInfo.status>=400?n("ChimeraErrorsView",{staticStyle:{height:"400px"},attrs:{endpoint:e.$chimera.pageInfo,icon:"mdi mdi-window-restore","access-denied-text":e.$l("platon.page_has_no_access","Бу саҳифа кўришга рўхсат берилмаган"),"not-found-text":e.$l("platon.page_not_found","Саҳифа топилмади")}}):e._e()],1)},o=[],r=n("6781"),a=n("9e45"),s=n("b660"),l=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"preloader",staticStyle:{transition:"all 0.4s ease",width:"100%"}},[n("div",{staticClass:"app-name"},[n("div",[n("span",{staticClass:"smooth spinner"})])])])}],u={name:"PageLoadingView"},d=u,p=n("2877"),h=Object(p["a"])(d,l,c,!1,null,null,null),m=h.exports,f=n("6f3b"),g=n("a986"),b={name:"PageRenderer",mixins:[f["a"],g["a"]],components:{PageLoadingView:m,DynamicPageRenderer:s["a"],ChimeraErrorsView:r["a"]},data(){return{isLoaded:!1}},props:{name:{type:String,default:"wait"},chimeraOptions:{type:Object}},chimera:{pageInfo(){return this.chimeraOptions||{url:Object(a["a"])("pages/"+this.name,this.localRoute.query),on:{success:()=>{this.$forceUpdate()}}}}},methods:{reload(){this.$chimera.pageInfo.reload()},onPageLoaded(){this.isLoaded=!0}},computed:{pageOptions(){return this.chimeraOptions||{url:Object(a["a"])("pages/"+this.name,this.localRoute.query)}}}},v=b,y=Object(p["a"])(v,i,o,!1,null,null,null);t["a"]=y.exports},db44:function(e,t,n){"use strict";var i=n("c973"),o=n.n(i),r=n("9523"),a=n.n(r),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",e._b({attrs:{"footer-actions":e.actions},scopedSlots:e._u([{key:"title",fn:function(){return[n("span",{staticStyle:{"font-size":"18px"},domProps:{innerHTML:e._s(e.title)}})]},proxy:!0}])},"Modal",e.options.modalProps,!1),[e.component?n(e.component,e._b({ref:"component",tag:"component"},"component",e.componentProps,!1)):n("div",{staticStyle:{"font-size":"16px"},domProps:{innerHTML:e._s(e.text)}})],1)},l=[],c=n("02f0"),u=n("11e8"),d={name:"AlertDialog",components:{Modal:c["a"]},mixins:[u["a"]],props:{title:{},text:{},component:{default:null},componentProps:{default:null},options:{default:()=>{}},callback:{}},data(){return{confirmDisabled:!1,rejectDisabled:!1}},methods:{sendEvent(e){this.callback&&this.callback(e,this),this.$emit("close")}},computed:{actions(){return[{text:this.options.confirmText||this.$l("platon.yes","Ҳа"),icon:this.options.confirmIcon,disabled:this.confirmDisabled,handler:()=>{this.sendEvent("confirmed")}},{text:this.options.rejectText||this.$l("platon.no","Йўқ"),icon:this.options.rejectIcon,disabled:this.rejectDisabled,handler:()=>{this.sendEvent("rejected")}}]}}},p=d,h=n("2877"),m=Object(h["a"])(p,s,l,!1,null,null,null),f=m.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{"header-class":e.options.headerClass,"footer-actions":e.actions,"slot-class":e.options.slotClass},scopedSlots:e._u([{key:"title",fn:function(){return[n("span",{staticStyle:{"font-size":"18px"}},[e._v(e._s(e.title))])]},proxy:!0}])},[null!==e.displayComponent?n(e.displayComponent,{tag:"component"}):n("div",{domProps:{innerHTML:e._s(e.text)}})],1)},b=[],v=n("d88a"),y={name:"MessageDialog",components:{Modal:c["a"]},mixins:[u["a"]],props:{title:{type:String,default:()=>Object(v["a"])("platon.message_dialog_title","Хабар")},options:{},text:{},actions:{type:Array,default:()=>[{text:Object(v["a"])("platon.ok","Ок")}]}},computed:{displayComponent(){return"object"===typeof this.$props.text&&null!==this.$props.text?this.$props.text:null}}},_=y,w=Object(h["a"])(_,g,b,!1,null,null,null),O=w.exports;function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={methods:{showConfirmDialog(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((i,o)=>{this.$modal.show(f,{title:e,text:t,options:n,callback:e=>{"confirmed"===e?i():o()}},E({height:"auto",width:"350px"},n))})},confirmAction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((n,i)=>{this.showConfirmDialog(t.title||this.$l("platon.attention","Диққат"),t.text||this.$l("platon.confirm_action","Амал бажаришни тасдиқлайсизми?"),t).then(()=>{e(),n()}).catch(()=>{t.onReject&&t.onReject(),i()})})},messageBox(e,t){this.$modal.show(O,{title:t.title,text:e,actions:t.actions,options:t},E({height:"auto",width:"350px"},t))},successMessageBox(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.messageBox(e,Object.assign(t,{headerClass:"bg-success"}))},errorMessageBox(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.messageBox(e,Object.assign(t,{headerClass:"bg-danger"}))},infoMessageBox(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.messageBox(e,Object.assign(t,{headerClass:"bg-info"}))},warningMessageBox(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.messageBox(e,Object.assign(t,{headerClass:"bg-warning"}))},promptAction(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o()((function*(){t=t||e.$l("platon.attention","Диққат"),n=n||e.$l("platon.fill_input","Киритинг");const o=i.component||{data(){return{tag:i.inputTag||"input",inputVal:"",text:n}},template:'\n\t\t\t\t\t<div>\n\t\t\t\t\t<div style="font-size: 16px" v-html="text"/>\n\t\t\t\t\t<input v-if="tag === \'input\'" class="form-control" v-model="inputVal"/>\n\t\t\t\t\t<textarea v-else-if="tag === \'textarea\'" class="form-control" v-model="inputVal"/>\n\t\t\t\t\t<component v-else :is="tag" class="form-control" v-model="inputVal"/>\n\t\t\t\t\t</div>'};return new Promise((n,r)=>{e.$modal.show(f,{title:t,options:i,component:o,componentProps:i.componentProps,callback:(e,t)=>{"confirmed"===e?n(t.$refs.component.$data.inputVal):r()}},E({height:"auto",width:"350px"},i))})}))()}}}},db8a:function(e,t,n){"use strict";var i=n("c973"),o=n.n(i),r=n("b441"),a=n("56ab");t["a"]={mixins:[a["a"]],data(){return{isEimzoLoading:!1,isIDCardLoading:!1}},mounted(){"e-imzo"===this.$route.query.provider&&this.pickKey()},methods:{pickKey(){var e=this;let t=(new Date).getTime().toString();this.isEimzoLoading=!0,this.$platonApp.signWithEIMZO(t,function(){var t=o()((function*(t,n){try{yield e.completeEIMZOLogin(t),localStorage.setItem("login_eimzo_key",JSON.stringify(n))}catch(i){let{response:t}=i;if(t&&t.data&&t.data.message){let n=t.status,i=t.data.message;e.$emit("login-error",`${n}: ${i}`)}else e.$emit("login-error",i.message)}e.isEimzoLoading=!1}));return function(e,n){return t.apply(this,arguments)}}(),{title:this.$l("platon.enter_whith_eimzo","Электрон рақамли имзо билан кириш"),signText:this.$l("platon.enter","Кириш"),timestampProvider:this.getChallengeForSignature,closed:()=>{this.isEimzoLoading=!1},hasChallenge:!0})},pickIDCard(){var e=this;return o()((function*(){e.isIDCardLoading=!0;let t=yield e.getChallengeForSignature;try{const n=yield e.client.createPkcs7("idcard",t,e.$platonApp.getTimestampForSignature);yield e.completeEIMZOLogin(n)}catch(n){throw new Error(n)}finally{e.isIDCardLoading=!1}}))()},getChallengeForSignature(){var e=this;return o()((function*(){const t=yield e.$api.get("/auth/e-imzo",{baseURL:r["API_BASE_URL"]});return t.data.challenge}))()},completeEIMZOLogin(e){var t=this;return o()((function*(){try{let n=yield t.$api.post("/auth/e-imzo",e,{baseURL:r["API_BASE_URL"],headers:{"Content-Type":"text/plain"}}),{token:i,refreshToken:o,user:a}=n.data;t.$emit("login-success",{user:a,token:i,refreshToken:o,parcel:{response:n,signedPcks:e,type:"login-EDS"}})}catch(n){if(n.response&&n.response.data&&n.response.data.message){let e=n.response.data.message;if("Individuals are not allowed to login"===e)return void t.$emit("login-error","Тизимга фақат юридик шахслар кириши мумкин");if("Legal entities are not allowed to login"===e)return void t.$emit("login-error","Тизимга фақат жисмоний шахслар кириши мумкин");if("Invalid signer certificate"===e)return void t.$emit("login-error","Калит билан имзолашда хатолик");if("Revoked signer certificate"===e)return void t.$emit("login-error","Электрон имзо бекор қилинган. <a href='https://doc.platon.uz/uz/platon-users' target='_blank'>Батафсил</a>");if("You're not allowed to login"===e)return void t.$emit("login-error","Ушбу электрон рақамли имзо орқали тизимга киришга рухсат этилмаган. <a href='https://doc.platon.uz/uz/platon-users' target='_blank'>Батафсил</a>")}throw n}}))()}}}},dba7:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$isPageBlank()?n("div",[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{key:e.$route.path})],1)],1):n("platon-layout",[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{key:e.routeKey})],1)],1)},o=[],r={mounted(){this.$modal},computed:{routeKey(){return"table"===this.$route.name||"form"===this.$route.name?this.$route.fullPath:"page"===this.$route.name||"public-page"===this.$route.name?""+this.$route.path:this.$route.name}}},a=r,s=n("2877"),l=Object(s["a"])(a,i,o,!1,null,null,null);t["a"]=l.exports},dceb:function(e,t,n){"use strict";var i=n("64f5");window.downloadPlatonFile=i["e"],window.platonFileUrl=i["r"],window.platonImageUrl=i["s"],window.genpass=i["h"],window.plus=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>parseFloat((e+t).toFixed(10)))},window.minus=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>parseFloat((e-t).toFixed(10)))},window.multiply=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>parseFloat((e*t).toFixed(10)))},window.divide=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>parseFloat((e/t).toFixed(10)))}},dd84:function(e,t,n){"use strict";t["a"]={AfterAuth:"AfterAuth",BeforeAuth:"BeforeAuth",BeforeLogin:"BeforeLogin",AfterLogin:"AfterLogin",SetUserTheme:"SetUserTheme",AfterLogout:"AfterLogout",OnPageOpened:"OnPageOpened",OnTableOpened:"OnTableOpened",OnFormRead:"OnFormRead",OnFormInsert:"OnFormInsert",OnFormUpdate:"OnFormUpdate",OnFormDelete:"OnFormDelete",OnFormHardDelete:"OnFormHardDelete",AfterInit:"AfterInit"}},de76:function(e,t,n){"use strict";n("da5f")},e0ee:function(e,t,n){},e117:function(e,t,n){"use strict";var i=n("448a"),o=n.n(i),r=n("9523"),a=n.n(r),s=n("64f5"),l={props:{value:{},defaultValue:{}},data(){let e=Object(s["q"])(Object(s["p"])(this.value,Object(s["p"])(this.defaultValue,null)),this.parseAs);return{local:e}},mounted(){},computed:{parseAs(){return"default"}},methods:{updateLocal(e){e!=this.local&&(this.local=e,this.$emit("input",e))}},watch:{value(e,t){this.local=e}}};function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={mixins:[l],props:{item:{},name:{},disabled:{},readonly:{},placeholder:{},id:{}},data(){let e=u({},this.$attrs)||{};return this.item&&this.item.attributes&&(e=u(u({},e),this.item.attributes)),{attrs:e,flashErrors:[]}},computed:{combinedErrors(){let e=o()(this.flashErrors);return this.validationErrors&&e.push.apply(e,o()(this.validationErrors)),e},isDisabledOrReadOnly(){return this.disabled||this.readonly}},methods:{focusField(){let e=this.$el.querySelector("input");e&&e.focus({preventScroll:!0})}}}},e2d9:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"DialogWithOTPVerification"},[n("Modal",{attrs:{"has-footer":!0,"footer-actions":e.modalActions,"can-cancel":!1},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.$l("platon.confirm-one-time-code","Бир марталик кодни тасдиқланг"))+" ")]},proxy:!0}])},[n("AuthorizationWithMFA",{attrs:{state:e.verificationState},on:{authorization:e.setAuthorizationOtpCode,authorizationSubmit:e.authorizationSubmit}})],1)],1)},o=[],r=n("c973"),a=n.n(r),s=n("02f0"),l=n("0616"),c=n("e3b7"),u=n("b441"),d={name:"DialogWithOTPVerification",mixins:[c["a"]],components:{Modal:s["a"],AuthorizationWithMFA:l["a"]},data(){return{otpCode:null,isModalOpen:!0,isLoading:!1,verificationState:{isError:!1,verified:!1}}},methods:{getOtpCode(){return String(this.otpCode).length},setAuthorizationOtpCode(e){this.otpCode=e,this.verificationState.isError=!1},closeVerificationModal(){this.$emit("close"),this.$attrs.onClose()},getRequestConfig(e){return{"login-password":{to:u["LOGIN_ENDPOINT"],request:{body:{username:e.username,password:e.password,otp:this.otpCode},params:{}}},"login-EDS":{to:"/auth/e-imzo",request:{body:e.signedPcks,params:{otp:this.otpCode,verify:e.response.data.data},headers:{"Content-Type":"text/plain"}}}}},authorizationSubmit(){var e=this;return a()((function*(){yield e.loginWithOTPVerification()}))()},loginWithOTPVerification(e){var t=this;return a()((function*(){6!==t.getOtpCode()&&(t.isError=!0);try{const{parcel:n,onSuccess:i}=t.$attrs;t.isLoading=!0;const o=t.getRequestConfig(n)[n.type||"login-password"],r=yield t.$http.post(o.to,o.request.body,{baseURL:u["API_BASE_URL"],params:o.request.params,headers:o.request.headers});t.isModalOpen=!1,t.verified=!0,t.$emit("close"),i(r),e&&e()}catch(n){throw t.isError=!1,t.verificationState.isError=!0,new Error(n)}finally{t.isLoading=!1}}))()}},computed:{modalActions(){var e=this;return[{customclass:"otpaction__cancel",text:this.$l("platon.otp-btn-cancel","Бекор қилиш"),handler:()=>this.closeVerificationModal()},{customclass:"otpaction__confirm",text:this.$l("platon.otp-btn-confirm","Тасдиқлаш"),isLoading:this.isLoading,handler:function(){var t=a()((function*(t){return e.getOtpCode()>=6?(yield e.loginWithOTPVerification(t),!1):(e.verificationState.isError=!0,!0)}));return function(e){return t.apply(this,arguments)}}()}]}}},p=d,h=(n("3243"),n("2877")),m=Object(h["a"])(p,i,o,!1,null,"450b2272",null);t["a"]=m.exports},e3b7:function(e,t,n){"use strict";var i=n("c973"),o=n.n(i),r=n("b441");t["a"]={data(){return{isLoggingIn:!1}},methods:{tryLogin(e,t){var n=this;return o()((function*(){try{n.isLoggingIn=!0;const i=yield n.$http.post(r["LOGIN_ENDPOINT"],{username:e,password:t},{baseURL:r["API_BASE_URL"]});n.isLoggingIn=!1,n.$emit("login-success",{user:i.data.user,token:i.data.token,refreshToken:i.data.refreshToken,parcel:{username:e,password:t,response:i,type:"login-password"}})}catch(i){n.isLoggingIn=!1;const e=i.response;e&&(401===e.status?n.$emit("login-error",n.$l("platon.login_invalid_credentials","Логин ёки пароль нотугри!")):n.$emit("login-error",e.error?e.error.message:n.$l("platon.error","Хатолик")))}}))()}}}},e74d:function(e,t,n){},e816:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("c973"),o=n.n(i),r=n("b441"),a=n("5228"),s=n("dd84");const l={switchOrganization(e,t){return o()((function*(){try{yield Object(a["a"])({baseURL:r["API_BASE_URL"],url:"auth/change_user_org",params:{org_id:t.orgId}});e.commit("setUserParam",{key:"orgId",value:t.orgId})}catch(n){console.log("Error while changing org",n)}}))()},logout(e,t){return o()((function*(){try{yield PlatonPluginCore.triggerEvent(s["a"].AfterLogout,e.state.user)}catch(n){console.error(n)}finally{e.commit("doLogout"),setTimeout(o()((function*(){"function"===typeof t.afterLogout&&(yield t.afterLogout()),location.href=t.redirectUrl})),50)}}))()}},c={menu(e){return e.menu.concat(e.customMenu).sort((e,t)=>e.sortOrder-t.sortOrder)},user(e){return e.user},menuCollapsed(e){return e.menuCollapsed},isAuth(e){return!!e.user},theme(e){return e.theme},themeColor(e){return e.themeColor}};var u=n("a026");const d={setMenu(e,t){e.menu=t},setCustomMenu(e,t){e.customMenu=t},setForceUserMode(e,t){e.forceUserMode=t},toggleMenuCollapse(e){let t=!localStorage.getItem("menuCollapsed");e.menuCollapsed=t,t?localStorage.setItem("menuCollapsed","1"):localStorage.removeItem("menuCollapsed")},doLogin(e,t){let{token:n,refreshToken:i,user:o,saveLoginPage:r=!0}=t;localStorage["auth_token"]=n,localStorage["refresh_token"]=i,localStorage["auth_user"]=JSON.stringify(o),r&&(localStorage["login_url"]=window.location.href),e.user=o,e.isAuth=!0},changeLocale(e,t){e.user.locale=t,localStorage["auth_user"]=JSON.stringify(e.user)},doLogout(e){localStorage.removeItem("auth_user"),localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("login_url"),localStorage.removeItem("menuCollapsed"),localStorage.removeItem("ssv_access_token"),localStorage.removeItem("ssv_refresh_token"),e.user=null,e.isAuth=!1},setUserParam(e,t){let{key:n,value:i}=t;u["default"].set(e.user,n,i)},setTheme(e,t){let{theme:n,color:i}=t;e.theme=n,e.themeColor=i,localStorage.setItem("platon_theme",n),localStorage.setItem("platon_theme_color",i)}};var p=n("d88a");function h(){const e=window.innerWidth<768;return e||!!localStorage.getItem("menuCollapsed")}var m={theme:localStorage.getItem("platon_theme")||r["DEFAULT_THEME"],themeColor:localStorage.getItem("platon_theme_color")||r["DEFAULT_THEME_COLOR"],menu:[],customMenu:[],menuCollapsed:h(),user:null,locale:p["e"].locale,isAuth:!1,forceUserMode:!1,authAttempt:!1};const f={namespaced:!0,state:m,mutations:d,getters:c,actions:l}},ea75:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("canvas",{staticClass:"snowf-canvas"})},o=[],r={props:{amount:{type:Number,default:50},size:{type:Number,default:5},speed:{type:Number,default:1.5},wind:{type:Number,default:0},color:{type:String,default:"#fff"},opacity:{type:Number,default:.8},swing:{type:Number,default:1},image:{type:String,default:null},zIndex:{type:Number,default:null},resize:{type:Boolean,default:!0}},mounted(){var e=this;const t=e.$el,n=t.getContext("2d");var i=t.offsetHeight,o=t.offsetWidth,r=[];function l(){for(var t=0;t<e.amount;t++)r.push({x:a(0,o),y:a(0,i),r:a(e.size,2*e.size)/2,velX:0,velY:a(e.speed,2*e.speed),swing:a(0,2*Math.PI),opacity:a(0,e.opacity)});c()}function c(){var t;n.clearRect(0,0,o,i);for(var a=0;a<e.amount;a++){var l=r[a];e.image?(t||(t=new Image,t.src=e.image),n.drawImage(t,l.x-l.r,l.y-l.r,2*l.r,2*l.r)):(n.beginPath(),n.fillStyle="rgba("+s(e.color)+","+l.opacity+")",n.arc(l.x,l.y,l.r,2*Math.PI,!1),n.fill(),n.closePath()),l.velX=Math.abs(l.velX)<Math.abs(e.wind)?l.velX+e.wind/20:e.wind,l.y=l.y+.5*l.velY,l.x=l.x+(e.swing?.4*Math.cos(l.swing+=.03)*l.opacity*e.swing:0)+.5*l.velX,(l.x>o+l.r||l.x<-l.r||l.y>i+l.r||l.y<-l.r)&&u(l)}requestAnimationFrame(c)}function u(t){var n=t.r;t.r=a(e.size,2*e.size)/2,t.x>o+n?(t.x=-t.r,t.y=a(0,i)):t.x<-n?(t.x=o+t.r,t.y=a(0,i)):(t.x=a(0,o),t.y=-t.r),t.velX=0,t.velY=a(e.speed,2*e.speed),t.swing=a(0,2*Math.PI),t.opacity=a(0,e.opacity)}t.height=i,t.width=o,t.style.zIndex=e.zIndex?e.zIndex:"auto",l(),e.resize&&window.addEventListener("resize",(function(){var n=t.height,a=t.width,s=t.offsetHeight,l=t.offsetWidth;t.height=i=s,t.width=o=l;for(var c=0;c<e.amount;c++){var u=r[c];u.x=u.x/a*l,u.y=u.y/n*s}}))}};function a(e,t){var n=t-e;return t===e?e:Math.random()*n+e}function s(e){var t="";return t=0===e.indexOf("#")?4===e.length?e.substr(1).split("").map((function(e){return parseInt(e.concat(e),16)})).join(","):7===e.length?[e.substr(1,2),e.substr(3,2),e.substr(5,2)].map((function(e){return parseInt(e,16)})).join(","):"255,255,255":0===e.indexOf("rgb(")?e.substring(4,e.length-1):"255,255,255",t}var l=r,c=(n("0cd9"),n("2877")),u=Object(c["a"])(l,i,o,!1,null,"070c82a8",null);t["a"]=u.exports},ead6:function(e,t,n){"use strict";var i=n("c973"),o=n.n(i),r=n("b778"),a=n("dd84"),s=n("b441");class l extends r["a"]{load(e){super.load(e),e.registerEvent(a["a"].AfterLogin,this.loadUserOrganizations.bind(this)),e.registerEvent(a["a"].AfterAuth,this.loadOrgsFromLocalStorage.bind(this))}loadUserOrganizations(e,t,n){var i=this;return o()((function*(){if(!t.registeredWithEimzo)return;if("legal"===t.eimzoAllowToLogin)return;let e=yield i.core.$root.$api.get("/auth/user_organizations",{baseURL:s["API_BASE_URL"],headers:{Authorization:"Bearer "+n}}),o=e.data;if(t.eimzoAllowToLogin&&["all","individuals"].includes(t.eimzoAllowToLogin)&&t.pinfl&&o.push({pinfl:t.pinfl.toString(),name:t.fullName}),localStorage.setItem("user_organizations",JSON.stringify(o)),i.loadIntoState(o),1===o.length&&!t.orgId){let e=o[0].pinfl||o[0].tin;yield i.core.store.dispatch("platon/switchOrganization",{orgId:e})}}))()}loadIntoState(e){this.core.store.commit("platon/setUserParam",{key:"organizations",value:e})}loadOrgsFromLocalStorage(){var e=this;return o()((function*(){let t=e.core.store.state.platon.user;if(t){if("legal"===t.eimzoAllowToLogin)return;let n=JSON.parse(localStorage.getItem("user_organizations"));e.loadIntoState(Array.isArray(n)?n:[])}}))()}}var c=n("f162");class u extends r["a"]{load(e){super.load(e),e.registerEvent(a["a"].AfterAuth,this.afterAuth.bind(this))}afterAuth(e,t){return o()((function*(){if(t.registeredWithEimzo&&t.pinfl&&["all","legal"].includes(t.eimzoAllowToLogin)&&!t.orgId&&Array.isArray(t.organizations)&&t.organizations.length>0){let n=yield Object(c["a"])(e.$root,t.organizations);e.store.commit("platon/setUserParam",{key:"orgId",value:n})}}))()}}class d extends r["a"]{load(e){super.load(e);const t=s["PLATON_ENABLE_SENTRY"]||Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_ENABLE_SENTRY;t&&this.loadSentry()}loadSentry(){{const{Integrations:e}=n("688d"),t=n("2075");t.init({url:Object({NODE_ENV:"production",BASE_URL:"/"}).SENTRY_URL||"https://sentry.platon.uz",dsn:s["PLATON_SENTRY_DNS"]||Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SENTRY_DNS,release:n("9224").version,environment:"production",integrations:[new e.BrowserTracing],Vue:window.PlatonVue,tracesSampleRate:.2})}}}var p=n("d88a");class h extends r["a"]{load(e){super.load(e),e.registerEvent(a["a"].AfterLogin,this.AfterLogin.bind(this))}AfterLogin(e,t){return o()((function*(){t.locale&&Object(p["f"])(t.locale)}))()}}var m=n("79cf");class f extends r["a"]{load(e){super.load(e),e.registerEvent(a["a"].SetUserTheme,this.themeInitialize.bind(this))}hasAccessToChaneTheme(e,t){if(!t)return!1;const n=t.permissions||[],i=n.some(e=>e.startsWith("platon.admin.hidden"));return!i}themeInitialize(e,t){const n=this.getProjectTheme(e,t),i=this.getActiveTheme(e,t),o=this.getStoredTheme(e,t);let r=i||(this.hasAccessToChaneTheme&&o?o:n);if(r){this.core.store.commit("platon/setTheme",{theme:r.name,color:r.color});const t=Object(m["a"])();e.store.state.platon&&t(e.store.state.platon.theme)}}getTheme(e){return s["themeModes"].find(t=>t.key===e)||s["themeModes"][0]}getThemeColors(e,t){return e.colors.find(e=>e.key===t)||e.colors[0]}getProjectTheme(){if(Vue.prototype.$projectInfo&&!Vue.prototype.$projectInfo.theme)return null;const{name:e,color:t}=!Vue.prototype.$projectInfo.theme;return e?{name:e,color:t}:null}getStoredTheme(){const e=localStorage.getItem("platon_theme");return e?{name:e,color:localStorage.getItem("platon_theme_color")}:null}getActiveTheme(e,t){if(!t)return null;const n=t.permissions||[],i=n.find(e=>e.startsWith("platon.activeTheme"))||"",o=i.split(".").at(-2),r=i.split(".").at(-1);return o?{name:o,color:r}:null}}var g=n("3941");const b=[{priority:0,plugin:d},{priority:45,plugin:g["a"]},{priority:50,plugin:h},{priority:100,plugin:l},{priority:200,plugin:u},{priority:300,plugin:f}];t["a"]=b},eda6:function(e,t,n){"use strict";n("c926")},eed8:function(e,t,n){"use strict";n("26a3")},eef4:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var i=n("d88a"),o=n("5228");function r(e,t){o["c"].toast(t,{title:e,appendToast:!0,variant:"danger"})}function a(e,t){o["c"].toast(t,{title:e,appendToast:!0,variant:"success"})}function s(e,t){o["c"].toast(t,{title:e,appendToast:!0,variant:"info"})}function l(e){r(Object(i["a"])("platon.toast_error_title","Хатолик"),e)}function c(e){a(Object(i["a"])("platon.toast_success_title","Хабар"),e)}},f059:function(e,t,n){},f162:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("c973"),o=n.n(i);function r(e,t){return a.apply(this,arguments)}function a(){return a=o()((function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{closeable:!1};return function*(){let o=()=>n.e("chunk-629441cf").then(n.bind(null,"418c"));return new Promise((n,r)=>{e.$modal.show(o,{organizations:t,canCancel:i.closeable,onSelected:e=>{n(e)}},{clickToClose:i.closeable,height:"auto"})})}()})),a.apply(this,arguments)}},f202:function(e,t,n){"use strict";n("5cfa")},f284:function(e,t,n){},f2d5:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("item",{attrs:{"link-class":"d-flex flex-row"},on:{click:function(t){return e.$emit("click")}}},[e.icon?n("div",{staticClass:"dropdown-icon"},[e.icon?n("i",{class:e.icon}):e._e()]):e._e(),e._t("default")],2)},o=[],r=n("9eaa"),a={name:"DropdownItem",components:{item:r["a"]},props:{icon:{}}},s=a,l=n("2877"),c=Object(l["a"])(s,i,o,!1,null,null,null);t["a"]=c.exports},f4a9:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isAuth?n("div"):n("div",[n("PageRenderer",{attrs:{"chimera-options":e.landingPageOptions}})],1)},o=[],r=n("9523"),a=n.n(r),s=n("2f62"),l=n("dae0");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={components:{PageRenderer:l["a"]},computed:u(u({},Object(s["c"])({isAuth:"platon/isAuth"})),{},{landingPageOptions(){return{url:"public/main"}}})},p=d,h=n("2877"),m=Object(h["a"])(p,i,o,!1,null,null,null);t["a"]=m.exports},f4df:function(e,t,n){},f56c:function(e,t,n){},f56f:function(e,t,n){"use strict";n("f56c")},f75f:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseControl",e._b({staticClass:"position-relative",attrs:{"has-append":e.$attrs.hasControls,"has-prepend":e.$attrs.hasControls,errors:e.combinedErrors},scopedSlots:e._u([e.$attrs.hasControls?{key:"append",fn:function(){return[n("b-button",{attrs:{variant:"light-outline"},on:{click:function(t){return e.addDays(1)}}},[n("i",{staticClass:"fa fa-chevron-right"})])]},proxy:!0}:null,e.$attrs.hasControls?{key:"prepend",fn:function(){return[n("b-button",{attrs:{variant:"light-outline"},on:{click:function(t){return e.addDays(-1)}}},[n("i",{staticClass:"fa fa-chevron-left"})])]},proxy:!0}:null],null,!0)},"BaseControl",e.$attrs,!1),[n("p-datepicker",{ref:"input",staticClass:"date-picker-input",class:e.classes,attrs:{placeholder:e._placeholder,config:e.options,readonly:e.isReadOnly,disabled:e.isDisabled},model:{value:e.local,callback:function(t){e.local=t},expression:"local"}}),n("div",{staticClass:"icon position-absolute",on:{click:function(t){return e.focusField()}}},[n("i",{staticClass:"fa fa-calendar-alt"})])],1)},o=[],r=n("9523"),a=n.n(r),s=n("98d1"),l=n("be1f"),c=(n("7dc3"),n("b441")),u=n("d88a"),d=n("1943"),p=n("813d"),h=n("7f45"),m=n.n(h);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={name:"DatetimeControl",mixins:[p["a"],l["a"],d["a"]],props:{value:{}},components:{BaseControl:s["a"]},data(){let e=m.a.tz(this.value||this.item.defaultValue,c["DEFAULT_SERVER_DATETIME_FORMAT"],c["BACKEND_TIMEZONE"]),t=this.item.format||c["DEFAULT_DATETIME_FORMAT"];return{dateFormat:t,local:e.isValid()?e.local().format(t):null}},watch:{local(e){let t=e?m()(e,this.dateFormat).tz(c["BACKEND_TIMEZONE"]).format(c["DEFAULT_SERVER_DATETIME_FORMAT"]):null;t!==this.value&&this.$emit("input",t)},value(e){this.local=e?m.a.tz(e,c["DEFAULT_SERVER_DATETIME_FORMAT"],c["BACKEND_TIMEZONE"]).local().format(this.dateFormat):null}},computed:{options(){let e={};return this.item.minDateTime&&(e.minDate=m.a.tz(this.item.minDateTime,c["DEFAULT_SERVER_DATETIME_FORMAT"],c["BACKEND_TIMEZONE"])),this.item.maxDateTime&&(e.maxDate=m.a.tz(this.item.maxDateTime,c["DEFAULT_SERVER_DATETIME_FORMAT"],c["BACKEND_TIMEZONE"])),g({format:this.dateFormat,locale:u["e"].locale,useCurrent:!1,showClear:!0,showClose:!0},e)},classes(){return["text-"+(this.item.textAlign||"left")]},_placeholder(){return this.$props.placeholder||this.item.placeholder||this.dateFormat}}},v=b,y=(n("20ab"),n("2877")),_=Object(y["a"])(v,i,o,!1,null,"5bfa7b39",null);t["a"]=_.exports},f875:function(e,t,n){"use strict";var i=n("c973"),o=n.n(i);t["a"]={methods:{uploadBase64File(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image.jpg",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/jpeg";return o()((function*(){if(t.$refs.manager&&"function"===typeof t.$refs.manager.uploadBase64File)return t.$refs.manager.uploadBase64File(e,n,i)}))()}}}},fb48:function(e,t,n){"use strict";n("afd7")},fce5:function(e,t,n){"use strict";n("c96f")},fcf1:function(e,t,n){},fd2a:function(e,t,n){"use strict";var i=n("eef4");t["a"]={methods:{dangerToast(e,t){this.$platonApp.$bvToast.toast(t,{title:e,appendToast:!0,variant:"danger"})},successToast(e,t){this.$platonApp.$bvToast.toast(t,{title:e,appendToast:!0,variant:"success"})},infoToast(e,t){this.$platonApp.$bvToast.toast(t,{title:e,appendToast:!0,variant:"info"})},errorToast(e){Object(i["b"])(e)},greenToast(e){Object(i["c"])(e)}}}},ff79:function(e,t,n){"use strict";n("e0ee")}},[[0,"runtime","icons","chunk-vendors"]]]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ac3f53e"],{4082:function(t,e,i){var o=i("f0e4");function s(t,e){if(null==t)return{};var i,s,r=o(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)i=a[s],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}t.exports=s,t.exports.__esModule=!0,t.exports["default"]=t.exports},"5f8b":function(t,e,i){var o,s;(function(r){t.exports?(r["default"]=r,t.exports=r):(o=[i("ea7f")],s=function(t){return r(t),r.Highcharts=t,r}.apply(e,o),void 0===s||(t.exports=s))})((function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}t=t?t._modules:{},e(t,"Series/VariablePieSeries.js",[t["Core/Series/Series.js"],t["Core/Utilities.js"]],(function(t,e){var i=e.arrayMax,o=e.arrayMin,s=e.clamp,r=e.fireEvent,a=e.pick,n=t.seriesTypes.pie.prototype;t.seriesType("variablepie","pie",{minPointSize:"10%",maxPointSize:"100%",zMin:void 0,zMax:void 0,sizeBy:"area",tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}<br/>Value: {point.y}<br/>Size: {point.z}<br/>'}},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],redraw:function(){this.center=null,n.redraw.call(this,arguments)},zValEval:function(t){return"number"===typeof t&&!isNaN(t)||null},calculateExtremes:function(){var t=this.chart,e=this.options,r=this.zData,n=Math.min(t.plotWidth,t.plotHeight)-2*(e.slicedOffset||0),l={};t=this.center||this.getCenter(),["minPointSize","maxPointSize"].forEach((function(t){var i=e[t],o=/%$/.test(i);i=parseInt(i,10),l[t]=o?n*i/100:2*i})),this.minPxSize=t[3]+l.minPointSize,this.maxPxSize=s(t[2],t[3]+l.minPointSize,l.maxPointSize),r.length&&(t=a(e.zMin,o(r.filter(this.zValEval))),r=a(e.zMax,i(r.filter(this.zValEval))),this.getRadii(t,r,this.minPxSize,this.maxPxSize))},getRadii:function(t,e,i,o){var s=0,r=this.zData,a=r.length,n=[],l="radius"!==this.options.sizeBy,h=e-t;for(s;s<a;s++){var p=this.zValEval(r[s])?r[s]:t;p<=t?p=i/2:p>=e?p=o/2:(p=0<h?(p-t)/h:.5,l&&(p=Math.sqrt(p)),p=Math.ceil(i+p*(o-i))/2),n.push(p)}this.radii=n},translate:function(t){this.generatePoints();var e=0,i=this.options,o=i.slicedOffset,s=o+(i.borderWidth||0),n=i.startAngle||0,l=Math.PI/180*(n-90),h=Math.PI/180*(a(i.endAngle,n+360)-90);n=h-l;var p=this.points,c=i.dataLabels.distance;i=i.ignoreHiddenPoint;var d=p.length;for(this.startAngleRad=l,this.endAngleRad=h,this.calculateExtremes(),t||(this.center=t=this.getCenter()),h=0;h<d;h++){var f=p[h],u=this.radii[h];f.labelDistance=a(f.options.dataLabels&&f.options.dataLabels.distance,c),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,f.labelDistance);var x=l+e*n;i&&!f.visible||(e+=f.percentage/100);var y=l+e*n;f.shapeType="arc",f.shapeArgs={x:t[0],y:t[1],r:u,innerR:t[3]/2,start:Math.round(1e3*x)/1e3,end:Math.round(1e3*y)/1e3},x=(y+x)/2,x>1.5*Math.PI?x-=2*Math.PI:x<-Math.PI/2&&(x+=2*Math.PI),f.slicedTranslation={translateX:Math.round(Math.cos(x)*o),translateY:Math.round(Math.sin(x)*o)};var v=Math.cos(x)*t[2]/2,b=Math.sin(x)*t[2]/2;y=Math.cos(x)*u,u*=Math.sin(x),f.tooltipPos=[t[0]+.7*v,t[1]+.7*b],f.half=x<-Math.PI/2||x>Math.PI/2?1:0,f.angle=x,v=Math.min(s,f.labelDistance/5),f.labelPosition={natural:{x:t[0]+y+Math.cos(x)*f.labelDistance,y:t[1]+u+Math.sin(x)*f.labelDistance},final:{},alignment:f.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+y+Math.cos(x)*v,y:t[1]+u+Math.sin(x)*v},touchingSliceAt:{x:t[0]+y,y:t[1]+u}}}}r(this,"afterTranslate")}})})),e(t,"masters/modules/variable-pie.src.js",[],(function(){}))}))},"67d5":function(t,e,i){var o,s;(function(r){t.exports?(r["default"]=r,t.exports=r):(o=[i("ea7f")],s=function(t){return r(t),r.Highcharts=t,r}.apply(e,o),void 0===s||(t.exports=s))})((function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}t=t?t._modules:{},e(t,"Extensions/Math3D.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){var i=e.pick,o=t.deg2rad,s=t.perspective3D=function(t,e,i){return e=0<i&&i<Number.POSITIVE_INFINITY?i/(t.z+e.z+i):1,{x:t.x*e,y:t.y*e}},r=t.perspective=function(t,e,r,a){var n=e.options.chart.options3d,l=i(a,!!r&&e.inverted),h={x:e.plotWidth/2,y:e.plotHeight/2,z:n.depth/2,vd:i(n.depth,1)*i(n.viewDistance,0)},p=e.scale3d||1;a=o*n.beta*(l?-1:1),n=o*n.alpha*(l?-1:1);var c=Math.cos(n),d=Math.cos(-a),f=Math.sin(n),u=Math.sin(-a);return r||(h.x+=e.plotLeft,h.y+=e.plotTop),t.map((function(t){var e=(l?t.y:t.x)-h.x,i=(l?t.x:t.y)-h.y;return t=(t.z||0)-h.z,e={x:d*e-u*t,y:-f*u*e+c*i-d*f*t,z:c*u*e+f*i+c*d*t},i=s(e,h,h.vd),i.x=i.x*p+h.x,i.y=i.y*p+h.y,i.z=e.z*p+h.z,{x:l?i.y:i.x,y:l?i.x:i.y,z:i.z}}))};e=t.pointCameraDistance=function(t,e){var o=e.options.chart.options3d,s=e.plotWidth/2;return e=e.plotHeight/2,o=i(o.depth,1)*i(o.viewDistance,0)+o.depth,Math.sqrt(Math.pow(s-i(t.plotX,t.x),2)+Math.pow(e-i(t.plotY,t.y),2)+Math.pow(o-i(t.plotZ,t.z),2))};var a=t.shapeArea=function(t){var e,i=0;for(e=0;e<t.length;e++){var o=(e+1)%t.length;i+=t[e].x*t[o].y-t[o].x*t[e].y}return i/2};return t=t.shapeArea3d=function(t,e,i){return a(r(t,e,i))},{perspective:r,perspective3D:s,pointCameraDistance:e,shapeArea:a,shapeArea3D:t}})),e(t,"Core/Renderer/SVG/SVGRenderer3D.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Extensions/Math3D.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,e,i,o,s,r,a){function n(t,e,i,o,s,r,a,l){var h=[],p=r-s;return r>s&&r-s>Math.PI/2+1e-4?(h=h.concat(n(t,e,i,o,s,s+Math.PI/2,a,l)),h=h.concat(n(t,e,i,o,s+Math.PI/2,r,a,l))):r<s&&s-r>Math.PI/2+1e-4?(h=h.concat(n(t,e,i,o,s,s-Math.PI/2,a,l)),h=h.concat(n(t,e,i,o,s-Math.PI/2,r,a,l))):[["C",t+i*Math.cos(s)-i*A*p*Math.sin(s)+a,e+o*Math.sin(s)+o*A*p*Math.cos(s)+l,t+i*Math.cos(r)+i*A*p*Math.sin(r)+a,e+o*Math.sin(r)-o*A*p*Math.cos(r)+l,t+i*Math.cos(r)+a,e+o*Math.sin(r)+l]]}var l=t.animObject,h=e.parse,p=o.perspective,c=o.shapeArea,d=a.defined,f=a.extend,u=a.merge,x=a.objectEach,y=a.pick,v=Math.cos,b=Math.PI,g=Math.sin,m=i.charts,z=i.deg2rad,A=4*(Math.sqrt(2)-1)/3/(b/2);r.prototype.toLinePath=function(t,e){var i=[];return t.forEach((function(t){i.push(["L",t.x,t.y])})),t.length&&(i[0][0]="M",e&&i.push(["Z"])),i},r.prototype.toLineSegments=function(t){var e=[],i=!0;return t.forEach((function(t){e.push(i?["M",t.x,t.y]:["L",t.x,t.y]),i=!i})),e},r.prototype.face3d=function(t){var e=this,i=this.createElement("path");return i.vertexes=[],i.insidePlotArea=!1,i.enabled=!0,i.attr=function(t){if("object"===typeof t&&(d(t.enabled)||d(t.vertexes)||d(t.insidePlotArea))){this.enabled=y(t.enabled,this.enabled),this.vertexes=y(t.vertexes,this.vertexes),this.insidePlotArea=y(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea;var i=p(this.vertexes,m[e.chartIndex],this.insidePlotArea),o=e.toLinePath(i,!0);i=c(i),i=this.enabled&&0<i?"visible":"hidden",t.d=o,t.visibility=i}return s.prototype.attr.apply(this,arguments)},i.animate=function(t){if("object"===typeof t&&(d(t.enabled)||d(t.vertexes)||d(t.insidePlotArea))){this.enabled=y(t.enabled,this.enabled),this.vertexes=y(t.vertexes,this.vertexes),this.insidePlotArea=y(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea;var i=p(this.vertexes,m[e.chartIndex],this.insidePlotArea),o=e.toLinePath(i,!0);i=c(i),i=this.enabled&&0<i?"visible":"hidden",t.d=o,this.attr("visibility",i)}return s.prototype.animate.apply(this,arguments)},i.attr(t)},r.prototype.polyhedron=function(t){var e=this,i=this.g(),o=i.destroy;return this.styledMode||i.attr({"stroke-linejoin":"round"}),i.faces=[],i.destroy=function(){for(var t=0;t<i.faces.length;t++)i.faces[t].destroy();return o.call(this)},i.attr=function(t,o,r,a){if("object"===typeof t&&d(t.faces)){for(;i.faces.length>t.faces.length;)i.faces.pop().destroy();for(;i.faces.length<t.faces.length;)i.faces.push(e.face3d().add(i));for(var n=0;n<t.faces.length;n++)e.styledMode&&delete t.faces[n].fill,i.faces[n].attr(t.faces[n],null,r,a);delete t.faces}return s.prototype.attr.apply(this,arguments)},i.animate=function(t,o,r){if(t&&t.faces){for(;i.faces.length>t.faces.length;)i.faces.pop().destroy();for(;i.faces.length<t.faces.length;)i.faces.push(e.face3d().add(i));for(var a=0;a<t.faces.length;a++)i.faces[a].animate(t.faces[a],o,r);delete t.faces}return s.prototype.animate.apply(this,arguments)},i.attr(t)},t={initArgs:function(t){var e=this,i=e.renderer,o=i[e.pathType+"Path"](t),s=o.zIndexes;e.parts.forEach((function(t){e[t]=i.path(o[t]).attr({class:"highcharts-3d-"+t,zIndex:s[t]||0}).add(e)})),e.attr({"stroke-linejoin":"round",zIndex:s.group}),e.originalDestroy=e.destroy,e.destroy=e.destroyParts,e.forcedSides=o.forcedSides},singleSetterForParts:function(t,e,i,o,s,r){var a={};o=[null,null,o||"attr",s,r];var n=i&&i.zIndexes;return i?(n&&n.group&&this.attr({zIndex:n.group}),x(i,(function(e,o){a[o]={},a[o][t]=e,n&&(a[o].zIndex=i.zIndexes[o]||0)})),o[1]=a):(a[t]=e,o[0]=a),this.processParts.apply(this,o)},processParts:function(t,e,i,o,s){var r=this;return r.parts.forEach((function(a){e&&(t=y(e[a],!1)),!1!==t&&r[a][i](t,o,s)})),r},destroyParts:function(){return this.processParts(null,null,"destroy"),this.originalDestroy()}};var M=u(t,{parts:["front","top","side"],pathType:"cuboid",attr:function(t,e,i,o){if("string"===typeof t&&"undefined"!==typeof e){var r=t;t={},t[r]=e}return t.shapeArgs||d(t.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](t.shapeArgs||t)):s.prototype.attr.call(this,t,void 0,i,o)},animate:function(t,e,i){if(d(t.x)&&d(t.y)){t=this.renderer[this.pathType+"Path"](t);var o=t.forcedSides;this.singleSetterForParts("d",null,t,"animate",e,i),this.attr({zIndex:t.zIndexes.group}),o!==this.forcedSides&&(this.forcedSides=o,M.fillSetter.call(this,this.fill))}else s.prototype.animate.call(this,t,e,i);return this},fillSetter:function(t){return this.forcedSides=this.forcedSides||[],this.singleSetterForParts("fill",null,{front:t,top:h(t).brighten(0<=this.forcedSides.indexOf("top")?0:.1).get(),side:h(t).brighten(0<=this.forcedSides.indexOf("side")?0:-.1).get()}),this.color=this.fill=t,this}});return r.prototype.elements3d={base:t,cuboid:M},r.prototype.element3d=function(t,e){var i=this.g();return f(i,this.elements3d[t]),i.initArgs(e),i},r.prototype.cuboid=function(t){return this.element3d("cuboid",t)},r.prototype.cuboidPath=function(t){function e(t){return 0===a&&1<t&&6>t?{x:u[t].x,y:u[t].y+10,z:u[t].z}:u[0].x===u[7].x&&4<=t?{x:u[t].x+10,y:u[t].y,z:u[t].z}:0===l&&2>t||5<t?{x:u[t].x,y:u[t].y,z:u[t].z+10}:u[t]}function i(t){return u[t]}var o=t.x,s=t.y,r=t.z||0,a=t.height,n=t.width,l=t.depth,h=m[this.chartIndex],d=h.options.chart.options3d.alpha,f=0,u=[{x:o,y:s,z:r},{x:o+n,y:s,z:r},{x:o+n,y:s+a,z:r},{x:o,y:s+a,z:r},{x:o,y:s+a,z:r+l},{x:o+n,y:s+a,z:r+l},{x:o+n,y:s,z:r+l},{x:o,y:s,z:r+l}],x=[];u=p(u,h,t.insidePlotArea);var y=function(t,o,s){var r=[[],-1],a=t.map(i),n=o.map(i);return t=t.map(e),o=o.map(e),0>c(a)?r=[a,0]:0>c(n)?r=[n,1]:s&&(x.push(s),r=0>c(t)?[a,0]:0>c(o)?[n,1]:[a,0]),r},v=y([3,2,1,0],[7,6,5,4],"front");t=v[0];var b=v[1];v=y([1,6,7,0],[4,5,2,3],"top"),n=v[0];var g=v[1];return v=y([1,2,5,6],[0,7,4,3],"side"),y=v[0],v=v[1],1===v?f+=1e6*(h.plotWidth-o):v||(f+=1e6*o),f+=10*(!g||0<=d&&180>=d||360>d&&357.5<d?h.plotHeight-s:10+s),1===b?f+=100*r:b||(f+=100*(1e3-r)),{front:this.toLinePath(t,!0),top:this.toLinePath(n,!0),side:this.toLinePath(y,!0),zIndexes:{group:Math.round(f)},forcedSides:x,isFront:b,isTop:g}},r.prototype.arc3d=function(t){function e(t){var e,i=!1,o={};for(e in t=u(t),t)-1!==a.indexOf(e)&&(o[e]=t[e],delete t[e],i=!0);return!!i&&[o,t]}var o=this.g(),r=o.renderer,a="x y r innerR start end depth".split(" ");return t=u(t),t.alpha=(t.alpha||0)*z,t.beta=(t.beta||0)*z,o.top=r.path(),o.side1=r.path(),o.side2=r.path(),o.inn=r.path(),o.out=r.path(),o.onAdd=function(){var t=o.parentGroup,e=o.attr("class");o.top.add(o),["out","inn","side1","side2"].forEach((function(i){o[i].attr({class:e+" highcharts-3d-side"}).add(t)}))},["addClass","removeClass"].forEach((function(t){o[t]=function(){var e=arguments;["top","out","inn","side1","side2"].forEach((function(i){o[i][t].apply(o[i],e)}))}})),o.setPaths=function(t){var e=o.renderer.arc3dPath(t),i=100*e.zTop;o.attribs=t,o.top.attr({d:e.top,zIndex:e.zTop}),o.inn.attr({d:e.inn,zIndex:e.zInn}),o.out.attr({d:e.out,zIndex:e.zOut}),o.side1.attr({d:e.side1,zIndex:e.zSide1}),o.side2.attr({d:e.side2,zIndex:e.zSide2}),o.zIndex=i,o.attr({zIndex:i}),t.center&&(o.top.setRadialReference(t.center),delete t.center)},o.setPaths(t),o.fillSetter=function(t){var e=h(t).brighten(-.1).get();return this.fill=t,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:t}),this},["opacity","translateX","translateY","visibility"].forEach((function(t){o[t+"Setter"]=function(t,e){o[e]=t,["out","inn","side1","side2","top"].forEach((function(i){o[i].attr(e,t)}))}})),o.attr=function(t){var i;if("object"===typeof t&&(i=e(t))){var r=i[0];arguments[0]=i[1],f(o.attribs,r),o.setPaths(o.attribs)}return s.prototype.attr.apply(o,arguments)},o.animate=function(t,r,a){var n=this.attribs,h="data-"+Math.random().toString(26).substring(2,9);delete t.center,delete t.z,delete t.alpha,delete t.beta;var p=l(y(r,this.renderer.globalAnimation));if(p.duration){if(r=e(t),o[h]=0,t[h]=1,o[h+"Setter"]=i.noop,r){var c=r[0];p.step=function(t,e){function i(t){return n[t]+(y(c[t],n[t])-n[t])*e.pos}e.prop===h&&e.elem.setPaths(u(n,{x:i("x"),y:i("y"),r:i("r"),innerR:i("innerR"),start:i("start"),end:i("end"),depth:i("depth")}))}}r=p}return s.prototype.animate.call(this,t,r,a)},o.destroy=function(){return this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),s.prototype.destroy.call(this)},o.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},o.show=function(t){this.top.show(t),this.out.show(t),this.inn.show(t),this.side1.show(t),this.side2.show(t)},o},r.prototype.arc3dPath=function(t){function e(t){return t%=2*Math.PI,t>Math.PI&&(t=2*Math.PI-t),t}var i=t.x,o=t.y,s=t.start,r=t.end-1e-5,a=t.r,l=t.innerR||0,h=t.depth||0,p=t.alpha,c=t.beta,d=Math.cos(s),f=Math.sin(s);t=Math.cos(r);var u=Math.sin(r),x=a*Math.cos(c);a*=Math.cos(p);var y=l*Math.cos(c),m=l*Math.cos(p);l=h*Math.sin(c);var z=h*Math.sin(p);h=[["M",i+x*d,o+a*f]],h=h.concat(n(i,o,x,a,s,r,0,0)),h.push(["L",i+y*t,o+m*u]),h=h.concat(n(i,o,y,m,r,s,0,0)),h.push(["Z"]);var A=0<c?Math.PI/2:0;c=0<p?0:Math.PI/2,A=s>-A?s:r>-A?-A:s;var M=r<b-c?r:s<b-c?b-c:r,P=2*b-c;return p=[["M",i+x*v(A),o+a*g(A)]],p=p.concat(n(i,o,x,a,A,M,0,0)),r>P&&s<P?(p.push(["L",i+x*v(M)+l,o+a*g(M)+z]),p=p.concat(n(i,o,x,a,M,P,l,z)),p.push(["L",i+x*v(P),o+a*g(P)]),p=p.concat(n(i,o,x,a,P,r,0,0)),p.push(["L",i+x*v(r)+l,o+a*g(r)+z]),p=p.concat(n(i,o,x,a,r,P,l,z)),p.push(["L",i+x*v(P),o+a*g(P)]),p=p.concat(n(i,o,x,a,P,M,0,0))):r>b-c&&s<b-c&&(p.push(["L",i+x*Math.cos(M)+l,o+a*Math.sin(M)+z]),p=p.concat(n(i,o,x,a,M,r,l,z)),p.push(["L",i+x*Math.cos(r),o+a*Math.sin(r)]),p=p.concat(n(i,o,x,a,r,M,0,0))),p.push(["L",i+x*Math.cos(M)+l,o+a*Math.sin(M)+z]),p=p.concat(n(i,o,x,a,M,A,l,z)),p.push(["Z"]),c=[["M",i+y*d,o+m*f]],c=c.concat(n(i,o,y,m,s,r,0,0)),c.push(["L",i+y*Math.cos(r)+l,o+m*Math.sin(r)+z]),c=c.concat(n(i,o,y,m,r,s,l,z)),c.push(["Z"]),d=[["M",i+x*d,o+a*f],["L",i+x*d+l,o+a*f+z],["L",i+y*d+l,o+m*f+z],["L",i+y*d,o+m*f],["Z"]],i=[["M",i+x*t,o+a*u],["L",i+x*t+l,o+a*u+z],["L",i+y*t+l,o+m*u+z],["L",i+y*t,o+m*u],["Z"]],u=Math.atan2(z,-l),o=Math.abs(r+u),t=Math.abs(s+u),s=Math.abs((s+r)/2+u),o=e(o),t=e(t),s=e(s),s*=1e5,r=1e5*t,o*=1e5,{top:h,zTop:1e5*Math.PI+1,out:p,zOut:Math.max(s,r,o),inn:c,zInn:Math.max(s,r,o),side1:d,zSide1:.99*o,side2:i,zSide2:.99*r}},r})),e(t,"Core/Axis/Tick3D.js",[t["Core/Utilities.js"]],(function(t){var e=t.addEvent,i=t.extend,o=t.wrap;return function(){function t(){}return t.compose=function(i){e(i,"afterGetLabelPosition",t.onAfterGetLabelPosition),o(i.prototype,"getMarkPath",t.wrapGetMarkPath)},t.onAfterGetLabelPosition=function(t){var e=this.axis.axis3D;e&&i(t.pos,e.fix3dPosition(t.pos))},t.wrapGetMarkPath=function(t){var e=this.axis.axis3D,i=t.apply(this,[].slice.call(arguments,1));if(e){var o=i[0],s=i[1];if("M"===o[0]&&"L"===s[0])return e=[e.fix3dPosition({x:o[1],y:o[2],z:0}),e.fix3dPosition({x:s[1],y:s[2],z:0})],this.axis.chart.renderer.toLineSegments(e)}return i},t}()})),e(t,"Core/Axis/Axis3D.js",[t["Core/Globals.js"],t["Extensions/Math3D.js"],t["Core/Axis/Tick.js"],t["Core/Axis/Tick3D.js"],t["Core/Utilities.js"]],(function(t,e,i,o,s){var r=e.perspective,a=e.perspective3D,n=e.shapeArea,l=s.addEvent,h=s.merge,p=s.pick,c=s.wrap,d=t.deg2rad,f=function(){function t(t){this.axis=t}return t.prototype.fix3dPosition=function(t,e){var i=this.axis,o=i.chart;if("colorAxis"===i.coll||!o.chart3d||!o.is3d())return t;var s=d*o.options.chart.options3d.alpha,a=d*o.options.chart.options3d.beta,l=p(e&&i.options.title.position3d,i.options.labels.position3d);e=p(e&&i.options.title.skew3d,i.options.labels.skew3d);var h=o.chart3d.frame3d,c=o.plotLeft,f=o.plotWidth+c,u=o.plotTop,x=o.plotHeight+u;o=!1;var y=0,v=0,b={x:0,y:1,z:0};if(t=i.axis3D.swapZ({x:t.x,y:t.y,z:0}),i.isZAxis)if(i.opposite){if(null===h.axes.z.top)return{};v=t.y-u,t.x=h.axes.z.top.x,t.y=h.axes.z.top.y,c=h.axes.z.top.xDir,o=!h.top.frontFacing}else{if(null===h.axes.z.bottom)return{};v=t.y-x,t.x=h.axes.z.bottom.x,t.y=h.axes.z.bottom.y,c=h.axes.z.bottom.xDir,o=!h.bottom.frontFacing}else if(i.horiz)if(i.opposite){if(null===h.axes.x.top)return{};v=t.y-u,t.y=h.axes.x.top.y,t.z=h.axes.x.top.z,c=h.axes.x.top.xDir,o=!h.top.frontFacing}else{if(null===h.axes.x.bottom)return{};v=t.y-x,t.y=h.axes.x.bottom.y,t.z=h.axes.x.bottom.z,c=h.axes.x.bottom.xDir,o=!h.bottom.frontFacing}else if(i.opposite){if(null===h.axes.y.right)return{};y=t.x-f,t.x=h.axes.y.right.x,t.z=h.axes.y.right.z,c=h.axes.y.right.xDir,c={x:c.z,y:c.y,z:-c.x}}else{if(null===h.axes.y.left)return{};y=t.x-c,t.x=h.axes.y.left.x,t.z=h.axes.y.left.z,c=h.axes.y.left.xDir}return"chart"!==l&&("flap"===l?i.horiz?(a=Math.sin(s),s=Math.cos(s),i.opposite&&(a=-a),o&&(a=-a),b={x:c.z*a,y:s,z:-c.x*a}):c={x:Math.cos(a),y:0,z:Math.sin(a)}:"ortho"===l?i.horiz?(b=Math.cos(s),l=Math.sin(a)*b,s=-Math.sin(s),a=-b*Math.cos(a),b={x:c.y*a-c.z*s,y:c.z*l-c.x*a,z:c.x*s-c.y*l},s=1/Math.sqrt(b.x*b.x+b.y*b.y+b.z*b.z),o&&(s=-s),b={x:s*b.x,y:s*b.y,z:s*b.z}):c={x:Math.cos(a),y:0,z:Math.sin(a)}:i.horiz?b={x:Math.sin(a)*Math.sin(s),y:Math.cos(s),z:-Math.cos(a)*Math.sin(s)}:c={x:Math.cos(a),y:0,z:Math.sin(a)}),t.x+=y*c.x+v*b.x,t.y+=y*c.y+v*b.y,t.z+=y*c.z+v*b.z,o=r([t],i.chart)[0],e&&(0>n(r([t,{x:t.x+c.x,y:t.y+c.y,z:t.z+c.z},{x:t.x+b.x,y:t.y+b.y,z:t.z+b.z}],i.chart))&&(c={x:-c.x,y:-c.y,z:-c.z}),t=r([{x:t.x,y:t.y,z:t.z},{x:t.x+c.x,y:t.y+c.y,z:t.z+c.z},{x:t.x+b.x,y:t.y+b.y,z:t.z+b.z}],i.chart),o.matrix=[t[1].x-t[0].x,t[1].y-t[0].y,t[2].x-t[0].x,t[2].y-t[0].y,o.x,o.y],o.matrix[4]-=o.x*o.matrix[0]+o.y*o.matrix[2],o.matrix[5]-=o.x*o.matrix[1]+o.y*o.matrix[3]),o},t.prototype.swapZ=function(t,e){var i=this.axis;return i.isZAxis?(e=e?0:i.chart.plotLeft,{x:e+t.z,y:t.y,z:t.x-e}):t},t}();return function(){function t(){}return t.compose=function(e){h(!0,e.defaultOptions,t.defaultOptions),e.keepProps.push("axis3D"),l(e,"init",t.onInit),l(e,"afterSetOptions",t.onAfterSetOptions),l(e,"drawCrosshair",t.onDrawCrosshair),l(e,"destroy",t.onDestroy),e=e.prototype,c(e,"getLinePath",t.wrapGetLinePath),c(e,"getPlotBandPath",t.wrapGetPlotBandPath),c(e,"getPlotLinePath",t.wrapGetPlotLinePath),c(e,"getSlotWidth",t.wrapGetSlotWidth),c(e,"getTitlePosition",t.wrapGetTitlePosition),o.compose(i)},t.onAfterSetOptions=function(){var t=this.chart,e=this.options;t.is3d&&t.is3d()&&"colorAxis"!==this.coll&&(e.tickWidth=p(e.tickWidth,0),e.gridLineWidth=p(e.gridLineWidth,1))},t.onDestroy=function(){["backFrame","bottomFrame","sideFrame"].forEach((function(t){this[t]&&(this[t]=this[t].destroy())}),this)},t.onDrawCrosshair=function(t){this.chart.is3d()&&"colorAxis"!==this.coll&&t.point&&(t.point.crosshairPos=this.isXAxis?t.point.axisXpos:this.len-t.point.axisYpos)},t.onInit=function(){this.axis3D||(this.axis3D=new f(this))},t.wrapGetLinePath=function(t){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:t.apply(this,[].slice.call(arguments,1))},t.wrapGetPlotBandPath=function(t){if(!this.chart.is3d()||"colorAxis"===this.coll)return t.apply(this,[].slice.call(arguments,1));var e=arguments,i=e[2],o=[];if(e=this.getPlotLinePath({value:e[1]}),i=this.getPlotLinePath({value:i}),e&&i)for(var s=0;s<e.length;s+=2){var r=e[s],a=e[s+1],n=i[s],l=i[s+1];"M"===r[0]&&"L"===a[0]&&"M"===n[0]&&"L"===l[0]&&o.push(r,a,l,["L",n[1],n[2]],["Z"])}return o},t.wrapGetPlotLinePath=function(t){var e=this.axis3D,i=this.chart,o=t.apply(this,[].slice.call(arguments,1));if("colorAxis"===this.coll||!i.chart3d||!i.is3d()||null===o)return o;var s=i.options.chart.options3d,a=this.isZAxis?i.plotWidth:s.depth;s=i.chart3d.frame3d;var n=o[0],l=o[1];return o=[],"M"===n[0]&&"L"===l[0]&&(e=[e.swapZ({x:n[1],y:n[2],z:0}),e.swapZ({x:n[1],y:n[2],z:a}),e.swapZ({x:l[1],y:l[2],z:0}),e.swapZ({x:l[1],y:l[2],z:a})],this.horiz?(this.isZAxis?(s.left.visible&&o.push(e[0],e[2]),s.right.visible&&o.push(e[1],e[3])):(s.front.visible&&o.push(e[0],e[2]),s.back.visible&&o.push(e[1],e[3])),s.top.visible&&o.push(e[0],e[1]),s.bottom.visible&&o.push(e[2],e[3])):(s.front.visible&&o.push(e[0],e[2]),s.back.visible&&o.push(e[1],e[3]),s.left.visible&&o.push(e[0],e[1]),s.right.visible&&o.push(e[2],e[3])),o=r(o,this.chart,!1)),i.renderer.toLineSegments(o)},t.wrapGetSlotWidth=function(t,e){var i=this.chart,o=this.ticks,s=this.gridGroup;if(this.categories&&i.frameShapes&&i.is3d()&&s&&e&&e.label){s=s.element.childNodes[0].getBBox();var r,n,l=i.frameShapes.left.getBBox(),h=i.options.chart.options3d;i={x:i.plotWidth/2,y:i.plotHeight/2,z:h.depth/2,vd:p(h.depth,1)*p(h.viewDistance,0)},h=e.pos;var c=o[h-1];return o=o[h+1],0!==h&&c&&c.label.xy&&(r=a({x:c.label.xy.x,y:c.label.xy.y,z:null},i,i.vd)),o&&o.label.xy&&(n=a({x:o.label.xy.x,y:o.label.xy.y,z:null},i,i.vd)),o={x:e.label.xy.x,y:e.label.xy.y,z:null},o=a(o,i,i.vd),Math.abs(r?o.x-r.x:n?n.x-o.x:s.x-l.x)}return t.apply(this,[].slice.call(arguments,1))},t.wrapGetTitlePosition=function(t){var e=t.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(e,!0):e},t.defaultOptions={labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}},t}()})),e(t,"Core/Axis/ZAxis.js",[t["Core/Axis/Axis.js"],t["Core/Utilities.js"]],(function(t,e){var i=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),o=e.addEvent,s=e.merge,r=e.pick,a=e.splat,n=function(){function t(){}return t.compose=function(e){o(e,"afterGetAxes",t.onAfterGetAxes),e=e.prototype,e.addZAxis=t.wrapAddZAxis,e.collectionsWithInit.zAxis=[e.addZAxis],e.collectionsWithUpdate.push("zAxis")},t.onAfterGetAxes=function(){var t=this,e=this.options;e=e.zAxis=a(e.zAxis||{}),t.is3d()&&(t.zAxis=[],e.forEach((function(e,i){e.index=i,e.isX=!0,t.addZAxis(e).setScale()})))},t.wrapAddZAxis=function(t){return new l(this,t)},t}(),l=function(t){function e(e,i){return e=t.call(this,e,i)||this,e.isZAxis=!0,e}return i(e,t),e.prototype.getSeriesExtremes=function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.ignoreMinPadding=t.ignoreMaxPadding=void 0,t.stacking&&t.stacking.buildStacks(),t.series.forEach((function(i){!i.visible&&e.options.chart&&e.options.chart.ignoreHiddenSeries||(t.hasVisibleSeries=!0,i=i.zData,i.length&&(t.dataMin=Math.min(r(t.dataMin,i[0]),Math.min.apply(null,i)),t.dataMax=Math.max(r(t.dataMax,i[0]),Math.max.apply(null,i))))}))},e.prototype.setAxisSize=function(){var e=this.chart;t.prototype.setAxisSize.call(this),this.width=this.len=e.options.chart&&e.options.chart.options3d&&e.options.chart.options3d.depth||0,this.right=e.chartWidth-this.width-this.left},e.prototype.setOptions=function(e){e=s({offset:0,lineWidth:0},e),t.prototype.setOptions.call(this,e),this.coll="zAxis"},e.ZChartComposition=n,e}(t);return l})),e(t,"Core/Chart/Chart3D.js",[t["Core/Axis/Axis.js"],t["Core/Axis/Axis3D.js"],t["Core/Chart/Chart.js"],t["Core/Animation/Fx.js"],t["Core/Globals.js"],t["Extensions/Math3D.js"],t["Core/Options.js"],t["Core/Utilities.js"],t["Core/Axis/ZAxis.js"]],(function(t,e,i,o,s,r,a,n,l){var h,p=r.perspective,c=r.shapeArea3D,d=a.defaultOptions,f=n.addEvent,u=n.isArray,x=n.merge,y=n.pick,v=n.wrap;return function(t){function e(t){this.is3d()&&"scatter"===t.options.type&&(t.options.type="scatter3d")}function i(){if(this.chart3d&&this.is3d()){var t=this.renderer,e=this.options.chart.options3d,i=this.chart3d.get3dFrame(),o=this.plotLeft,r=this.plotLeft+this.plotWidth,a=this.plotTop,n=this.plotTop+this.plotHeight;e=e.depth;var l=o-(i.left.visible?i.left.size:0),h=r+(i.right.visible?i.right.size:0),p=a-(i.top.visible?i.top.size:0),c=n+(i.bottom.visible?i.bottom.size:0),d=0-(i.front.visible?i.front.size:0),f=e+(i.back.visible?i.back.size:0),u=this.hasRendered?"animate":"attr";this.chart3d.frame3d=i,this.frameShapes||(this.frameShapes={bottom:t.polyhedron().add(),top:t.polyhedron().add(),left:t.polyhedron().add(),right:t.polyhedron().add(),back:t.polyhedron().add(),front:t.polyhedron().add()}),this.frameShapes.bottom[u]({class:"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:i.bottom.frontFacing?-1e3:1e3,faces:[{fill:s.color(i.bottom.color).brighten(.1).get(),vertexes:[{x:l,y:c,z:d},{x:h,y:c,z:d},{x:h,y:c,z:f},{x:l,y:c,z:f}],enabled:i.bottom.visible},{fill:s.color(i.bottom.color).brighten(.1).get(),vertexes:[{x:o,y:n,z:e},{x:r,y:n,z:e},{x:r,y:n,z:0},{x:o,y:n,z:0}],enabled:i.bottom.visible},{fill:s.color(i.bottom.color).brighten(-.1).get(),vertexes:[{x:l,y:c,z:d},{x:l,y:c,z:f},{x:o,y:n,z:e},{x:o,y:n,z:0}],enabled:i.bottom.visible&&!i.left.visible},{fill:s.color(i.bottom.color).brighten(-.1).get(),vertexes:[{x:h,y:c,z:f},{x:h,y:c,z:d},{x:r,y:n,z:0},{x:r,y:n,z:e}],enabled:i.bottom.visible&&!i.right.visible},{fill:s.color(i.bottom.color).get(),vertexes:[{x:h,y:c,z:d},{x:l,y:c,z:d},{x:o,y:n,z:0},{x:r,y:n,z:0}],enabled:i.bottom.visible&&!i.front.visible},{fill:s.color(i.bottom.color).get(),vertexes:[{x:l,y:c,z:f},{x:h,y:c,z:f},{x:r,y:n,z:e},{x:o,y:n,z:e}],enabled:i.bottom.visible&&!i.back.visible}]}),this.frameShapes.top[u]({class:"highcharts-3d-frame highcharts-3d-frame-top",zIndex:i.top.frontFacing?-1e3:1e3,faces:[{fill:s.color(i.top.color).brighten(.1).get(),vertexes:[{x:l,y:p,z:f},{x:h,y:p,z:f},{x:h,y:p,z:d},{x:l,y:p,z:d}],enabled:i.top.visible},{fill:s.color(i.top.color).brighten(.1).get(),vertexes:[{x:o,y:a,z:0},{x:r,y:a,z:0},{x:r,y:a,z:e},{x:o,y:a,z:e}],enabled:i.top.visible},{fill:s.color(i.top.color).brighten(-.1).get(),vertexes:[{x:l,y:p,z:f},{x:l,y:p,z:d},{x:o,y:a,z:0},{x:o,y:a,z:e}],enabled:i.top.visible&&!i.left.visible},{fill:s.color(i.top.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:d},{x:h,y:p,z:f},{x:r,y:a,z:e},{x:r,y:a,z:0}],enabled:i.top.visible&&!i.right.visible},{fill:s.color(i.top.color).get(),vertexes:[{x:l,y:p,z:d},{x:h,y:p,z:d},{x:r,y:a,z:0},{x:o,y:a,z:0}],enabled:i.top.visible&&!i.front.visible},{fill:s.color(i.top.color).get(),vertexes:[{x:h,y:p,z:f},{x:l,y:p,z:f},{x:o,y:a,z:e},{x:r,y:a,z:e}],enabled:i.top.visible&&!i.back.visible}]}),this.frameShapes.left[u]({class:"highcharts-3d-frame highcharts-3d-frame-left",zIndex:i.left.frontFacing?-1e3:1e3,faces:[{fill:s.color(i.left.color).brighten(.1).get(),vertexes:[{x:l,y:c,z:d},{x:o,y:n,z:0},{x:o,y:n,z:e},{x:l,y:c,z:f}],enabled:i.left.visible&&!i.bottom.visible},{fill:s.color(i.left.color).brighten(.1).get(),vertexes:[{x:l,y:p,z:f},{x:o,y:a,z:e},{x:o,y:a,z:0},{x:l,y:p,z:d}],enabled:i.left.visible&&!i.top.visible},{fill:s.color(i.left.color).brighten(-.1).get(),vertexes:[{x:l,y:c,z:f},{x:l,y:p,z:f},{x:l,y:p,z:d},{x:l,y:c,z:d}],enabled:i.left.visible},{fill:s.color(i.left.color).brighten(-.1).get(),vertexes:[{x:o,y:a,z:e},{x:o,y:n,z:e},{x:o,y:n,z:0},{x:o,y:a,z:0}],enabled:i.left.visible},{fill:s.color(i.left.color).get(),vertexes:[{x:l,y:c,z:d},{x:l,y:p,z:d},{x:o,y:a,z:0},{x:o,y:n,z:0}],enabled:i.left.visible&&!i.front.visible},{fill:s.color(i.left.color).get(),vertexes:[{x:l,y:p,z:f},{x:l,y:c,z:f},{x:o,y:n,z:e},{x:o,y:a,z:e}],enabled:i.left.visible&&!i.back.visible}]}),this.frameShapes.right[u]({class:"highcharts-3d-frame highcharts-3d-frame-right",zIndex:i.right.frontFacing?-1e3:1e3,faces:[{fill:s.color(i.right.color).brighten(.1).get(),vertexes:[{x:h,y:c,z:f},{x:r,y:n,z:e},{x:r,y:n,z:0},{x:h,y:c,z:d}],enabled:i.right.visible&&!i.bottom.visible},{fill:s.color(i.right.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:d},{x:r,y:a,z:0},{x:r,y:a,z:e},{x:h,y:p,z:f}],enabled:i.right.visible&&!i.top.visible},{fill:s.color(i.right.color).brighten(-.1).get(),vertexes:[{x:r,y:a,z:0},{x:r,y:n,z:0},{x:r,y:n,z:e},{x:r,y:a,z:e}],enabled:i.right.visible},{fill:s.color(i.right.color).brighten(-.1).get(),vertexes:[{x:h,y:c,z:d},{x:h,y:p,z:d},{x:h,y:p,z:f},{x:h,y:c,z:f}],enabled:i.right.visible},{fill:s.color(i.right.color).get(),vertexes:[{x:h,y:p,z:d},{x:h,y:c,z:d},{x:r,y:n,z:0},{x:r,y:a,z:0}],enabled:i.right.visible&&!i.front.visible},{fill:s.color(i.right.color).get(),vertexes:[{x:h,y:c,z:f},{x:h,y:p,z:f},{x:r,y:a,z:e},{x:r,y:n,z:e}],enabled:i.right.visible&&!i.back.visible}]}),this.frameShapes.back[u]({class:"highcharts-3d-frame highcharts-3d-frame-back",zIndex:i.back.frontFacing?-1e3:1e3,faces:[{fill:s.color(i.back.color).brighten(.1).get(),vertexes:[{x:h,y:c,z:f},{x:l,y:c,z:f},{x:o,y:n,z:e},{x:r,y:n,z:e}],enabled:i.back.visible&&!i.bottom.visible},{fill:s.color(i.back.color).brighten(.1).get(),vertexes:[{x:l,y:p,z:f},{x:h,y:p,z:f},{x:r,y:a,z:e},{x:o,y:a,z:e}],enabled:i.back.visible&&!i.top.visible},{fill:s.color(i.back.color).brighten(-.1).get(),vertexes:[{x:l,y:c,z:f},{x:l,y:p,z:f},{x:o,y:a,z:e},{x:o,y:n,z:e}],enabled:i.back.visible&&!i.left.visible},{fill:s.color(i.back.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:f},{x:h,y:c,z:f},{x:r,y:n,z:e},{x:r,y:a,z:e}],enabled:i.back.visible&&!i.right.visible},{fill:s.color(i.back.color).get(),vertexes:[{x:o,y:a,z:e},{x:r,y:a,z:e},{x:r,y:n,z:e},{x:o,y:n,z:e}],enabled:i.back.visible},{fill:s.color(i.back.color).get(),vertexes:[{x:l,y:c,z:f},{x:h,y:c,z:f},{x:h,y:p,z:f},{x:l,y:p,z:f}],enabled:i.back.visible}]}),this.frameShapes.front[u]({class:"highcharts-3d-frame highcharts-3d-frame-front",zIndex:i.front.frontFacing?-1e3:1e3,faces:[{fill:s.color(i.front.color).brighten(.1).get(),vertexes:[{x:l,y:c,z:d},{x:h,y:c,z:d},{x:r,y:n,z:0},{x:o,y:n,z:0}],enabled:i.front.visible&&!i.bottom.visible},{fill:s.color(i.front.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:d},{x:l,y:p,z:d},{x:o,y:a,z:0},{x:r,y:a,z:0}],enabled:i.front.visible&&!i.top.visible},{fill:s.color(i.front.color).brighten(-.1).get(),vertexes:[{x:l,y:p,z:d},{x:l,y:c,z:d},{x:o,y:n,z:0},{x:o,y:a,z:0}],enabled:i.front.visible&&!i.left.visible},{fill:s.color(i.front.color).brighten(-.1).get(),vertexes:[{x:h,y:c,z:d},{x:h,y:p,z:d},{x:r,y:a,z:0},{x:r,y:n,z:0}],enabled:i.front.visible&&!i.right.visible},{fill:s.color(i.front.color).get(),vertexes:[{x:r,y:a,z:0},{x:o,y:a,z:0},{x:o,y:n,z:0},{x:r,y:n,z:0}],enabled:i.front.visible},{fill:s.color(i.front.color).get(),vertexes:[{x:h,y:c,z:d},{x:l,y:c,z:d},{x:l,y:p,z:d},{x:h,y:p,z:d}],enabled:i.front.visible}]})}}function o(){this.styledMode&&(this.renderer.definition({tagName:"style",textContent:".highcharts-3d-top{filter: url(#highcharts-brighter)}\n.highcharts-3d-side{filter: url(#highcharts-darker)}\n"}),[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach((function(t){this.renderer.definition({tagName:"filter",id:"highcharts-"+t.name,children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",type:"linear",slope:t.slope},{tagName:"feFuncG",type:"linear",slope:t.slope},{tagName:"feFuncB",type:"linear",slope:t.slope}]}]})}),this))}function r(){var t=this.options;this.is3d()&&(t.series||[]).forEach((function(e){"scatter"===(e.type||t.chart.type||t.chart.defaultSeriesType)&&(e.type="scatter3d")}))}function a(){var t=this.options.chart.options3d;if(this.chart3d&&this.is3d()){t&&(t.alpha=t.alpha%360+(0<=t.alpha?0:360),t.beta=t.beta%360+(0<=t.beta?0:360));var e=this.inverted,i=this.clipBox,o=this.margin;i[e?"y":"x"]=-(o[3]||0),i[e?"x":"y"]=-(o[0]||0),i[e?"height":"width"]=this.chartWidth+(o[3]||0)+(o[1]||0),i[e?"width":"height"]=this.chartHeight+(o[0]||0)+(o[2]||0),this.scale3d=1,!0===t.fitToPlot&&(this.scale3d=this.chart3d.getScale(t.depth)),this.chart3d.frame3d=this.chart3d.get3dFrame()}}function n(){this.is3d()&&(this.isDirtyBox=!0)}function l(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function h(){this.chart3d||(this.chart3d=new z(this))}function b(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}function g(t){var e=this.series.length;if(this.is3d())for(;e--;)t=this.series[e],t.translate(),t.render();else t.call(this)}function m(t){t.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}var z=function(){function t(t){this.frame3d=void 0,this.chart=t}return t.prototype.get3dFrame=function(){var t=this.chart,e=t.options.chart.options3d,i=e.frame,o=t.plotLeft,s=t.plotLeft+t.plotWidth,r=t.plotTop,a=t.plotTop+t.plotHeight,n=e.depth,l=function(e){return e=c(e,t),.5<e?1:-.5>e?-1:0},h=l([{x:o,y:a,z:n},{x:s,y:a,z:n},{x:s,y:a,z:0},{x:o,y:a,z:0}]),d=l([{x:o,y:r,z:0},{x:s,y:r,z:0},{x:s,y:r,z:n},{x:o,y:r,z:n}]),f=l([{x:o,y:r,z:0},{x:o,y:r,z:n},{x:o,y:a,z:n},{x:o,y:a,z:0}]),u=l([{x:s,y:r,z:n},{x:s,y:r,z:0},{x:s,y:a,z:0},{x:s,y:a,z:n}]),x=l([{x:o,y:a,z:0},{x:s,y:a,z:0},{x:s,y:r,z:0},{x:o,y:r,z:0}]);l=l([{x:o,y:r,z:n},{x:s,y:r,z:n},{x:s,y:a,z:n},{x:o,y:a,z:n}]);var v=!1,b=!1,g=!1,m=!1;[].concat(t.xAxis,t.yAxis,t.zAxis).forEach((function(t){t&&(t.horiz?t.opposite?b=!0:v=!0:t.opposite?m=!0:g=!0)}));var z=function(t,e,i){for(var o=["size","color","visible"],s={},r=0;r<o.length;r++)for(var a=o[r],n=0;n<t.length;n++)if("object"===typeof t[n]){var l=t[n][a];if("undefined"!==typeof l&&null!==l){s[a]=l;break}}return t=i,!0===s.visible||!1===s.visible?t=s.visible:"auto"===s.visible&&(t=0<e),{size:y(s.size,1),color:y(s.color,"none"),frontFacing:0<e,visible:t}};return i={axes:{},bottom:z([i.bottom,i.top,i],h,v),top:z([i.top,i.bottom,i],d,b),left:z([i.left,i.right,i.side,i],f,g),right:z([i.right,i.left,i.side,i],u,m),back:z([i.back,i.front,i],l,!0),front:z([i.front,i.back,i],x,!1)},"auto"===e.axisLabelPosition?(u=function(t,e){return t.visible!==e.visible||t.visible&&e.visible&&t.frontFacing!==e.frontFacing},e=[],u(i.left,i.front)&&e.push({y:(r+a)/2,x:o,z:0,xDir:{x:1,y:0,z:0}}),u(i.left,i.back)&&e.push({y:(r+a)/2,x:o,z:n,xDir:{x:0,y:0,z:-1}}),u(i.right,i.front)&&e.push({y:(r+a)/2,x:s,z:0,xDir:{x:0,y:0,z:1}}),u(i.right,i.back)&&e.push({y:(r+a)/2,x:s,z:n,xDir:{x:-1,y:0,z:0}}),h=[],u(i.bottom,i.front)&&h.push({x:(o+s)/2,y:a,z:0,xDir:{x:1,y:0,z:0}}),u(i.bottom,i.back)&&h.push({x:(o+s)/2,y:a,z:n,xDir:{x:-1,y:0,z:0}}),d=[],u(i.top,i.front)&&d.push({x:(o+s)/2,y:r,z:0,xDir:{x:1,y:0,z:0}}),u(i.top,i.back)&&d.push({x:(o+s)/2,y:r,z:n,xDir:{x:-1,y:0,z:0}}),f=[],u(i.bottom,i.left)&&f.push({z:(0+n)/2,y:a,x:o,xDir:{x:0,y:0,z:-1}}),u(i.bottom,i.right)&&f.push({z:(0+n)/2,y:a,x:s,xDir:{x:0,y:0,z:1}}),a=[],u(i.top,i.left)&&a.push({z:(0+n)/2,y:r,x:o,xDir:{x:0,y:0,z:-1}}),u(i.top,i.right)&&a.push({z:(0+n)/2,y:r,x:s,xDir:{x:0,y:0,z:1}}),o=function(e,i,o){if(0===e.length)return null;if(1===e.length)return e[0];for(var s=0,r=p(e,t,!1),a=1;a<r.length;a++)(o*r[a][i]>o*r[s][i]||o*r[a][i]===o*r[s][i]&&r[a].z<r[s].z)&&(s=a);return e[s]},i.axes={y:{left:o(e,"x",-1),right:o(e,"x",1)},x:{top:o(d,"y",-1),bottom:o(h,"y",1)},z:{top:o(a,"y",-1),bottom:o(f,"y",1)}}):i.axes={y:{left:{x:o,z:0,xDir:{x:1,y:0,z:0}},right:{x:s,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:r,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:a,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:g?s:o,y:r,xDir:g?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:g?s:o,y:a,xDir:g?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}},i},t.prototype.getScale=function(t){var e=this.chart,i=e.plotLeft,o=e.plotWidth+i,s=e.plotTop,r=e.plotHeight+s,a=i+e.plotWidth/2,n=s+e.plotHeight/2,l=Number.MAX_VALUE,h=-Number.MAX_VALUE,c=Number.MAX_VALUE,d=-Number.MAX_VALUE,f=1,u=[{x:i,y:s,z:0},{x:i,y:s,z:t}];return[0,1].forEach((function(t){u.push({x:o,y:u[t].y,z:u[t].z})})),[0,1,2,3].forEach((function(t){u.push({x:u[t].x,y:r,z:u[t].z})})),u=p(u,e,!1),u.forEach((function(t){l=Math.min(l,t.x),h=Math.max(h,t.x),c=Math.min(c,t.y),d=Math.max(d,t.y)})),i>l&&(f=Math.min(f,1-Math.abs((i+a)/(l+a))%1)),o<h&&(f=Math.min(f,(o-a)/(h-a))),s>c&&(f=0>c?Math.min(f,(s+n)/(-c+s+n)):Math.min(f,1-(s+n)/(c+n)%1)),r<d&&(f=Math.min(f,Math.abs((r-n)/(d-n)))),f},t}();t.Composition=z,t.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}},t.compose=function(p,c){var y=p.prototype;c=c.prototype,y.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},y.propsRequireDirtyBox.push("chart.options3d"),y.propsRequireUpdateSeries.push("chart.options3d"),c.matrixSetter=function(){if(1>this.pos&&(u(this.start)||u(this.end)))for(var t=this.start||[1,0,0,1,0,0],e=this.end||[1,0,0,1,0,0],i=[],o=0;6>o;o++)i.push(this.pos*e[o]+(1-this.pos)*t[o]);else i=this.end;this.elem.attr(this.prop,i,null,!0)},x(!0,d,t.defaultOptions),f(p,"init",h),f(p,"addSeries",e),f(p,"afterDrawChartBox",i),f(p,"afterGetContainer",o),f(p,"afterInit",r),f(p,"afterSetChartSize",a),f(p,"beforeRedraw",n),f(p,"beforeRender",l),v(s.Chart.prototype,"isInsidePlot",b),v(p,"renderSeries",g),v(p,"setClassName",m)}}(h||(h={})),h.compose(i,o),l.ZChartComposition.compose(i),e.compose(t),h})),e(t,"Core/Series/Series3D.js",[t["Core/Globals.js"],t["Extensions/Math3D.js"],t["Core/Utilities.js"]],(function(t,e,i){var o=e.perspective;e=i.addEvent;var s=i.pick;e(t.Series,"afterTranslate",(function(){this.chart.is3d()&&this.translate3dPoints()})),t.Series.prototype.translate3dPoints=function(){var t,e=this.chart,i=s(this.zAxis,e.options.zAxis[0]),r=[];for(t=0;t<this.data.length;t++){var a=this.data[t];if(i&&i.translate){var n=i.logarithmic&&i.val2lin?i.val2lin(a.z):a.z;a.plotZ=i.translate(n),a.isInside=!!a.isInside&&(n>=i.min&&n<=i.max)}else a.plotZ=0;a.axisXpos=a.plotX,a.axisYpos=a.plotY,a.axisZpos=a.plotZ,r.push({x:a.plotX,y:a.plotY,z:a.plotZ})}for(e=o(r,e,!0),t=0;t<this.data.length;t++)a=this.data[t],i=e[t],a.plotX=i.x,a.plotY=i.y,a.plotZ=i.z}})),e(t,"Series/Column3DSeries.js",[t["Core/Series/Series.js"],t["Core/Globals.js"],t["Extensions/Math3D.js"],t["Extensions/Stacking.js"],t["Core/Utilities.js"]],(function(t,e,i,o,s){function r(t,e){var i,o=t.series,s={},r=1;return o.forEach((function(t){i=p(t.options.stack,e?0:o.length-1-t.index),s[i]?s[i].series.push(t):(s[i]={series:[t],position:r},r++)})),s.totalStacks=r+1,s}function a(t){var e=t.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(e.stroke=this.options.edgeColor||e.fill,e["stroke-width"]=p(this.options.edgeWidth,1)),e}function n(t,e,i){var o=this.chart.is3d&&this.chart.is3d();o&&(this.options.inactiveOtherPoints=!0),t.call(this,e,i),o&&(this.options.inactiveOtherPoints=!1)}function l(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this.series.chart.is3d()?this.graphic&&"g"!==this.graphic.element.nodeName:t.apply(this,e)}var h=i.perspective;i=s.addEvent;var p=s.pick;s=s.wrap;var c=e.Series,d=t.seriesTypes.column.prototype,f=e.svg;s(d,"translate",(function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()})),s(c.prototype,"justifyDataLabel",(function(t){return!arguments[2].outside3dPlot&&t.apply(this,[].slice.call(arguments,1))})),d.translate3dPoints=function(){},d.translate3dShapes=function(){var t,e=this,i=e.chart,o=e.options,s=o.depth,r=(o.stacking?o.stack||0:e.index)*(s+(o.groupZPadding||1)),a=e.borderWidth%2?.5:0;i.inverted&&!e.yAxis.reversed&&(a*=-1),!1!==o.grouping&&(r=0),r+=o.groupZPadding||1,e.data.forEach((function(o){if(o.outside3dPlot=null,null!==o.y){var n,l=o.shapeArgs,p=o.tooltipPos;[["x","width"],["y","height"]].forEach((function(t){if(n=l[t[0]]-a,0>n&&(l[t[1]]+=l[t[0]]+a,l[t[0]]=-a,n=0),n+l[t[1]]>e[t[0]+"Axis"].len&&0!==l[t[1]]&&(l[t[1]]=e[t[0]+"Axis"].len-l[t[0]]),0!==l[t[1]]&&(l[t[0]]>=e[t[0]+"Axis"].len||l[t[0]]+l[t[1]]<=a)){for(var i in l)l[i]=0;o.outside3dPlot=!0}})),"rect"===o.shapeType&&(o.shapeType="cuboid"),l.z=r,l.depth=s,l.insidePlotArea=!0,t={x:l.x+l.width/2,y:l.y,z:r+s/2},i.inverted&&(t.x=l.height,t.y=o.clientX),o.plot3d=h([t],i,!0,!1)[0],p=h([{x:p[0],y:p[1],z:r+s/2}],i,!0,!1)[0],o.tooltipPos=[p.x,p.y]}})),e.z=r},s(d,"animate",(function(t){if(this.chart.is3d()){var e=arguments[1],i=this.yAxis,o=this,s=this.yAxis.reversed;f&&(e?o.data.forEach((function(t){null!==t.y&&(t.height=t.shapeArgs.height,t.shapey=t.shapeArgs.y,t.shapeArgs.height=1,s||(t.shapeArgs.y=t.stackY?t.plotY+i.translate(t.stackY):t.plotY+(t.negative?-t.height:t.height)))})):(o.data.forEach((function(t){null!==t.y&&(t.shapeArgs.height=t.height,t.shapeArgs.y=t.shapey,t.graphic&&t.graphic.animate(t.shapeArgs,o.options.animation))})),this.drawDataLabels()))}else t.apply(this,[].slice.call(arguments,1))})),s(d,"plotGroup",(function(t,e,i,o,s,r){return"dataLabelsGroup"!==e&&this.chart.is3d()&&(this[e]&&delete this[e],r&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(r)),this[e]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[e].survive=!0,"group"===e||"markerGroup"===e))&&(arguments[3]="visible"),t.apply(this,Array.prototype.slice.call(arguments,1))})),s(d,"setVisible",(function(t,e){var i,o=this;o.chart.is3d()&&o.data.forEach((function(t){i=(t.visible=t.options.visible=e="undefined"===typeof e?!p(o.visible,t.visible):e)?"visible":"hidden",o.options.data[o.data.indexOf(t)]=t.options,t.graphic&&t.graphic.attr({visibility:i})})),t.apply(this,Array.prototype.slice.call(arguments,1))})),d.handle3dGrouping=!0,i(c,"afterInit",(function(){if(this.chart.is3d()&&this.handle3dGrouping){var t=this.options,e=t.grouping,i=t.stacking,o=p(this.yAxis.options.reversedStacks,!0),s=0;if("undefined"===typeof e||e){for(e=r(this.chart,i),s=t.stack||0,i=0;i<e[s].series.length&&e[s].series[i]!==this;i++);s=10*(e.totalStacks-e[s].position)+(o?i:-i),this.xAxis.reversed||(s=10*e.totalStacks-s)}t.depth=t.depth||25,this.z=this.z||0,t.zIndex=s}})),s(d,"pointAttribs",a),s(d,"setState",n),s(d.pointClass.prototype,"hasNewShapeType",l),t.seriesTypes.columnRange&&(e=t.seriesTypes.columnrange.prototype,s(e,"pointAttribs",a),s(e,"setState",n),s(e.pointClass.prototype,"hasNewShapeType",l),e.plotGroup=d.plotGroup,e.setVisible=d.setVisible),s(c.prototype,"alignDataLabel",(function(t,e,i,o,s){var r=this.chart;if(o.outside3dPlot=e.outside3dPlot,r.is3d()&&this.is("column")){var a=this.options,n=p(o.inside,!!this.options.stacking),l=r.options.chart.options3d,c=e.pointWidth/2||0;a={x:s.x+c,y:s.y,z:this.z+a.depth/2},r.inverted&&(n&&(s.width=0,a.x+=e.shapeArgs.height/2),90<=l.alpha&&270>=l.alpha&&(a.y+=e.shapeArgs.width)),a=h([a],r,!0,!1)[0],s.x=a.x-c,s.y=e.outside3dPlot?-9e9:a.y}t.apply(this,[].slice.call(arguments,1))})),s(o.prototype,"getStackBox",(function(e,i,o,s,r,a,n,l){var p=e.apply(this,[].slice.call(arguments,1));if(i.is3d()&&o.base){var c=+o.base.split(",")[0],d=i.series[c];c=i.options.chart.options3d,d&&d instanceof t.seriesTypes.column&&(d={x:p.x+(i.inverted?n:a/2),y:p.y,z:d.options.depth/2},i.inverted&&(p.width=0,90<=c.alpha&&270>=c.alpha&&(d.y+=a)),d=h([d],i,!0,!1)[0],p.x=d.x-a/2,p.y=d.y)}return p}))})),e(t,"Series/Pie3DSeries.js",[t["Core/Series/Series.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,i){var o=e.deg2rad,s=e.svg,r=i.pick;e=i.wrap,t=t.seriesTypes,e(t.pie.prototype,"translate",(function(t){if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var e=this,i=e.options,s=i.depth||0,r=e.chart.options.chart.options3d,a=r.alpha,n=r.beta,l=i.stacking?(i.stack||0)*s:e._i*s;l+=s/2,!1!==i.grouping&&(l=0),e.data.forEach((function(t){var r=t.shapeArgs;t.shapeType="arc3d",r.z=l,r.depth=.75*s,r.alpha=a,r.beta=n,r.center=e.center,r=(r.end+r.start)/2,t.slicedTranslation={translateX:Math.round(Math.cos(r)*i.slicedOffset*Math.cos(a*o)),translateY:Math.round(Math.sin(r)*i.slicedOffset*Math.cos(a*o))}}))}})),e(t.pie.prototype.pointClass.prototype,"haloPath",(function(t){var e=arguments;return this.series.chart.is3d()?[]:t.call(this,e[1])})),e(t.pie.prototype,"pointAttribs",(function(t,e,i){return t=t.call(this,e,i),i=this.options,this.chart.is3d()&&!this.chart.styledMode&&(t.stroke=i.edgeColor||e.color||this.color,t["stroke-width"]=r(i.edgeWidth,1)),t})),e(t.pie.prototype,"drawDataLabels",(function(t){if(this.chart.is3d()){var e=this.chart.options.chart.options3d;this.data.forEach((function(t){var i=t.shapeArgs,s=i.r,r=(i.start+i.end)/2;t=t.labelPosition;var a=t.connectorPosition,n=-s*(1-Math.cos((i.alpha||e.alpha)*o))*Math.sin(r),l=s*(Math.cos((i.beta||e.beta)*o)-1)*Math.cos(r);[t.natural,a.breakAt,a.touchingSliceAt].forEach((function(t){t.x+=l,t.y+=n}))}))}t.apply(this,[].slice.call(arguments,1))})),e(t.pie.prototype,"addPoint",(function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)})),e(t.pie.prototype,"animate",(function(t){if(this.chart.is3d()){var e=arguments[1],i=this.options.animation,o=this.center,a=this.group,n=this.markerGroup;s&&(!0===i&&(i={}),e?(a.oldtranslateX=r(a.oldtranslateX,a.translateX),a.oldtranslateY=r(a.oldtranslateY,a.translateY),e={translateX:o[0],translateY:o[1],scaleX:.001,scaleY:.001},a.attr(e),n&&(n.attrSetters=a.attrSetters,n.attr(e))):(e={translateX:a.oldtranslateX,translateY:a.oldtranslateY,scaleX:1,scaleY:1},a.animate(e,i),n&&n.animate(e,i)))}else t.apply(this,[].slice.call(arguments,1))}))})),e(t,"Series/Scatter3DSeries.js",[t["Core/Series/Series.js"],t["Extensions/Math3D.js"],t["Core/Series/Point.js"]],(function(t,e,i){var o=t.seriesTypes,s=e.pointCameraDistance;t.seriesType("scatter3d","scatter",{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}},{pointAttribs:function(t){var e=o.scatter.prototype.pointAttribs.apply(this,arguments);return this.chart.is3d()&&t&&(e.zIndex=s(t,this.chart)),e},axisTypes:["xAxis","yAxis","zAxis"],pointArrayMap:["x","y","z"],parallelArrays:["x","y","z"],directTouch:!0},{applyOptions:function(){return i.prototype.applyOptions.apply(this,arguments),"undefined"===typeof this.z&&(this.z=0),this}})})),e(t,"masters/highcharts-3d.src.js",[],(function(){}))}))},cc5d:function(t,e,i){var o,s;(function(r){t.exports?(r["default"]=r,t.exports=r):(o=[i("ea7f")],s=function(t){return r(t),r.Highcharts=t,r}.apply(e,o),void 0===s||(t.exports=s))})((function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}var i=t?t._modules:{};e(i,"Series/FunnelSeries.js",[i["Core/Series/Series.js"],i["Core/Chart/Chart.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(e,i,o,s){var r=e.seriesTypes,a=o.noop;o=s.addEvent;var n=s.fireEvent,l=s.isArray,h=s.pick;e.seriesType("funnel","pie",{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:"#cccccc",borderColor:"#000000"}}},{animate:a,translate:function(){function t(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)}var e=0,i=this,o=i.chart,s=i.options,r=s.reversed,l=s.ignoreHiddenPoint,p=o.plotWidth;o=o.plotHeight;var c,d=0,f=s.center,u=t(f[0],p),x=t(f[1],o),y=t(s.width,p),v=t(s.height,o),b=t(s.neckWidth,p),g=t(s.neckHeight,o),m=x-v/2+v-g;p=i.data;var z,A,M,P,S,w,C,L,D,k="left"===s.dataLabels.position?1:0;i.getWidthAt=function(t){var e=x-v/2;return t>m||v===g?b:b+(y-b)*(1-(t-e)/(v-g))},i.getX=function(t,e,o){return u+(e?-1:1)*(i.getWidthAt(r?2*x-t:t)/2+o.labelDistance)},i.center=[u,x,v],i.centerX=u,p.forEach((function(t){l&&!1===t.visible||(e+=t.y)})),p.forEach((function(t){D=null,A=e?t.y/e:0,P=x-v/2+d*v,C=P+A*v,c=i.getWidthAt(P),M=u-c/2,S=M+c,c=i.getWidthAt(C),w=u-c/2,L=w+c,P>m?(M=w=u-b/2,S=L=u+b/2):C>m&&(D=C,c=i.getWidthAt(m),w=u-c/2,L=w+c,C=m),r&&(P=2*x-P,C=2*x-C,null!==D&&(D=2*x-D)),z=[["M",M,P],["L",S,P],["L",L,C]],null!==D&&z.push(["L",L,D],["L",w,D]),z.push(["L",w,C],["Z"]),t.shapeType="path",t.shapeArgs={d:z},t.percentage=100*A,t.plotX=u,t.plotY=(P+(D||C))/2,t.tooltipPos=[u,t.plotY],t.dlBox={x:w,y:P,topWidth:S-M,bottomWidth:L-w,height:Math.abs(h(D,C)-P),width:NaN},t.slice=a,t.half=k,l&&!1===t.visible||(d+=A)})),n(i,"afterTranslate")},sortByAngle:function(t){t.sort((function(t,e){return t.plotY-e.plotY}))},drawDataLabels:function(){var t,e=this.data,i=this.options.dataLabels.distance,o=e.length;for(this.center[2]-=2*i;o--;){var s=e[o],a=(t=s.half)?1:-1,n=s.plotY;s.labelDistance=h(s.options.dataLabels&&s.options.dataLabels.distance,i),this.maxLabelDistance=Math.max(s.labelDistance,this.maxLabelDistance||0);var l=this.getX(n,t,s);s.labelPosition={natural:{x:0,y:n},final:{},alignment:t?"right":"left",connectorPosition:{breakAt:{x:l+(s.labelDistance-5)*a,y:n},touchingSliceAt:{x:l+s.labelDistance*a,y:n}}}}r[this.options.dataLabels.inside?"column":"pie"].prototype.drawDataLabels.call(this)},alignDataLabel:function(e,i,o,s,r){var a=e.series;s=a.options.reversed;var n=e.dlBox||e.shapeArgs,l=o.align,h=o.verticalAlign,p=((a.options||{}).dataLabels||{}).inside,c=a.center[1];a=a.getWidthAt((s?2*c-e.plotY:e.plotY)-n.height/2+i.height),a="middle"===h?(n.topWidth-n.bottomWidth)/4:(a-n.bottomWidth)/2,c=n.y;var d=n.x;"middle"===h?c=n.y-n.height/2+i.height/2:"top"===h&&(c=n.y-n.height+i.height+o.padding),("top"===h&&!s||"bottom"===h&&s||"middle"===h)&&("right"===l?d=n.x-o.padding+a:"left"===l&&(d=n.x+o.padding-a)),s={x:d,y:s?c-n.height:c,width:n.bottomWidth,height:n.height},o.verticalAlign="bottom",p&&!e.visible||t.Series.prototype.alignDataLabel.call(this,e,i,o,s,r),p&&(!e.visible&&e.dataLabel&&(e.dataLabel.placed=!1),e.contrastColor&&i.css({color:e.contrastColor}))}}),o(i,"afterHideAllOverlappingLabels",(function(){this.series.forEach((function(t){var e=t.options&&t.options.dataLabels;l(e)&&(e=e[0]),t.is("pie")&&t.placeDataLabels&&e&&!e.inside&&t.placeDataLabels()}))})),e.seriesType("pyramid","funnel",{neckWidth:"0%",neckHeight:"0%",reversed:!0})})),e(i,"masters/modules/funnel.src.js",[],(function(){}))}))},dd70:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"chart"})])},s=[],r=i("ea7f"),a=i.n(r),n=i("9523"),l=i.n(n),h=i("4082"),p=i.n(h);const c=["series"];function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){l()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={computed:{formattedOptions(){let t;switch(this.chartType){case"column":t=this.formatForColumn();break;case"comparecolumn":t=this.formatForCompare();break;case"bar":t=this.formatForBar();break;case"line":t=this.formatForLine();break;case"areaspline":t=this.formatForAreaSplin();break;case"area":t=this.formatForArea();break;case"pie":t=this.formatForPie();break;case"variablepie":t=this.formatForVariablePie();break;case"tree":t=this.formatForTree();break;case"pyramid":t=this.formatForPyramid();break}return a.a.merge(!0,this.defaultOptions,t,this.plotOptions,this.options.chartConfig||{})}},methods:{formatForCompare(){const t=this.formatForColumn(),{series:e}=t,i=p()(t,c);return e[1].id="main",e[0].linkedTo="main",e[0].pointPlacement=-.2,e[1].dataSorting={enabled:!0,matchByName:!0},f({chart:{type:"column"},series:e},i)},getColor(t){let e=this.options.colors||[],i=e[t]||t&&e[t%e.length]||e[0];return i&&{color:i}||{}},getSerieType(t){let e=this.options.serie_types||["column"];return{type:e[t]||t&&e[e.length%t]}},dataLayoutCreator(){let t={},e=[],i="string"===typeof this.options.xLabel?[this.options.xLabel]:this.options.xLabel;return this.chartData.map((o,s)=>{i.forEach(e=>{t[e]||(t[e]=[]),t[e].push(o[e])}),Object.entries(this.options.xPoints||{}).map((t,r)=>{let[a,n]=t;s?e.find(t=>t.key===a).data.push(o[a]||0):e.push(f(f(f({key:a,name:this.$l("platon."+n,n),data:[o[a]||0]},this.getColor(e.length)),this.getSerieType(r)),{},{stack:Math.floor(r/Math.ceil(Object.values(this.options.xPoints).length/i.length))}))})}),{categories:t,series:e,xLabels:i}},formatForColumn(){let{series:t,xLabels:e}=this.dataLayoutCreator();return{xAxis:e.map((t,e)=>({id:e,title:{text:this.$l("platon."+this.options.xTitle,this.options.xTitle||"")},visible:0===e,crosshair:!0,categories:this.options.chartConfig.xAxis.categories})),yAxis:{title:{text:this.$l("platon."+this.options.yTitle,this.options.yTitle||"")}},series:t}},formatForBar(){let{series:t,xLabels:e}=this.dataLayoutCreator();return{xAxis:e.map((t,e)=>({categories:this.options.chartConfig.xAxis.categories})),yAxis:{title:{text:this.$l("platon."+this.options.yTitle,this.options.yTitle||"")}},series:t}},formatForLine(){return f({},this.formatForColumn())},formatForArea(){let{series:t,categories:e,xLabels:i}=this.dataLayoutCreator();return t=t.map(t=>f(f({},t),{},{type:null})),{series:t,categories:e,xLabels:i}},formatForAreaSplin(){return f(f({},this.formatForBar()),{tooltip:{shared:!0,valueSuffix:this.options.suffix||""}})},formatForPie(){let t=[];return this.chartData.map(e=>{for(const[i,o]of Object.entries(this.options.xPoints))t.push(f({name:this.$l("platon."+e[i],e[i]),y:e[o]||0},this.getColor(t.length).color))}),{accessibility:{point:{valueSuffix:this.options.suffix||""}},series:[f({name:this.$l("platon."+this.options.title,this.options.title||"–ì—Ä–∞—Ñ–∏–∫"),data:t},this.options.semi?{innerSize:"50%"}:{})],tooltip:{pointFormat:this.options.format||`<b>{point.y} ${this.options.suffix}</b> ({point.percentage:.1f}%)`}}},formatForVariablePie(){let t=[],[e,i,o]=this.options.serieFields||[],s=0,r=0;return this.chartData.map(a=>{t.push(f({name:this.$l("platon."+a[e],a[e]),y:a[i]||0,z:a[o]||0},this.getColor(t.length))),s>a[i]&&(s=a[i]),r<a[i]&&(r=a[i])}),{accessibility:{point:{valueSuffix:this.options.suffix||""}},series:[{zMin:s,zMax:r,innerSize:"30%",name:this.$l("platon."+this.options.title,this.options.title||"–ì—Ä–∞—Ñ–∏–∫"),data:t}],tooltip:{headerFormat:"",pointFormat:this.options.format||`<b>{point.y} ${this.options.suffix}</b> ({point.percentage:.1f}%)`}}},formatForPyramid(){let t=[];for(const[e,i]of Object.entries(this.options.xPoints))this.chartData.map(o=>{t.push({y:o[i],name:o[e],color:this.getColor(t.length).color})});return{accessibility:{point:{valueSuffix:this.options.suffix||""}},series:[{name:this.$l("platon."+this.options.title,this.options.title||"–ì—Ä–∞—Ñ–∏–∫"),data:t}],tooltip:{pointFormat:this.options.format||`<b>{point.name} {point.y} ${this.options.suffix||""}</b>`}}},formatForTree(){let t=[],e=0;return this.chartData.map(i=>{t.push(f({name:i[this.options.pointFields.title]},i[this.options.pointFields.parent]?{parent:i[this.options.pointFields.parent].toString(),value:i[this.options.pointFields.value]}:{id:i[this.options.pointFields.id].toString(),color:this.getColor(e++).color}))}),{accessibility:{point:{valueSuffix:this.options.suffix||""}},series:[{type:"treemap",layoutAlgorithm:"stripes",alternateStartingDirection:!0,levels:[{level:1,layoutAlgorithm:"sliceAndDice",dataLabels:{enabled:!0,align:"left",verticalAlign:"top"}}],data:t}],tooltip:{pointFormat:this.options.format||`<b>{point.name} {point.y} ${this.options.suffix||""}</b>`}}}}},x=i("2584"),y=i("67d5"),v=i.n(y),b=i("5f8b"),g=i.n(b),m=i("cc5d"),z=i.n(m),A=i("fdf1"),M=i.n(A);v()(a.a),g()(a.a),z()(a.a),M()(a.a);var P={name:"platon-chart",mixins:[x["a"],u],props:{options:{type:Object}},data(){return{chart:null}},methods:{render(){this.chart=new a.a.Chart(this.$refs.chart,this.formattedOptions)}},mounted(){this.render()},watch:{options(){this.render()}}},S=P,w=i("2877"),C=Object(w["a"])(S,o,s,!1,null,null,null);e["default"]=C.exports},f0e4:function(t,e){function i(t,e){if(null==t)return{};var i,o,s={},r=Object.keys(t);for(o=0;o<r.length;o++)i=r[o],e.indexOf(i)>=0||(s[i]=t[i]);return s}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},fdf1:function(t,e,i){var o,s;(function(r){t.exports?(r["default"]=r,t.exports=r):(o=[i("ea7f")],s=function(t){return r(t),r.Highcharts=t,r}.apply(e,o),void 0===s||(t.exports=s))})((function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}t=t?t._modules:{},e(t,"Mixins/ColorMapSeries.js",[t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],(function(t,e,i){var o=i.defined;return{colorMapPointMixin:{dataLabelOnNull:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value},setState:function(t){e.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:"hover"===t?1:0})}},colorMapSeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:t.noop,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:t.seriesTypes.column.prototype.pointAttribs,colorAttribs:function(t){var e={};return o(t.color)&&(e[this.colorProp||"fill"]=t.color),e}}}})),e(t,"Mixins/DrawPoint.js",[],(function(){var t=function(t){return"function"===typeof t},e=function(e){var i,o=this,s=o.graphic,r=e.animatableAttribs,a=e.onComplete,n=e.css,l=e.renderer,h=null===(i=o.series)||void 0===i?void 0:i.options.animation;if(o.shouldDraw())s||(o.graphic=s=l[e.shapeType](e.shapeArgs).add(e.group)),s.css(n).attr(e.attribs).animate(r,!e.isNew&&h,a);else if(s){var p=function(){o.graphic=s=s.destroy(),t(a)&&a()};Object.keys(r).length?s.animate(r,void 0,(function(){p()})):p()}};return{draw:e,drawPoint:function(t){(t.attribs=t.attribs||{})["class"]=this.getClassName(),e.call(this,t)},isFn:t}})),e(t,"Mixins/TreeSeries.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],(function(t,e){var i=e.extend,o=e.isArray,s=e.isNumber,r=e.isObject,a=e.merge,n=e.pick;return{getColor:function(e,i){var o,s=i.index,r=i.mapOptionsToLevel,a=i.parentColor,l=i.parentColorIndex,h=i.series,p=i.colors,c=i.siblings,d=h.points,f=h.chart.options.chart;if(e){if(d=d[e.i],e=r[e.level]||{},r=d&&e.colorByPoint)var u=d.index%(p?p.length:f.colorCount),x=p&&p[u];h.chart.styledMode||(p=d&&d.options.color,f=e&&e.color,(o=a)&&(o=(o=e&&e.colorVariation)&&"brightness"===o.key?t.parse(a).brighten(s/c*o.to).get():a),o=n(p,f,x,o,h.color));var y=n(d&&d.options.colorIndex,e&&e.colorIndex,u,l,i.colorIndex)}return{color:o,colorIndex:y}},getLevelOptions:function(t){var e=null;if(r(t)){e={};var n=s(t.from)?t.from:1,l=t.levels,h={},p=r(t.defaults)?t.defaults:{};for(o(l)&&(h=l.reduce((function(t,e){if(r(e)&&s(e.level)){var o=a({},e),l="boolean"===typeof o.levelIsConstant?o.levelIsConstant:p.levelIsConstant;delete o.levelIsConstant,delete o.level,e=e.level+(l?0:n-1),r(t[e])?i(t[e],o):t[e]=o}return t}),{})),l=s(t.to)?t.to:1,t=0;t<=l;t++)e[t]=a({},p,r(h[t])?h[t]:{})}return e},setTreeValues:function t(e,o){var s=o.before,r=o.idRoot,a=o.mapIdToNode[r],l=o.points[e.i],h=l&&l.options||{},p=0,c=[];return i(e,{levelDynamic:e.level-("boolean"!==typeof o.levelIsConstant||o.levelIsConstant?0:a.level),name:n(l&&l.name,""),visible:r===e.id||"boolean"===typeof o.visible&&o.visible}),"function"===typeof s&&(e=s(e,o)),e.children.forEach((function(s,r){var a=i({},o);i(a,{index:r,siblings:e.children.length,visible:e.visible}),s=t(s,a),c.push(s),s.visible&&(p+=s.val)})),e.visible=0<p||e.visible,s=n(h.value,p),i(e,{children:c,childrenTotal:p,isLeaf:e.visible&&!p,val:s}),e},updateRootId:function(t){if(r(t)){var e=r(t.options)?t.options:{};e=n(t.rootNode,e.rootId,""),r(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e}return e}}})),e(t,"Series/TreemapSeries.js",[t["Core/Series/Series.js"],t["Core/Color/Color.js"],t["Mixins/ColorMapSeries.js"],t["Mixins/DrawPoint.js"],t["Core/Globals.js"],t["Mixins/LegendSymbol.js"],t["Core/Series/Point.js"],t["Mixins/TreeSeries.js"],t["Core/Utilities.js"]],(function(t,e,i,o,s,r,a,n,l){var h=t.seriesTypes,p=e.parse,c=i.colorMapSeriesMixin;e=s.noop;var d=n.getColor,f=n.getLevelOptions,u=n.updateRootId,x=l.addEvent,y=l.correctFloat,v=l.defined,b=l.error,g=l.extend,m=l.fireEvent,z=l.isArray,A=l.isNumber,M=l.isObject,P=l.isString,S=l.merge,w=l.objectEach,C=l.pick,L=l.stableSort,D=s.Series,k=function(t,e,i){i=i||this,w(t,(function(o,s){e.call(i,o,s,t)}))},T=function(t,e,i){i=i||this,t=e.call(i,t),!1!==t&&T(t,e,i)},j=!1;t.seriesType("treemap","scatter",{allowTraversingTree:!1,animationLimit:250,showInLegend:!1,marker:void 0,colorByPoint:!1,dataLabels:{defer:!1,enabled:!0,formatter:function(){var t=this&&this.point?this.point:{};return P(t.name)?t.name:""},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,drillUpButton:{position:{align:"right",x:-10,y:10}},traverseUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,colorKey:"colorValue",opacity:.15,states:{hover:{borderColor:"#999999",brightness:h.heatmap?0:.1,halo:!1,opacity:.75,shadow:!1}}},{pointArrayMap:["value"],directTouch:!0,optionalAxis:"colorAxis",getSymbol:e,parallelArrays:["x","y","value","colorValue"],colorKey:"colorValue",trackerGroups:["group","dataLabelsGroup"],getListOfParents:function(t,e){t=z(t)?t:[];var i=z(e)?e:[];return e=t.reduce((function(t,e,i){return e=C(e.parent,""),"undefined"===typeof t[e]&&(t[e]=[]),t[e].push(i),t}),{"":[]}),k(e,(function(t,e,o){""!==e&&-1===i.indexOf(e)&&(t.forEach((function(t){o[""].push(t)})),delete o[e])})),e},getTree:function(){var t=this.data.map((function(t){return t.id}));return t=this.getListOfParents(this.data,t),this.nodeMap={},this.buildNode("",-1,0,t)},hasData:function(){return!!this.processedXData.length},init:function(t,e){c&&(this.colorAttribs=c.colorAttribs);var i=x(this,"setOptions",(function(t){t=t.userOptions,v(t.allowDrillToNode)&&!v(t.allowTraversingTree)&&(t.allowTraversingTree=t.allowDrillToNode,delete t.allowDrillToNode),v(t.drillUpButton)&&!v(t.traverseUpButton)&&(t.traverseUpButton=t.drillUpButton,delete t.drillUpButton)}));D.prototype.init.call(this,t,e),delete this.opacity,this.eventsToUnbind.push(i),this.options.allowTraversingTree&&this.eventsToUnbind.push(x(this,"click",this.onClickDrillToNode))},buildNode:function(t,e,i,o,s){var r,a=this,n=[],l=a.points[e],h=0;return(o[t]||[]).forEach((function(e){r=a.buildNode(a.points[e].id,e,i+1,o,t),h=Math.max(r.height+1,h),n.push(r)})),e={id:t,i:e,children:n,height:h,level:i,parent:s,visible:!1},a.nodeMap[e.id]=e,l&&(l.node=e),e},setTreeValues:function(t){var e=this,i=e.options,o=e.nodeMap[e.rootNode];i="boolean"!==typeof i.levelIsConstant||i.levelIsConstant;var s=0,r=[],a=e.points[t.i];t.children.forEach((function(t){t=e.setTreeValues(t),r.push(t),t.ignore||(s+=t.val)})),L(r,(function(t,e){return(t.sortIndex||0)-(e.sortIndex||0)}));var n=C(a&&a.options.value,s);return a&&(a.value=n),g(t,{children:r,childrenTotal:s,ignore:!(C(a&&a.visible,!0)&&0<n),isLeaf:t.visible&&!s,levelDynamic:t.level-(i?0:o.level),name:C(a&&a.name,""),sortIndex:C(a&&a.sortIndex,-n),val:n}),t},calculateChildrenAreas:function(t,e){var i=this,o=i.options,s=i.mapOptionsToLevel[t.level+1],r=C(i[s&&s.layoutAlgorithm]&&s.layoutAlgorithm,o.layoutAlgorithm),a=o.alternateStartingDirection,n=[];t=t.children.filter((function(t){return!t.ignore})),s&&s.layoutStartingDirection&&(e.direction="vertical"===s.layoutStartingDirection?0:1),n=i[r](e,t),t.forEach((function(t,o){o=n[o],t.values=S(o,{val:t.childrenTotal,direction:a?1-e.direction:e.direction}),t.pointValues=S(o,{x:o.x/i.axisRatio,y:100-o.y-o.height,width:o.width/i.axisRatio}),t.children.length&&i.calculateChildrenAreas(t,t.values)}))},setPointValues:function(){var t=this,e=t.xAxis,i=t.yAxis,o=t.chart.styledMode;t.points.forEach((function(s){var r=s.node,a=r.pointValues;if(r=r.visible,a&&r){r=a.height;var n=a.width,l=a.x,h=a.y,p=o?0:(t.pointAttribs(s)["stroke-width"]||0)%2/2;a=Math.round(e.toPixels(l,!0))-p,n=Math.round(e.toPixels(l+n,!0))-p,l=Math.round(i.toPixels(h,!0))-p,r=Math.round(i.toPixels(h+r,!0))-p,s.shapeArgs={x:Math.min(a,n),y:Math.min(l,r),width:Math.abs(n-a),height:Math.abs(r-l)},s.plotX=s.shapeArgs.x+s.shapeArgs.width/2,s.plotY=s.shapeArgs.y+s.shapeArgs.height/2}else delete s.plotX,delete s.plotY}))},setColorRecursive:function(t,e,i,o,s){var r=this,a=r&&r.chart;if(a=a&&a.options&&a.options.colors,t){var n=d(t,{colors:a,index:o,mapOptionsToLevel:r.mapOptionsToLevel,parentColor:e,parentColorIndex:i,series:r,siblings:s});(e=r.points[t.i])&&(e.color=n.color,e.colorIndex=n.colorIndex),(t.children||[]).forEach((function(e,i){r.setColorRecursive(e,n.color,n.colorIndex,i,t.children.length)}))}},algorithmGroup:function(t,e,i,o){this.height=t,this.width=e,this.plot=o,this.startDirection=this.direction=i,this.lH=this.nH=this.lW=this.nW=this.total=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(t,e){return Math.max(t/e,e/t)}},this.addElement=function(t){this.lP.total=this.elArr[this.elArr.length-1],this.total+=t,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(t)},this.reset=function(){this.lW=this.nW=0,this.elArr=[],this.total=0}},algorithmCalcPoints:function(t,e,i,o){var s,r,a,n,l=i.lW,h=i.lH,p=i.plot,c=0,d=i.elArr.length-1;if(e)l=i.nW,h=i.nH;else var f=i.elArr[i.elArr.length-1];i.elArr.forEach((function(t){(e||c<d)&&(0===i.direction?(s=p.x,r=p.y,a=l,n=t/a):(s=p.x,r=p.y,n=h,a=t/n),o.push({x:s,y:r,width:a,height:y(n)}),0===i.direction?p.y+=n:p.x+=a),c+=1})),i.reset(),0===i.direction?i.width-=l:i.height-=h,p.y=p.parent.y+(p.parent.height-i.height),p.x=p.parent.x+(p.parent.width-i.width),t&&(i.direction=1-i.direction),e||i.addElement(f)},algorithmLowAspectRatio:function(t,e,i){var o,s=[],r=this,a={x:e.x,y:e.y,parent:e},n=0,l=i.length-1,h=new this.algorithmGroup(e.height,e.width,e.direction,a);return i.forEach((function(i){o=i.val/e.val*e.height*e.width,h.addElement(o),h.lP.nR>h.lP.lR&&r.algorithmCalcPoints(t,!1,h,s,a),n===l&&r.algorithmCalcPoints(t,!0,h,s,a),n+=1})),s},algorithmFill:function(t,e,i){var o,s,r,a,n,l=[],h=e.direction,p=e.x,c=e.y,d=e.width,f=e.height;return i.forEach((function(i){o=i.val/e.val*e.height*e.width,s=p,r=c,0===h?(n=f,a=o/n,d-=a,p+=a):(a=d,n=o/a,f-=n,c+=n),l.push({x:s,y:r,width:a,height:n}),t&&(h=1-h)})),l},strip:function(t,e){return this.algorithmLowAspectRatio(!1,t,e)},squarified:function(t,e){return this.algorithmLowAspectRatio(!0,t,e)},sliceAndDice:function(t,e){return this.algorithmFill(!0,t,e)},stripes:function(t,e){return this.algorithmFill(!1,t,e)},translate:function(){var t=this,e=t.options,i=u(t);D.prototype.translate.call(t);var o=t.tree=t.getTree(),s=t.nodeMap[i];t.renderTraverseUpButton(i),t.mapOptionsToLevel=f({from:s.level+1,levels:e.levels,to:o.height,defaults:{levelIsConstant:t.options.levelIsConstant,colorByPoint:e.colorByPoint}}),""===i||s&&s.children.length||(t.setRootNode("",!1),i=t.rootNode,s=t.nodeMap[i]),T(t.nodeMap[t.rootNode],(function(e){var i=!1,o=e.parent;return e.visible=!0,(o||""===o)&&(i=t.nodeMap[o]),i})),T(t.nodeMap[t.rootNode].children,(function(t){var e=!1;return t.forEach((function(t){t.visible=!0,t.children.length&&(e=(e||[]).concat(t.children))})),e})),t.setTreeValues(o),t.axisRatio=t.xAxis.len/t.yAxis.len,t.nodeMap[""].pointValues=i={x:0,y:0,width:100,height:100},t.nodeMap[""].values=i=S(i,{width:i.width*t.axisRatio,direction:"vertical"===e.layoutStartingDirection?0:1,val:o.val}),t.calculateChildrenAreas(o,i),t.colorAxis||e.colorByPoint||t.setColorRecursive(t.tree),e.allowTraversingTree&&(e=s.pointValues,t.xAxis.setExtremes(e.x,e.x+e.width,!1),t.yAxis.setExtremes(e.y,e.y+e.height,!1),t.xAxis.setScale(),t.yAxis.setScale()),t.setPointValues()},drawDataLabels:function(){var t,e,i=this,o=i.mapOptionsToLevel;i.points.filter((function(t){return t.node.visible})).forEach((function(s){e=o[s.node.level],t={style:{}},s.node.isLeaf||(t.enabled=!1),e&&e.dataLabels&&(t=S(t,e.dataLabels),i._hasPointLabels=!0),s.shapeArgs&&(t.style.width=s.shapeArgs.width,s.dataLabel&&s.dataLabel.css({width:s.shapeArgs.width+"px"})),s.dlOptions=S(t,s.options.dataLabels)})),D.prototype.drawDataLabels.call(this)},alignDataLabel:function(t,e,i){var o=i.style;!v(o.textOverflow)&&e.text&&e.getBBox().width>e.text.textWidth&&e.css({textOverflow:"ellipsis",width:o.width+="px"}),h.column.prototype.alignDataLabel.apply(this,arguments),t.dataLabel&&t.dataLabel.attr({zIndex:(t.node.zIndex||0)+1})},pointAttribs:function(t,e){var i=M(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},o=t&&i[t.node.level]||{};i=this.options;var s=e&&i.states[e]||{},r=t&&t.getClassName()||"";return t={stroke:t&&t.borderColor||o.borderColor||s.borderColor||i.borderColor,"stroke-width":C(t&&t.borderWidth,o.borderWidth,s.borderWidth,i.borderWidth),dashstyle:t&&t.borderDashStyle||o.borderDashStyle||s.borderDashStyle||i.borderDashStyle,fill:t&&t.color||this.color},-1!==r.indexOf("highcharts-above-level")?(t.fill="none",t["stroke-width"]=0):-1!==r.indexOf("highcharts-internal-node-interactive")?(e=C(s.opacity,i.opacity),t.fill=p(t.fill).setOpacity(e).get(),t.cursor="pointer"):-1!==r.indexOf("highcharts-internal-node")?t.fill="none":e&&(t.fill=p(t.fill).brighten(s.brightness).get()),t},drawPoints:function(){var t=this,e=t.chart,i=e.renderer,o=e.styledMode,s=t.options,r=o?{}:s.shadow,a=s.borderRadius,n=e.pointCount<s.animationLimit,l=s.allowTraversingTree;t.points.forEach((function(e){var h=e.node.levelDynamic,p={},c={},d={},f="level-group-"+e.node.level,u=!!e.graphic,x=n&&u,y=e.shapeArgs;e.shouldDraw()&&(a&&(c.r=a),S(!0,x?p:c,u?y:{},o?{}:t.pointAttribs(e,e.selected?"select":void 0)),t.colorAttribs&&o&&g(d,t.colorAttribs(e)),t[f]||(t[f]=i.g(f).attr({zIndex:1e3-(h||0)}).add(t.group),t[f].survive=!0)),e.draw({animatableAttribs:p,attribs:c,css:d,group:t[f],renderer:i,shadow:r,shapeArgs:y,shapeType:"rect"}),l&&e.graphic&&(e.drillId=s.interactByLeaf?t.drillToByLeaf(e):t.drillToByGroup(e))}))},onClickDrillToNode:function(t){var e=(t=t.point)&&t.drillId;P(e)&&(t.setState(""),this.setRootNode(e,!0,{trigger:"click"}))},drillToByGroup:function(t){var e=!1;return 1!==t.node.level-this.nodeMap[this.rootNode].level||t.node.isLeaf||(e=t.id),e},drillToByLeaf:function(t){var e=!1;if(t.node.parent!==this.rootNode&&t.node.isLeaf)for(t=t.node;!e;)t=this.nodeMap[t.parent],t.parent===this.rootNode&&(e=t.id);return e},drillUp:function(){var t=this.nodeMap[this.rootNode];t&&P(t.parent)&&this.setRootNode(t.parent,!0,{trigger:"traverseUpButton"})},drillToNode:function(t,e){b(32,!1,void 0,{"treemap.drillToNode":"use treemap.setRootNode"}),this.setRootNode(t,e)},setRootNode:function(t,e,i){t=g({newRootId:t,previousRootId:this.rootNode,redraw:C(e,!0),series:this},i),m(this,"setRootNode",t,(function(t){var e=t.series;e.idPreviousRoot=t.previousRootId,e.rootNode=t.newRootId,e.isDirty=!0,t.redraw&&e.chart.redraw()}))},renderTraverseUpButton:function(t){var e=this,i=e.options.traverseUpButton,o=C(i.text,e.nodeMap[t].name,"‚óÅ Back");if(""===t||e.is("sunburst")&&1===e.tree.children.length&&t===e.tree.children[0].id)e.drillUpButton&&(e.drillUpButton=e.drillUpButton.destroy());else if(this.drillUpButton)this.drillUpButton.placed=!1,this.drillUpButton.attr({text:o}).align();else{var s=(t=i.theme)&&t.states;this.drillUpButton=this.chart.renderer.button(o,0,0,(function(){e.drillUp()}),t,s&&s.hover,s&&s.select).addClass("highcharts-drillup-button").attr({align:i.position.align,zIndex:7}).add().align(i.position,!1,i.relativeTo||"plotBox")}},buildKDTree:e,drawLegendSymbol:r.drawRectangle,getExtremes:function(){var t=D.prototype.getExtremes.call(this,this.colorValueData),e=t.dataMax;return this.valueMin=t.dataMin,this.valueMax=e,D.prototype.getExtremes.call(this)},getExtremesFromAll:!0,setState:function(t){this.options.inactiveOtherPoints=!0,D.prototype.setState.call(this,t,!1),this.options.inactiveOtherPoints=!1},utils:{recursive:T}},{draw:o.drawPoint,setVisible:h.pie.prototype.pointClass.prototype.setVisible,getClassName:function(){var t=a.prototype.getClassName.call(this),e=this.series,i=e.options;return this.node.level<=e.nodeMap[e.rootNode].level?t+=" highcharts-above-level":this.node.isLeaf||C(i.interactByLeaf,!i.allowTraversingTree)?this.node.isLeaf||(t+=" highcharts-internal-node"):t+=" highcharts-internal-node-interactive",t},isValid:function(){return!(!this.id&&!A(this.value))},setState:function(t){a.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:"hover"===t?1:0})},shouldDraw:function(){return A(this.plotY)&&null!==this.y}}),x(s.Series,"afterBindAxes",(function(){var t=this.xAxis,e=this.yAxis;if(t&&e)if(this.is("treemap")){var i={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,dataMin:0,minPadding:0,max:100,dataMax:100,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};g(e.options,i),g(t.options,i),j=!0}else j&&(e.setOptions(e.userOptions),t.setOptions(t.userOptions),j=!1)}))})),e(t,"masters/modules/treemap.src.js",[],(function(){}))}))}}]);